function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n=e;if("object"==typeof e){n="";for(name in e){var o=e[name];n+=" "+name+": "+o}}if(1!=t||i||(n+=" "+Math.random()),1==i){var r=jQuery("#debug_line");r.width(200),r.height()>=500&&r.html(""),n=r.html()+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var t=null,i=this,n={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==i.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],i=document.createElement("div");for(var n in e){var o=e[n];if(o+"Transform"in i.style)return o=o.toLowerCase(),t=o,o}return t="",""},this.getImageInsideParentDataByImage=function(e,t,n){var o=e.parent(),r=i.getImageOriginalSize(e);return i.getImageInsideParentData(o,r.width,r.height,t,n)},this.getImageInsideParentData=function(e,t,i,n,o,r,s){if(!o)var o={};var a={};if(void 0===r)var r=e.width();if(void 0===s)var s=e.height();o.padding_left&&(r-=o.padding_left),o.padding_right&&(r-=o.padding_right),o.padding_top&&(s-=o.padding_top),o.padding_bottom&&(s-=o.padding_bottom);var l=null,u="100%",d=null,c=null,h="display:block;margin:0px auto;";if(t>0&&i>0){if("down"==n&&r>t&&s>i)u=i,l=t,c=(r-l)/2,d=(s-u)/2;else if("fill"==n)r>(l=(u=s)*(p=t/i))?(l=r,u=l/p,c=0,d=Math.round((u-s)/2*-1)):(d=0,c=Math.round((l-r)/2*-1));else{var p=t/i;d=0,c=(r-(l=(u=s)*p))/2,"fitvert"!=n&&l>r&&(l=r,u=l/p,c=0,d=(s-u)/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),c=Math.floor(c),h="position:absolute;"}return o.padding_top&&(d+=o.padding_top),o.padding_left&&(c+=o.padding_left),a.imageWidth=l,a.imageHeight=u,a.imageTop=d,a.imageLeft=c,a.imageRight=c+l,a.imageBottom=0==d||"100%"==u?null:d+u,a.style=h,a},this.getElementCenterPosition=function(e,t){var n=e.parent(),o=i.getElementSize(e),r=i.getElementSize(n),s=r.width,a=r.height;t&&void 0!==t.padding_top&&(a-=t.padding_top),t&&void 0!==t.padding_bottom&&(a-=t.padding_bottom),t&&void 0!==t.padding_left&&(s-=t.padding_left),t&&void 0!==t.padding_right&&(s-=t.padding_right);var l={};return l.left=Math.round((s-o.width)/2),l.top=Math.round((a-o.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var n=i.getElementSize(e),o={};return o.x=n.width/2,o.y=n.height/2,1==t&&(o.x+=n.left,o.y+=n.top),o.x=Math.round(o.x),o.y=Math.round(o.y),o},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var n={x:e.pageX,y:e.pageY};return i.getElementLocalPoint(n,t)},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var o={};if(void 0===n.naturalWidth){if("number"==typeof e.data("naturalWidth"))return(o={}).width=e.data("naturalWidth"),o.height=e.data("naturalHeight"),o;var r=new Image;return r.src=n.src,r.complete?(o.width=r.width,o.height=r.height,e.data("naturalWidth",o.width),e.data("naturalHeight",o.height),o):{width:0,height:0}}return o.width=n.naturalWidth,o.height=n.naturalHeight,o},this.getimageRatio=function(e){var t=i.getImageOriginalSize(e);return i.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),n=i.getElementSize(e),o=i.getElementSize(t);return n.width<=o.width&&n.height<=o.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),n=i.getElementSize(e),o=i.getElementSize(t);return n.width>o.width||n.height>o.height},this.isPointInsideElement=function(e,t){return 0!=(e.x>=0&&e.x<t.width)&&0!=(e.y>=0&&e.y<t.height)},this.getElementRelativePos=function(e,t,n,o){if(!o)var o=e.parent();if("number"==typeof e)r={width:e,height:e};else var r=i.getElementSize(e);var s=i.getElementSize(o);switch(t){case"top":case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((s.width-r.width)/2),n&&(t+=n);break;case"right":t=s.width-r.width,n&&(t-=n);break;case"middle":t=Math.round((s.height-r.height)/2),n&&(t+=n);break;case"bottom":t=s.height-r.height,n&&(t-=n)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,n,o,r,s,a){if(!n)var n=1.2;if(!r)var r="fit";var l,u,d,c,h=n,p=e.parent(),f=i.getElementSize(e),g=i.getImageOriginalSize(e),m=!1,_=0,v=0,b=0,y=0;if(o){var w=i.getMouseElementPoint(o,e);m=i.isPointInsideElement(w,f),b=w.x,y=w.y}else m=!1;if(0==m){var x=i.getElementCenterPoint(e);b=x.x,y=x.y}if(1==t)l=f.height*h,u=f.width*h,0!=b&&(_=-(b*h-b)),0!=y&&(v=-(y*h-y));else{if(l=f.height/h,(u=f.width/h)<i.getImageInsideParentData(p,g.width,g.height,r,a).imageWidth)return i.scaleImageFitParent(e,g.width,g.height,r,a),!0;1==m&&(0!=b&&(_=-(b/h-b)),0!=y&&(v=-(y/h-y)))}if(s){var T=1;if(0!=g.width&&(T=u/g.width),T>s)return!1}if(i.setElementSize(e,u,l),0==t&&0==m){var C=i.getElementCenterPosition(e);d=C.left,c=C.top}else d=f.left+_,c=f.top+v;return i.placeElement(e,d,c),!0},this.placeElement=function(e,t,n,o,r,s){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(n)){if(!s)var s=e.parent();var a=i.getElementSize(e),l=i.getElementSize(s)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,o&&(t+=o);break;case"center":t=Math.round((l.width-a.width)/2),o&&(t+=o);break;case"right":t=l.width-a.width,o&&(t-=o)}if(0==jQuery.isNumeric(n))switch(n){case"top":n=0,r&&(n+=r);break;case"middle":case"center":n=Math.round((l.height-a.height)/2),r&&(n+=r);break;case"bottom":n=l.height-a.height,r&&(n-=r)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==n&&(u.top=n),e.css(u)},this.placeElementInParentCenter=function(e){i.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,o){var r={width:n+"px",height:o+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(r)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!==i&&void 0!==i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,n,o,r){var s=e.position();if(void 0==s)throw new Error("Can't get size, empty element");!0===n?(s.height=e.outerHeight(),s.width=e.outerWidth()):(s.height=e.height(),s.width=e.width()),s.left=Math.round(s.left),s.top=Math.round(s.top),o&&(s.left+=o),r&&(s.top+=r),i.setElementSizeAndPosition(t,s.left,s.top,s.width,s.height)},this.placeImageInsideParent=function(e,t,n,o,r,s){var a=i.getImageInsideParentData(t,n,o,r,s),l="<img";return null!==a.imageWidth&&(l+=" width = '"+a.imageWidth+"'",a.style+="width:"+a.imageWidth+";"),null!=a.imageHeight&&("100%"==a.imageHeight?(l+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+";"):(l+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+"px;")),null!==a.imageTop&&(a.style+="top:"+a.imageTop+"px;"),null!==a.imageLeft&&(a.style+="left:"+a.imageLeft+"px;"),e=i.escapeDoubleSlash(e),l+=" style='"+a.style+"'",l+=' src="'+e+'"',l+=">",t.html(l),t.children("img")},this.scaleImageCoverParent=function(e,t,n){if("number"==typeof t)var o=t,r=n;else var o=t.outerWidth(),r=t.outerHeight();var s=i.getImageOriginalSize(e),a=s.width/s.height,l=r,u=l*a,d=0,c=0;o>u?(u=o,l=u/a,c=0,d=Math.round((l-r)/2*-1)):(d=0,c=Math.round((u-o)/2*-1)),u=Math.round(u),l=Math.round(l),e.css({width:u+"px",height:l+"px",left:c+"px",top:d+"px"})},this.scaleImageFitParent=function(e,t,n,o,r){var s=e.parent(),a=i.getImageInsideParentData(s,t,n,o,r),l=!1,u={};return null!==a.imageWidth&&(l=!0,e.removeAttr("width"),u.width=a.imageWidth+"px"),null!=a.imageHeight&&(l=!0,e.removeAttr("height"),u.height=a.imageHeight+"px"),null!==a.imageTop&&(l=!0,u.top=a.imageTop+"px"),null!==a.imageLeft&&(l=!0,u.left=a.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u)),a},this.scaleImageByHeight=function(e,t,n,o){var r=i.getImageOriginalSize(e,n,o),s=r.width/r.height,a=Math.round(t*s);t=Math.round(t),i.setElementSize(e,a,t)},this.scaleImageByWidth=function(e,t,n,o){var r=i.getImageOriginalSize(e,n,o),s=r.width/r.height,a=Math.round(t/s);t=Math.round(t),i.setElementSize(e,t,a)},this.scaleImageExactSizeInParent=function(e,t,n,o,r,s){var a=e.parent(),l=i.getElementSize(a);l.width<o&&(o=l.width),l.height<r&&(r=l.height);var u=i.getImageInsideParentData(null,t,n,s,null,o,r),d=o,c=r,h=u.imageLeft,p=u.imageLeft,f=u.imageTop,g=u.imageTop,m=Math.round((l.width-o)/2),_=Math.round((l.height-r)/2),v=o-(u.imageWidth+h+p);0!=v&&(p+=v),0!=(v=r-(u.imageHeight+f+g))&&(g+=v),e.removeAttr("width"),e.removeAttr("height");var b={position:"absolute",margin:"0px 0px"};b.width=d+"px",b.height=c+"px",b.left=m+"px",b.top=_+"px",b["padding-left"]=h+"px",b["padding-top"]=f+"px",b["padding-right"]=p+"px",b["padding-bottom"]=g+"px",e.css(b);var y={};return y.imageWidth=d,y.imageHeight=c,y},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==i.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,i){if(!t)return e;var n={};return jQuery.each(e,function(e,o){if(0===e.indexOf(t+"_"+i+"_")){var r=e.replace(t+"_"+i+"_",i+"_");n[r]=o}else n[e]=o}),n},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==i.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,o,r){if(!r)var r=!1;return o=e+(t-e)*((o-i)/(n-i)),1==r&&(e>o&&(o=e),o>t&&(o=t)),o},this.getNormalizedValue=function(e,t,i,n,o){return o=e+(n-i)*((o-e)/(t-e))},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var o={};return o.x=e+Math.round((i-e)/2),o.y=t+Math.round((n-t)/2),o},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return 0>e?-1:0>t?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t);return i.getIndexByRowCol(n.row-1,n.col,t)},this.getNextRowSameColIndex=function(e,t){var n=i.getColRowByIndex(e,t);return i.getIndexByRowCol(n.row+1,n.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==i.isTouchDevice())return null;var t=i.getStoredEventData(e);if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>15?t.scrollDir="hor":Math.abs(t.diffMouseY)>15&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),n.dataCache[e].scrollStartY=t.lastMouseClientY,n.dataCache[e].scrollOrigin=t.scrollOrigin),n.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var o=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return o>=0&&jQuery(document).scrollTop(o),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===i.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,o){var r=i.getMousePosition(e),s=jQuery.now(),a={startTime:s,lastTime:s,startMouseX:r.pageX,startMouseY:r.pageY,lastMouseX:r.pageX,lastMouseY:r.pageY,startMouseClientY:r.clientY,lastMouseClientY:r.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};o&&(a=jQuery.extend(a,o)),n.dataCache[t]=a},this.updateStoredEventData=function(e,t,o){if(!n.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var r=n.dataCache[t],s=i.getMousePosition(e);r.lastTime=jQuery.now(),void 0!==s.pageX&&(r.lastMouseX=s.pageX,r.lastMouseY=s.pageY,r.lastMouseClientY=s.clientY),o&&(r=jQuery.extend(r,o)),n.dataCache[t]=r},this.getStoredEventData=function(e,t){if(!n.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=n.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!n.dataCache[e])return!0;var o=i.getStoredEventData(e,t),r=Math.abs(o.diffMousePos);return!(o.diffTime>400)&&!(r>30)},this.clearStoredEventData=function(e){n.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==n.isTouchDevice)return n.isTouchDevice;try{document.createEvent("TouchEvent"),n.isTouchDevice=!0}catch(e){n.isTouchDevice=!1}return n.isTouchDevice},this.isRgbaSupported=function(){if(-1!==n.isRgbaSupported)return n.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,n.isRgbaSupported=i,i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,o=t.length;o>n;n++){var r=parseInt(t[n]),s=parseInt(i[n]);if(void 0===i[n])return!0;if(s>r)return!1;if(r>s)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),i=t.getDate()+"/"+t.getMonth();return i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){n.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-n.starTime},!0)},this.initProgressIndicator=function(e,t,n){switch("bar"!=e&&0==i.isCanvasExists()&&(e="bar"),e){case"bar":(o=new UGProgressBar).putHidden(n,t);break;default:case"pie":(o=new UGProgressPie).putHidden(n,t);break;case"pie2":t.type_fill=!0;var o=new UGProgressPie;o.putHidden(n,t)}return o},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){n.arrThemes.push(e)},this.getArrThemes=function(){return n.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,n.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==n.arrThemes.length?"":n.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)var t=100;var i=jQuery.now();0==n.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=n.timeCache[e];var o=i-lastTime;return n.timeCache[e]=i,!(t>=o)},this.whenContiniousEventOver=function(e,t,i){if(!i)var i=300;1==n.timeCache.hasOwnProperty(e)&&null!=n.timeCache[e]&&(clearTimeout(n.timeCache[e]),n.timeCache[e]=null),n.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-n.lastEventTime;return"click"==e&&"touchstart"==n.lastEventType&&1e3>i&&(t=!1),n.lastEventTime=jQuery.now(),n.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown")},this.setButtonOnClick=function(e,t){i.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==i.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(e,t,i){function n(e,n){o++,"function"==typeof i&&setTimeout(function(){i(e,n)}),o==r&&"function"==typeof t&&setTimeout(function(){t()})}var o=0,r=e.length;return 0==r&&t?(t(),!1):void setTimeout(function(){for(var t=0;r>t;t++){var i=e[t];if(void 0!==i.naturalWidth&&0!==i.naturalWidth)n(e[t],!1);else{var o=jQuery("<img/>");o.data("index",t),o.on("load",function(){var t=jQuery(this).data("index");n(e[t],!1)}),o.on("error",function(){var t=jQuery(this).data("index");n(e[t],!0)}),o.attr("src",i.src)}}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(n.handle=setInterval(function(){0!=(i=e.width())&&(clearInterval(n.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return 0>e&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t,i,n){var o={width:e+"px",height:t+"px"},r={width:e-P.thumbInnerReduce+"px",height:t-P.thumbInnerReduce+"px"},s=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(o),i.children(s).css(r)):(x.children(".ug-thumb-wrapper").css(o),x.find(s).css(r))}function t(e,t,i,n){if(!n)var n=!1;I.isFakeFullscreen()&&(n=!0);var o=e.children(".ug-thumb-border-overlay"),r={};r["border-width"]=t+"px",0!=t&&(r["border-color"]=i),n&&!0===n?(o.css(r),0==t?o.hide():o.show()):(0==t?o.stop().fadeOut(S.thumb_transition_duration):o.show().stop().fadeIn(S.thumb_transition_duration),a(o,r))}function i(e,t,i){var n=e.children(".ug-thumb-overlay"),o=S.thumb_transition_duration;i&&!0===i&&(o=0),t?n.stop(!0).fadeTo(o,P.colorOverlayOpacity):n.stop(!0).fadeTo(o,0)}function n(e,t,i){var n=e.children("img.ug-thumb-image"),o=e.children("img.ug-thumb-image-overlay"),r=S.thumb_transition_duration;i&&!0===i&&(r=0),t?o.stop(!0).fadeTo(r,1):(n.fadeTo(0,1),o.stop(!0).fadeTo(r,0))}function o(e,o){P.isEffectBorder&&t(e,S.thumb_selected_border_width,S.thumb_selected_border_color,o),P.isEffectOverlay&&i(e,1==S.thumb_overlay_reverse,o),P.isEffectImage&&n(e,!1,o),C.trigger(T.events.SETSELECTEDSTYLE,e)}function r(e){var t=T.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==P.customThumbs?(C.trigger(T.events.IMAGELOADERROR,e),!0):(e.children(".ug-thumb-loader").hide(),void e.children(".ug-thumb-error").show())}function s(){if(S.thumb_round_corners_radius<=0)return!1;var e={"border-radius":S.thumb_round_corners_radius+"px"};x.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}function a(e,t){e.stop(!0).animate(t,{duration:S.thumb_transition_duration,easing:S.thumb_transition_easing,queue:!1})}function l(e){1==h(e)?o(e,!0,"redraw"):T.setThumbNormalStyle(e,!0,"redraw")}function u(t,i,n){if(1==S.thumb_fixed_size)E.scaleImageCoverParent(i,t);else{"height"==S.thumb_resize_by?E.scaleImageByHeight(i,S.thumb_height):E.scaleImageByWidth(i,S.thumb_width);var o=E.getElementSize(i);E.placeElement(i,0,0),e(o.width,o.height,t)}t.children(".ug-thumb-loader").hide(),i.show(),0==S.thumb_image_overlay_effect?i.fadeTo(0,1):(1==S.thumb_image_overlay_effect&&d(i),i.fadeTo(0,0),l(t)),C.trigger(T.events.AFTERPLACEIMAGE,t)}function d(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var i=E.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==P.customThumbs&&t.fadeTo(0,1)}function c(){var e="",t=S.thumb_image_overlay_type.split(",");for(var i in t)switch(t[i]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}return e}function h(e){return!!e.hasClass("ug-thumb-selected")}function p(t,i){i=jQuery(i);var n=(T.getItemByThumb(i),E.getElementSize(i));e(n.width,n.height,i,!0),l(i)}function f(e){return 1==P.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==h(e)&&T.setThumbOverStyle(e))}function g(e){return 1==P.touchEnabled||void(0==h(e)&&T.setThumbNormalStyle(e,!1))}function m(e,t){if(!t)var t=!1;var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");return 0!=n.parent().length&&(objItem=T.getItemByThumb(n),(1!=objItem.isLoaded||!1!==t)&&(T.triggerImageLoadedEvent(n,i),void(1==P.customThumbs?C.trigger(T.events.PLACEIMAGE,[n,i]):u(n,i,objItem))))}function _(e,t,i){objItem=T.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=E.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width}var v,b,y,w,x,T=this,C=jQuery(T),I=new UniteGalleryMain,E=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var S={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},P={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},j={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){b=e.getObjects(),I=e,v=jQuery(e),y=b.g_objWrapper,w=b.g_arrItems,S=jQuery.extend(S,t),P.isEffectBorder=S.thumb_border_effect,P.isEffectOverlay=S.thumb_color_overlay_effect,P.isEffectImage=S.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){x=e;var t=I.getNumItems();if(1==P.isEffectImage)var i=c();for(var n=0;t>n;n++){var o=w[n],r="";0==P.customThumbs&&(r=" ug-thumb-generated");l="<div class='ug-thumb-wrapper"+r+"' "+("style='z-index:"+(o.index+1)+";'")+"></div>";if(1==S.thumb_wrapper_as_link){var s=o.link;""==o.link&&(s="javascript:void(0)");var a="";1==S.thumb_link_newpage&&o.link&&(a=" target='_blank'");var l="<a href='"+s+"'"+a+" class='ug-thumb-wrapper"+r+"'></a>"}var u=jQuery(l),d=o.objThumbImage;if(0==P.customThumbs){if(1==S.thumb_show_loader&&d){var h="ug-thumb-loader-dark";"bright"==S.thumb_loader_type&&(h="ug-thumb-loader-bright"),u.append("<div class='ug-thumb-loader "+h+"'></div>"),u.append("<div class='ug-thumb-error' style='display:none'></div>")}if(d){if(d.addClass("ug-thumb-image"),1==S.thumb_image_overlay_effect){var p=d.clone().appendTo(u);p.addClass("ug-thumb-image-overlay "+i).removeClass("ug-thumb-image"),p.fadeTo(0,0),o.objImageOverlay=p}u.append(d)}}P.isEffectBorder&&u.append("<div class='ug-thumb-border-overlay'></div>"),P.isEffectOverlay&&u.append("<div class='ug-thumb-overlay'></div>"),x.append(u),P.customThumbs&&P.funcSetCustomThumbHtml(u,o),w[n].objThumbWrapper=u}},this.setThumbNormalStyle=function(e,o,r){1==P.customThumbs&&e.removeClass("ug-thumb-over"),P.isEffectBorder&&t(e,S.thumb_border_width,S.thumb_border_color,o),P.isEffectOverlay&&i(e,1!=S.thumb_overlay_reverse,o),P.isEffectImage&&n(e,!0,o),C.trigger(T.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){1==P.customThumbs&&e.addClass("ug-thumb-over"),P.isEffectBorder&&t(e,S.thumb_over_border_width,S.thumb_over_border_color),P.isEffectOverlay&&i(e,1==S.thumb_overlay_reverse),1==P.isEffectImage&&n(e,!1),C.trigger(T.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){if(0==P.customThumbs&&(1==S.thumb_fixed_size&&e(S.thumb_width,S.thumb_height),s()),x.children(".ug-thumb-wrapper").each(function(){l(jQuery(this))}),P.isEffectOverlay&&S.thumb_overlay_color){var t={};if(E.isRgbaSupported()){var i=E.convertHexToRGB(S.thumb_overlay_color,S.thumb_overlay_opacity);t["background-color"]=i}else t["background-color"]=S.thumb_overlay_color,P.colorOverlayOpacity=S.thumb_overlay_opacity;x.find(".ug-thumb-wrapper .ug-thumb-overlay").css(t)}},this.setThumbSelected=function(e){return 1==P.customThumbs&&e.removeClass("ug-thumb-over"),1==h(e)||(e.addClass("ug-thumb-selected"),void o(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),T.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){S=jQuery.extend(S,e)},this.setThumbInnerReduce=function(e){P.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(P.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");P.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(P.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(P.isEffectBorder=!1),P.isEffectImage=!1,i&&!1===i.allow_onresize&&(P.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return S},this.getNumThumbs=function(){return w.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=T.getThumbs();if(e>=t.length||0>e)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(){return x.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),w[t]},this.isThumbLoaded=function(e){return T.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:S.thumb_width,height:S.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=x.find(".ug-thumb-wrapper");e.on("touchstart",function(){P.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),1==P.allowOnResize&&y.on(j.eventSizeChange,p),e.hover(function(e){f(jQuery(this))},function(e){g(jQuery(this))}),C.on(T.events.THUMB_IMAGE_LOADED,_)},this.destroy=function(){var e=x.find(".ug-thumb-wrapper");e.off("touchstart"),y.off(j.eventSizeChange),e.off("mouseenter"),e.off("mouseleave"),C.off(T.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=x.find(".ug-thumb-image");E.checkImagesLoaded(e,null,function(e,t){0==t?m(e,!0):r(jQuery(e).parent())})},this.triggerImageLoadedEvent=function(e,t){C.trigger(T.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){x.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,i){I=e.getObjects(),(M=e).attachThumbsPanel("strip",O),C=jQuery(e),E=I.g_objWrapper,S=I.g_arrItems,$=jQuery.extend($,i),1==(z=$.strip_vertical_type)&&($=jQuery.extend($,R),$=jQuery.extend($,i),i.thumb_resize_by="width"),D.init(e,i),t()}function t(){var e=D.getOptions();L.isNotFixedThumbs=!1===e.thumb_fixed_size,z=$.strip_vertical_type}function n(){D.setHtmlProperties(),r(),l(),a(),0==L.isRunOnce&&(1==$.strip_control_touch&&(k=new UGTouchThumbsControl).init(O),1==$.strip_control_avia&&(A=new UGAviaControl).init(O),g(),D.loadThumbsImages(),y()),L.isRunOnce=!0}function o(e){H.stripSize=e,H.stripActiveSize=0==z?H.stripSize-$.strip_padding_left-$.strip_padding_right:H.stripSize-$.strip_padding_top-$.strip_padding_bottom,H.stripActiveSize<0&&(H.stripActiveSize=0)}function r(){var e=j.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),r=D.getOptions();0==z?(H.thumbSize=i,1==r.thumb_fixed_size?H.thumbSecondSize=n:H.thumbSecondSize=r.thumb_height,o(P.width()),H.stripInnerSize=j.width()):(H.thumbSize=n,1==r.thumb_fixed_size?H.thumbSecondSize=i:H.thumbSecondSize=r.thumb_width,o(P.height()),H.stripInnerSize=j.height())}function s(e){0==z?j.width(e):j.height(e),H.stripInnerSize=e,g(),jQuery(O).trigger(O.events.INNER_SIZE_CHANGE)}function a(){var e=j.children(".ug-thumb-wrapper"),t=0,n=0;for(0==z&&(n=$.strip_padding_top),i=0;i<e.length;i++){var o=jQuery(e[i]);if(1==L.isNotFixedThumbs){if(objItem=D.getItemByThumb(o),0==objItem.isLoaded)continue;o.show()}N.placeElement(o,t,n),0==z?t+=o.outerWidth()+$.strip_space_between_thumbs:n+=o.outerHeight()+$.strip_space_between_thumbs}if(0==z)r=t-$.strip_space_between_thumbs;else var r=n-$.strip_space_between_thumbs;s(r)}function l(){if(0==z){var e=H.thumbSecondSize;(i={}).height=e+"px",(n={}).height=e+"px"}else{var t=H.thumbSecondSize,i={};i.width=t+"px";var n={};n.width=t+"px"}P.css(i),j.css(n)}function u(e){var t=O.getInnerStripPos()+e;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function d(e){var t=-1*T(e).min;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function c(e){var t=-1*T(e).max+H.stripSize;t=O.fixInnerStripLimits(t),O.positionInnerStrip(t,!0)}function h(e){if(0==w())return!1;var t=x(),i=T(e);if(i.min<t.minPosThumbs){var n=e.prev();d(n.length?n:e)}else if(i.max>t.maxPosThumbs){var o=e.next();c(o.length?o:e)}}function p(){var e=M.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&h(t)}function f(){if(0==w())return!1;var e=O.getInnerStripPos(),t=O.fixInnerStripLimits(e);e!=t&&O.positionInnerStrip(t,!0)}function g(){1==w()?(A&&A.enable(),k&&k.enable()):(A&&A.disable(),k&&k.disable())}function m(){return!w()&&void(0==z?N.placeElement(j,$.strip_thumbs_align,0):N.placeElement(j,0,$.strip_thumbs_align))}function _(e){if(O.isTouchMotionActive()&&1==k.isSignificantPassed())return!0;var t=D.getItemByThumb(e);M.selectItem(t)}function v(){clearTimeout(L.handle),L.handle=setTimeout(function(){a()},50)}function b(){var e=M.getSelectedItem();D.setThumbSelected(e.objThumbWrapper),h(e.objThumbWrapper)}function y(){D.initEvents(),P.find(".ug-thumb-wrapper").on("click touchend",function(e){_(jQuery(this))}),C.on(M.events.ITEM_CHANGE,b),L.isNotFixedThumbs&&jQuery(D).on(D.events.AFTERPLACEIMAGE,v)}function w(){return H.stripInnerSize>H.stripActiveSize}function x(){var e={},t=O.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+H.stripSize-1,e}function T(e){var t={},i=e.position();return 0==z?(t.min=i.left,t.max=i.left+H.thumbSize):(t.min=i.top,t.max=i.top+H.thumbSize),t}var C,I,E,S,P,j,A,k,O=this,M=new UniteGalleryMain,N=new UGFunctions,z=!1,D=new UGThumbsGeneral,N=new UGFunctions,$={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},L={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},H={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var R={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=E;null!=$.parent_container&&(e=$.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),P=e.children(".ug-thumbs-strip"),j=P.children(".ug-thumbs-strip-inner"),D.setHtmlThumbs(j),1==L.isNotFixedThumbs&&D.hideThumbs()},this.destroy=function(){var e=P.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),C.off(M.events.ITEM_CHANGE),jQuery(D).off(D.events.AFTERPLACEIMAGE),k&&k.destroy(),A&&A.destroy(),D.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i){e(t,i)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==z)i={left:e+"px"};else var i={top:e+"px"};0==t?(j.css(i),O.triggerStripMoveEvent()):(O.triggerStripMoveEvent(),j.stop(!0).animate(i,{duration:$.strip_scroll_to_thumb_duration,easing:$.strip_scroll_to_thumb_easing,queue:!1,progress:function(){O.triggerStripMoveEvent()},always:function(){O.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(O).trigger(O.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!k&&k.isTouchActive()},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*O.getInnerStripPos();if(0==z)var o=n+H.stripSize,r=i.left,s=i.left+t.width();else var o=n+H.stripSize,r=i.top,s=i.top+t.height();var a=!1;return s>=n&&o>=r&&(a=!0),a},this.getInnerStripPos=function(){return 0==z?j.position().left:j.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==z?$.strip_padding_left:$.strip_padding_top,e.minPos=-(H.stripInnerSize-H.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=O.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){u(-H.stripSize)},this.scrollBack=function(){u(H.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){$=jQuery.extend($,e),D.setOptions(e),t()},this.setSizeVertical=function(e){if(0==z)throw new Error("setSizeVertical error, the strip size is not vertical");var t=H.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",P.css(i),o(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",j.css(n),L.is_placed=!0,g()},this.setSizeHorizontal=function(e){if(1==z)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=H.thumbSecondSize+$.strip_padding_top+$.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",P.css(i),o(e);var n=$.strip_padding_left,r={};r.height=t+"px",r.left=n+"px",r.top="0px",j.css(r),L.is_placed=!0,g()},this.setPosition=function(e,t,i,n){N.placeElement(P,e,t,i,n)},this.resize=function(e){0==z?(P.width(e),H.stripActiveSize=e-$.strip_padding_left-$.strip_padding_right):(P.height(e),H.stripActiveSize=e-$.strip_padding_top-$.strip_padding_bottom),o(e),g(),f(),m(),p()},this.setThumbUnselected=function(e){D.setThumbUnselected(e)},this.setCustomThumbs=function(e){D.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=D.getOptions(),t=jQuery.extend($,e);return{g_gallery:M,g_objGallery:C,g_objWrapper:E,g_arrItems:S,g_objStrip:P,g_objStripInner:j,g_aviaControl:A,g_touchThumbsControl:k,isVertical:z,g_options:t,g_thumbs:D}},this.getObjThumbs=function(){return D},this.getSelectedThumb=function(){var e=M.getSelectedItemIndex();return-1==e?null:D.getThumbByIndex(e)},this.getSizeAndPosition=function(){return N.getElementSize(P)},this.getHeight=function(){return P.outerHeight()},this.getWidth=function(){return P.outerWidth()},this.getSizes=function(){return H},this.isVertical=function(){return z},this.isPlaced=function(){return L.is_placed},this.isMoveEnabled=function(){return w()}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=C.lastTime-C.startTime,t.lastActiveTime=e-C.buttonReleaseTime,t.passedDistance=C.lastPos-C.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){T.thumb_touch_slowFactor=x.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function i(e){return 0==w?x.getMousePosition(e).pageX:x.getMousePosition(e).pageY}function n(e){var t=C.mousePos-e,i=C.innerPos-t,n=f.getInnerStripLimits();if(i>n.maxPos){o=i-n.maxPos;i=n.maxPos+o/3}if(i<n.minPos){var o=n.minPos-i;i=n.minPos-o/3}f.positionInnerStrip(i)}function o(e){var t=f.getInnerStripPos();C.mousePos=e,C.innerPos=t,C.lastPortionPos=t,C.lastDeltaTime=0,C.lastDeltaPos=0,C.startTime=jQuery.now(),C.startPos=C.innerPos,C.lastTime=C.startTime,C.lastPos=C.startPos,C.speed=0}function r(){var e=jQuery.now();e-C.lastTime>=T.touch_portion_time&&(C.lastDeltaTime=e-C.lastTime,C.lastDeltaTime>T.touch_portion_time&&(C.lastDeltaTime=T.touch_portion_time),C.lastDeltaPos=C.lastPos-C.lastPortionPos,C.lastPortionPos=C.lastPos,C.lastTime=e)}function s(){var e=T.thumb_touch_slowFactor,t=T.minDeltaTime,i=T.minPath,n=f.getInnerStripPos(),o=jQuery.now()-C.lastTime,r=n-C.lastPortionPos;t>o&&C.lastDeltaTime>0&&(o=C.lastDeltaTime,r=C.lastDeltaPos+r),t>o&&(o=t);var s=r>0?1:-1,l=0;o>0&&(l=r/o);var u=l*l/(2*e)*s;Math.abs(u)<=i&&(u=0);var d=f.getInnerStripPos(),c=d+u,h=f.fixInnerStripLimits(c),p=f.getInnerStripLimits(),g=T.limitsBreakAddition,m=!1,_=h;if(c>p.maxPos&&(m=!0,h=g,g>c&&(h=c)),c<p.minPos){m=!0;var v=p.minPos-g;h=v,c>v&&(h=c)}var y=h-d,x=Math.abs(Math.round(l/e));if(0!=u&&(x=x*y/u),d!=h){var I={left:h+"px"};1==w&&(I={top:h+"px"}),b.animate(I,{duration:x,easing:T.animationEasing,queue:!0,progress:a})}if(1==m){var E=T.returnAnimateSpeed,S={left:_+"px"};1==w&&(S={top:_+"px"}),b.animate(S,{duration:E,easing:T.returnAnimationEasing,queue:!0,progress:a})}}function a(){C.lastPos=f.getInnerStripPos(),f.triggerStripMoveEvent()}function l(){return 1==C.loop_active||(C.loop_active=!0,void(C.handle=setInterval(r,10)))}function u(e){if(0==C.loop_active)return!0;e&&s(i(e)),C.loop_active=!1,C.handle=clearInterval(C.handle)}function d(e){return 0==C.isControlEnabled||(C.buttonReleaseTime=jQuery.now(),0==C.touch_active?(u(e),!0):(e.preventDefault(),C.touch_active=!1,u(e),void v.removeClass("ug-dragging")))}function c(e){if(0==C.isControlEnabled)return!0;e.preventDefault(),C.touch_active=!0;var t=i(e);b.stop(!0),o(t),l(),v.addClass("ug-dragging")}function h(e){if(0==C.isControlEnabled)return!0;if(0==C.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return C.touch_active=!1,u(e),!0;var t=i(e);C.lastPos=f.getInnerStripPos(),n(t),r()}function p(){v.bind("mousedown touchstart",c),jQuery(window).add("body").bind("mouseup touchend",d),jQuery("body").bind("mousemove touchmove",h)}var f,g,m,_,v,b,y,w,x=new UGFunctions,T={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},C={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){C.isControlEnabled=!0},this.disable=function(){C.isControlEnabled=!1},this.init=function(e){f=e,_=e.getObjects(),g=_.g_gallery,m=_.g_objGallery,v=_.g_objStrip,b=_.g_objStripInner,y=_.g_options,w=_.isVertical,t(),p()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300||t.passedDistanceAbs>30},this.isTouchActive=function(){return 1==C.touch_active||(1==b.is(":animated")||e().lastActiveTime<50)},this.destroy=function(){v.unbind("mousedown"),v.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(n.orientation){case"right":case"left":i={left:e+"px"};break;case"top":case"bottom":var i={top:e+"px"}}r.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(n.orientation){case"right":case"left":h.placeElement(r,e,null);break;case"top":case"bottom":h.placeElement(r,null,e)}}function i(){a.trigger(o.events.FINISH_MOVE)}var n,o,r,s,a,l,u,d=new UniteGalleryMain,c=this,h=new UGFunctions;this.init=function(e,t,i,r,l){n=t,o=i,d=e,s=r,a=l,u=jQuery(d)},this.setHtml=function(e){if(r=e,"strip"==n.panelType)t=s.strippanel_enable_handle;else var t=s.gridpanel_enable_handle;if(1==t&&((l=new UGPanelHandle).init(o,r,s,n.panelType,d),l.setHtml()),!0===n.isDisabledAtStart){r.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){r.children(".ug-overlay-disabled").hide()},n.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(s){if(!s)var s=!1;return!r.is(":animated")&&(0!=n.isClosed&&(n.isClosed=!1,a.trigger(o.events.OPEN_PANEL),void(!1===s?e(n.originalPos,i):(t(n.originalPos),i()))))},this.closePanel=function(s){if(!s)var s=!1;if(r.is(":animated"))return!1;if(1==n.isClosed)return!1;var l=c.getClosedPanelDest();n.isClosed=!0,a.trigger(o.events.CLOSE_PANEL),!1===s?e(l,i):(t(l),i())},this.setClosedState=function(e){n.originalPos=e,a.trigger(o.events.CLOSE_PANEL),n.isClosed=!0},this.setOpenedState=function(e){a.trigger(o.events.OPEN_PANEL),n.isClosed=!1},this.getClosedPanelDest=function(){var e,t=h.getElementSize(r);switch(n.orientation){case"left":n.originalPos=t.left,e=-n.panelWidth;break;case"right":n.originalPos=t.left,e=(i=d.getSize()).width;break;case"top":n.originalPos=t.top,e=-n.panelHeight;break;case"bottom":n.originalPos=t.top;var i=d.getSize();e=i.height}return e},this.isPanelClosed=function(){return n.isClosed},this.setDisabledAtStart=function(e){return!(0>=e)&&(n.isDisabledAtStart=!0,void(n.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){a.removeClass("ug-button-hover")}function t(){a.addClass("ug-button-closed")}function i(){a.removeClass("ug-button-closed")}function n(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)||void(s.isPanelClosed()?s.openPanel():s.closePanel())}function o(){switch(s.getOrientation()){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var r,s,a,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,o){switch(s=e,r=t,n){case"grid":u.panel_handle_align=i.gridpanel_handle_align,u.panel_handle_offset=i.gridpanel_handle_offset,u.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=i.strippanel_handle_align,u.panel_handle_offset=i.strippanel_handle_offset,u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var a=o.getOptions().gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=a)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(s.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}r.append("<div class='"+e+" ug-skin-"+u.panel_handle_skin+"'></div>"),a=r.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(a),a.bind("click touchstart",n),jQuery(s).on(s.events.OPEN_PANEL,function(){e(),i()}),jQuery(s).on(s.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(a),jQuery(s).off(s.events.OPEN_PANEL),jQuery(s).off(s.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(a);o();var t=s.getOrientation();switch(t){case"left":l.placeElement(a,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(a,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(a,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(a,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==a.is(":visible")&&a.hide()},this.showHandle=function(){0==a.is(":visible")&&a.show()}}function UGStripPanel(){function e(e,t){C=e,_=jQuery(C);var i=!1;1==(P=jQuery.extend(P,t)).strippanel_vertical_type&&(P=jQuery.extend(P,j),i=!0),0==P.strippanel_enable_buttons&&(P=jQuery.extend(P,A),i=!0),1==i&&(P=jQuery.extend(P,t));var n=C.getOptions().gallery_skin;""==P.strippanel_buttons_skin&&(P.strippanel_buttons_skin=n),v=C.getElement(),S.init(C,k,x,P,T),(E=new UGThumbsStrip).init(C,P)}function t(){if(0==P.strippanel_vertical_type){if(0==k.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==k.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==k.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function i(){return(1!=k.isFirstRun||0!=t())&&(E.run(),a(),d(),m(),k.isFirstRun=!1,void p())}function n(e){if(!e)var e=v;if(e.append("<div class='ug-strip-panel'></div>"),b=e.children(".ug-strip-panel"),1==P.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==P.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),b.append("<div class='ug-strip-arrow "+t+" ug-skin-"+P.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),b.append("<div class='ug-strip-arrow "+i+" ug-skin-"+P.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}S.setHtml(b),E.setHtml(b),1==P.strippanel_enable_buttons&&(w=b.children("."+t),y=b.children("."+i)),o()}function o(){""!=P.strippanel_background_color&&b.css("background-color",P.strippanel_background_color)}function r(){var e=E.getHeight(),t=k.panelWidth;if(y){w.height(e),y.height(e);var i=w.children(".ug-strip-arrow-tip");I.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");I.placeElement(n,"center","middle")}var o=e+P.strippanel_padding_top+P.strippanel_padding_bottom;b.width(t),b.height(o),k.panelHeight=o;var r=t-P.strippanel_padding_left-P.strippanel_padding_right;y&&(r=r-2*y.outerWidth()-2*P.strippanel_padding_buttons),E.resize(r)}function s(){var e=E.getWidth(),t=k.panelHeight;if(y){w.width(e),y.width(e);var i=w.children(".ug-strip-arrow-tip");I.placeElement(i,"center","middle");var n=y.children(".ug-strip-arrow-tip");I.placeElement(n,"center","middle")}var o=e+P.strippanel_padding_left+P.strippanel_padding_right;b.width(o),b.height(t),k.panelWidth=o;var r=t-P.strippanel_padding_top-P.strippanel_padding_bottom;y&&(r=r-2*y.outerHeight()-2*P.strippanel_padding_buttons),E.resize(r)}function a(){0==P.strippanel_vertical_type?r():s()}function l(){y&&(I.placeElement(w,"left","top",P.strippanel_padding_left,P.strippanel_padding_top),I.placeElement(y,"right","top",P.strippanel_padding_right,P.strippanel_padding_top));var e=P.strippanel_padding_left;y&&(e+=y.outerWidth()+P.strippanel_padding_buttons),E.setPosition(e,P.strippanel_padding_top)}function u(){y&&(I.placeElement(w,"left","top",P.strippanel_padding_left,P.strippanel_padding_top),I.placeElement(y,"left","bottom",P.strippanel_padding_left,P.strippanel_padding_bottom));var e=P.strippanel_padding_top;y&&(e+=y.outerHeight()+P.strippanel_padding_buttons),E.setPosition(P.strippanel_padding_left,e)}function d(){0==P.strippanel_vertical_type?l():u(),S.placeElements()}function c(e){return!!I.isButtonDisabled(e)||void("advance_item"==P.strippanel_buttons_role?C.nextItem():E.scrollForeward())}function h(e){return!!I.isButtonDisabled(e)||void("advance_item"==P.strippanel_buttons_role?C.prevItem():E.scrollBack())}function p(){if(!y)return!0;if(0==E.isMoveEnabled())return I.disableButton(w),I.disableButton(y),!0;var e=E.getInnerStripLimits(),t=E.getInnerStripPos();t>=e.maxPos?I.disableButton(w):I.enableButton(w),t<=e.minPos?I.disableButton(y):I.enableButton(y)}function f(){p()}function g(){C.isLastItem()?I.disableButton(y):I.enableButton(y),C.isFirstItem()?I.disableButton(w):I.enableButton(w)}function m(){if(1==k.isEventsInited)return!1;k.isEventsInited=!0,y&&(I.addClassOnHover(y,"ug-button-hover"),I.addClassOnHover(w,"ug-button-hover"),I.setButtonOnClick(w,h),I.setButtonOnClick(y,c),"advance_item"!=P.strippanel_buttons_role?(jQuery(E).on(E.events.STRIP_MOVE,f),jQuery(E).on(E.events.INNER_SIZE_CHANGE,p),_.on(C.events.SIZE_CHANGE,p)):0==C.getOptions().gallery_carousel&&jQuery(C).on(C.events.ITEM_CHANGE,g)),S.initEvents()}var _,v,b,y,w,x=this,T=jQuery(this),C=new UniteGalleryMain,I=new UGFunctions,E=new UGThumbsStrip,S=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var P={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},j={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},k={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&&(I.destroyButton(y),I.destroyButton(w),jQuery(E).off(E.events.STRIP_MOVE),jQuery(C).off(C.events.ITEM_CHANGE),jQuery(C).off(C.events.SIZE_CHANGE)),S.destroy(),E.destroy()},this.getOrientation=function(){return k.orientation},this.setOrientation=function(e){k.orientation=e},this.init=function(t,i){e(t,i)},this.run=function(){i()},this.setHtml=function(e){n(e)},this.getElement=function(){return b},this.getSize=function(){return I.getElementSize(b)},this.setWidth=function(e){k.panelWidth=e},this.setHeight=function(e){k.panelHeight=e},this.resize=function(e){x.setWidth(e),a(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return S.isPanelClosed()},this.getClosedPanelDest=function(){return S.getClosedPanelDest()},this.openPanel=function(e){S.openPanel(e)},this.closePanel=function(e){S.closePanel(e)},this.setOpenedState=function(e){S.setOpenedState(e)},this.setClosedState=function(e){S.setClosedState(e)},this.setCustomThumbs=function(e){E.setCustomThumbs(e)},this.setDisabledAtStart=function(e){S.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,i){S=e,t(),i&&i.vertical_scroll&&(k.gridpanel_vertical_scroll=i.vertical_scroll),k=jQuery.extend(k,i),1==N.isHorType?(k=jQuery.extend(k,M),k=jQuery.extend(k,i)):1==k.gridpanel_vertical_scroll&&(k=jQuery.extend(k,O),k=jQuery.extend(k,i),k.grid_panes_direction="bottom");var n=S.getOptions().gallery_skin;""==k.gridpanel_arrows_skin&&(k.gridpanel_arrows_skin=n);var o=e.getObjects();w=o.g_objWrapper,A.init(S,N,I,k,E),(j=new UGThumbsGrid).init(S,k)}function t(){if(null==N.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function i(){t(),r(),j.run(),l(),u(),y(),d()}function n(){w.append("<div class='ug-grid-panel'></div>"),x=w.children(".ug-grid-panel"),N.isHorType?(x.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),C=x.children(".grid-arrow-left-hortype"),T=x.children(".grid-arrow-right-hortype")):0==k.gridpanel_vertical_scroll?(x.append("<div class='grid-arrow grid-arrow-left ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-right ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),C=x.children(".grid-arrow-left"),T=x.children(".grid-arrow-right")):(x.append("<div class='grid-arrow grid-arrow-up ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-down ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),C=x.children(".grid-arrow-up"),T=x.children(".grid-arrow-down")),A.setHtml(x),C.fadeTo(0,0),T.fadeTo(0,0),j.setHtml(x),o()}function o(){""!=k.gridpanel_background_color&&x.css("background-color",k.gridpanel_background_color)}function r(){"center"==k.gridpanel_grid_align&&(k.gridpanel_grid_align="middle")}function s(){var e=k.gridpanel_padding_border_top+k.gridpanel_padding_border_bottom,t=N.panelHeight-e;if(0==k.gridpanel_arrows_always_on&&1==j.getNumPanesEstimationByHeight(t))return t;e=P.getElementSize(T).height+k.gridpanel_arrows_padding_vert;return 1==k.gridpanel_vertical_scroll&&(e*=2),e+=k.gridpanel_padding_border_top+k.gridpanel_padding_border_bottom,t=N.panelHeight-e}function a(){var e=k.gridpanel_padding_border_left+k.gridpanel_padding_border_right,t=N.panelWidth-e;return 0==k.gridpanel_arrows_always_on&&1==j.getNumPanesEstimationByWidth(t)?t:(e+=2*(P.getElementSize(T).width+k.gridpanel_arrows_padding_hor),t=N.panelWidth-e)}function l(){var e=!1;1==k.gridpanel_arrows_always_on?e=!0:j.getNumPanes()>1&&(e=!0),1==e?(T.show().fadeTo(0,1),C.show().fadeTo(0,1),N.arrowsVisible=!0):(T.hide(),C.hide(),N.arrowsVisible=!1)}function u(){var e=j.getSize();1==N.isHorType?N.panelHeight=e.height+k.gridpanel_padding_border_top+k.gridpanel_padding_border_bottom:N.panelWidth=e.width+k.gridpanel_padding_border_left+k.gridpanel_padding_border_right,P.setElementSize(x,N.panelWidth,N.panelHeight)}function d(){return 1!=N.isEventsInited&&(N.isEventsInited=!0,C&&(P.addClassOnHover(C),j.attachPrevPaneButton(C)),T&&(P.addClassOnHover(T),j.attachNextPaneButton(T)),void A.initEvents())}function c(){return k.gridpanel_padding_border_left}function h(){var e=k.gridpanel_grid_align,t=0;switch(e){case"top":t=k.gridpanel_padding_border_top;break;case"bottom":t=k.gridpanel_padding_border_bottom}var i=c(),n=j.getElement();P.placeElement(n,i,e,0,t)}function p(){var e,t,i,n,o=P.getElementSize(C),r=j.getSize();switch(k.gridpanel_grid_align){default:case"top":e=k.gridpanel_padding_border_top+o.height+k.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=N.panelHeight-r.height-o.height-k.gridpanel_padding_border_bottom-k.gridpanel_arrows_padding_vert}var s=c(),a=j.getElement();P.placeElement(a,s,e);r=j.getSize();switch(k.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(r.top-o.height)/2,i=r.bottom+(N.panelHeight-r.bottom-o.height)/2,n=0;break;case"grid":t=r.top-o.height-k.gridpanel_arrows_padding_vert_vert,i=r.bottom+k.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=k.gridpanel_padding_border_top,i="bottom",n=k.gridpanel_padding_border_bottom}P.placeElement(C,"center",t),P.placeElement(T,"center",i,0,n)}function f(){1==N.arrowsVisible?p():h()}function g(){var e,t,i,n=P.getElementSize(C),o=j.getSize(),r=k.gridpanel_padding_border_top;switch(k.gridpanel_grid_align){case"middle":switch(k.gridpanel_arrows_align_vert){default:s=o.height+k.gridpanel_arrows_padding_vert+n.height;r=(N.panelHeight-s)/2;break;case"border":case"borders":r=(N.panelHeight-n.height-k.gridpanel_padding_border_bottom-o.height)/2}break;case"bottom":var s=o.height+n.height+k.gridpanel_arrows_padding_vert;r=N.panelHeight-s-k.gridpanel_padding_border_bottom}var a=j.getElement(),l=c();P.placeElement(a,l,r);o=j.getSize();switch(k.gridpanel_arrows_align_vert){default:case"center":case"middle":e=o.bottom+(N.panelHeight-o.bottom-n.height)/2,i=0;break;case"grid":e=o.bottom+k.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=k.gridpanel_padding_border_bottom}t=-n.width/2-k.gridpanel_space_between_arrows/2,P.placeElement(C,"center",e,t,i);var u=Math.abs(t);P.placeElement(T,"center",e,u,i)}function m(){1==N.arrowsVisible?g():h()}function _(){var e,t,i,n,o=P.getElementSize(C),r=j.getSize();switch(k.gridpanel_grid_align){default:case"left":e=k.gridpanel_padding_border_left+k.gridpanel_arrows_padding_hor+o.width;break;case"middle":case"center":e="center";break;case"right":e=N.panelWidth-r.width-o.width-k.gridpanel_padding_border_right-k.gridpanel_arrows_padding_hor}var s=j.getElement();switch(P.placeElement(s,e,k.gridpanel_padding_border_top),r=j.getSize(),k.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(r.height-o.height)/2+r.top;break;case"top":n=k.gridpanel_padding_border_top+k.gridpanel_arrows_padding_vert;break;case"bottom":n=N.panelHeight-k.gridpanel_padding_border_bottom-k.gridpanel_arrows_padding_vert-o.height}switch(k.gridpanel_arrows_align_hor){default:case"borders":t=k.gridpanel_padding_border_left,i=N.panelWidth-k.gridpanel_padding_border_right-o.width;break;case"grid":t=r.left-k.gridpanel_arrows_padding_hor-o.width,i=r.right+k.gridpanel_arrows_padding_hor;break;case"center":t=(r.left-o.width)/2,i=r.right+(N.panelWidth-r.right-o.width)/2}P.placeElement(C,t,n),P.placeElement(T,i,n)}function v(){var e,t=j.getSize();switch(k.gridpanel_grid_align){default:case"left":e=k.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=N.panelWidth-t.width-k.gridpanel_padding_border_right}var i=j.getElement();P.placeElement(i,e,k.gridpanel_padding_border_top)}function b(){1==N.arrowsVisible?_():v()}function y(){0==N.isHorType?1==k.gridpanel_vertical_scroll?f():m():b(),A.placeElements()}var w,x,T,C,I=this,E=jQuery(this),S=new UniteGalleryMain,P=new UGFunctions,j=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var k={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},O={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},M={gridpanel_grid_align:"center"},N={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){C&&P.destroyButton(C),T&&P.destroyButton(T),A.destroy(),j.destroy()},this.getOrientation=function(){return N.orientation},this.setOrientation=function(e){switch(N.orientation=e,e){case"right":case"left":N.isHorType=!1;break;case"top":case"bottom":N.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==N.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+N.orientation+"). Please use setWidth");N.panelHeight=e;var t=s();j.setMaxHeight(t)},this.setWidth=function(e){if(0==N.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+N.orientation+"). Please use setHeight");N.panelWidth=e;var t=a();j.setMaxWidth(t)},this.init=function(t,i){e(t,i)},this.setHtml=function(){n()},this.run=function(){i()},this.getElement=function(){return x},this.getSize=function(){return P.getElementSize(x)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,i){if(D=e.getObjects(),(Q=e).attachThumbsPanel("grid",F),z=jQuery(e),$=D.g_objWrapper,L=D.g_arrItems,!0===i&&(q.isTilesMode=!0),q.numThumbs=L.length,c(t),1==q.isTilesMode){U.setFixedMode(),U.setApproveClickFunction(S),U.init(e,Y);var n=U.getOptions();q.tileMaxHeight=n.tile_height,q.tileMaxWidth=n.tile_width,B=U.getObjThumbs()}else t.thumb_fixed_size=!0,B.init(e,t)}function t(e){var t=$;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),H=t.children(".ug-thumbs-grid"),R=H.children(".ug-thumbs-grid-inner"),1==q.isTilesMode?U.setHtml(R):B.setHtmlThumbs(R)}function n(){if(0==q.isHorizontal){if(0==q.gridHeight)throw new Error("You must set height before run.")}else if(0==q.gridWidth)throw new Error("You must set width before run.")}function o(){var e=Q.getSelectedItem();if(n(),1==q.isFirstTimeRun?(N(),1==q.isTilesMode?(s(),u(),U.run()):(B.setHtmlProperties(),u(),B.loadThumbsImages())):1==q.isTilesMode&&1==s()&&(u(),U.run()),g(),1==q.isFirstTimeRun&&q.isTilesMode){var t=B.getThumbs();t.each(function(e,t){$.trigger(q.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&d(e.index),W.trigger(F.events.PANE_CHANGE,q.currentPane),q.isFirstTimeRun=!1}function r(){if(1==q.isTilesMode)e=U.getGlobalTileSize();else var e=B.getGlobalThumbSize();return e}function s(){if(0==q.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=Q.isMobileMode(),i=q.spaceBetweenCols;1==t?(q.spaceBetweenCols=Y.grid_space_between_mobile,q.spaceBetweenRows=Y.grid_space_between_mobile):(q.spaceBetweenCols=Y.grid_space_between_cols,q.spaceBetweenRows=Y.grid_space_between_rows),q.spaceBetweenCols!=i&&(e=!0);var n=r().width,o=q.tileMaxWidth;return G.getNumItemsInSpace(q.gridWidth,q.tileMaxWidth,q.spaceBetweenCols)<Y.grid_min_cols&&(o=G.getItemSizeInSpace(q.gridWidth,Y.grid_min_cols,q.spaceBetweenCols)),U.setTileSizeOptions(o),o!=n&&(e=!0),e}function a(){var e=r().height,t=q.gridWidth,i=Y.grid_num_rows*e+(Y.grid_num_rows-1)*q.spaceBetweenRows+2*Y.grid_padding;q.gridHeight=i,G.setElementSize(H,t,i),G.setElementSize(R,t,i),q.innerWidth=t,q.innerHeight=i}function l(){var e=r().width,t=Y.grid_num_cols*e+(Y.grid_num_cols-1)*q.spaceBetweenCols+2*Y.grid_padding,i=q.gridHeight;q.gridWidth=t,G.setElementSize(H,t,i),G.setElementSize(R,t,i),q.innerWidth=t,q.innerHeight=i}function u(){0==q.isHorizontal?l():a()}function d(e){var t=C(e);return-1!=t&&void F.gotoPane(t,"scroll")}function c(e){Y=jQuery.extend(Y,e),B.setOptions(e),q.isNavigationVertical="top"==Y.grid_panes_direction||"bottom"==Y.grid_panes_direction,q.spaceBetweenCols=Y.grid_space_between_cols,q.spaceBetweenRows=Y.grid_space_between_rows}function h(){var e=R.children(".ug-thumb-wrapper"),t=0,n=0,o=0,r=0,s=0,a=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(r);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);G.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t>s&&(s=t);var h=n+c;h>a&&(a=h);var p=s+d;p>q.innerWidth&&(q.innerWidth=p),t+=d+q.spaceBetweenCols,++o>=Y.grid_num_cols&&(n+=c+q.spaceBetweenRows,t=r,o=0),1==q.numPanes&&q.numThumbsInPane++,n+c>q.gridHeight&&(n=0,r=q.innerWidth+q.spaceBetweenCols,t=r,o=0,1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=a,H.height(q.gridHeight)),i<l-1&&(q.numPanes++,q.arrPanes.push(r)))}R.width(q.innerWidth),1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=a,H.height(a))}function p(){var e=R.children(".ug-thumb-wrapper"),t=0,n=0,o=0,r=0,s=0,a=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(s);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);G.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t+=d+q.spaceBetweenCols;var h=n+c;h>o&&(o=h),++r>=Y.grid_num_cols&&(n+=c+q.spaceBetweenRows,t=s,r=0),1==q.numPanes&&q.numThumbsInPane++,h=n+c;var p=a+q.gridHeight;h>p&&(1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=o,H.height(q.gridHeight),p=q.gridHeight),n=p+q.spaceBetweenRows,a=n,s=0,t=s,r=0,i<l-1&&(q.numPanes++,q.arrPanes.push(n)))}R.height(o),q.innerHeight=o,1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=o,H.height(o))}function f(){var e=R.children(".ug-thumb-wrapper"),t=Y.grid_padding,n=Y.grid_padding,o=n,r=t,s=0,a=0,l=0,u=0,d=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(t-Y.grid_padding);var c=e.length;for(i=0;i<c;i++){var h=jQuery(e[i]),p=h.outerWidth(),f=h.outerHeight();r-t+p>q.gridWidth&&(d++,o=0,d>=Y.grid_num_rows?(d=0,t=r,o=n,l=0,1==q.numPanes&&(q.gridWidth=s+Y.grid_padding,H.width(q.gridWidth),q.gridHeight=u+Y.grid_padding,H.height(q.gridHeight)),q.numPanes++,q.arrPanes.push(t-Y.grid_padding)):(r=t,o=l+q.spaceBetweenRows)),G.placeElement(h,r,o);var g=r+p;g>s&&(s=g);var m=o+f;m>l&&(l=m),m>u&&(u=m),m>a&&(a=m),(g=s+p)>q.innerWidth&&(q.innerWidth=g),r+=p+q.spaceBetweenCols,1==q.numPanes&&q.numThumbsInPane++}q.innerWidth=s+Y.grid_padding,q.innerHeight=u+Y.grid_padding,R.width(q.innerWidth),R.height(q.innerHeight),1==q.numPanes&&(q.gridWidth=s+Y.grid_padding,q.gridHeight=u+Y.grid_padding,H.width(q.gridWidth),H.height(q.gridHeight))}function g(){0==q.isHorizontal?q.isNavigationVertical?p():h():f()}function m(e){if(0>e||e>=q.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function _(e){if(e>=q.numPanes||0>e)throw new Error("Pane "+index+" doesn't exists.");return!0}function v(e){var t=x(e);return 0!=t&&void R.css(t)}function b(e){var t=x(e);return 0!=t&&void R.stop(!0).animate(t,{duration:Y.grid_transition_duration,easing:Y.grid_transition_easing,queue:!1})}function y(){b(-q.arrPanes[q.currentPane])}function w(){return 1==q.isNavigationVertical?q.gridHeight:q.gridWidth}function x(e){var t={};return 1==q.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function T(){var e=G.getElementSize(R);return 1==q.isNavigationVertical?e.top:e.left}function C(e){return 0==m(e)?-1:Math.floor(e/q.numThumbsInPane)}function I(){if(1==q.numPanes)return!1;var e=G.getStoredEventData(q.storedEventID),t=e.diffTime,i=T(),n=Math.abs(i-e.startInnerPos);return n>30||n>5&&t>300}function E(){var e=G.getStoredEventData(q.storedEventID),t=T();diffPos=Math.abs(e.startInnerPos-t);var i=w(),n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&diffPos>25}function S(){return 1==q.numPanes||G.isApproveStoredEventClick(q.storedEventID,q.isNavigationVertical)}function P(e){if(1==I())return!0;var t=jQuery(this),i=B.getItemByThumb(t);Q.selectItem(i)}function j(e){if(1==q.numPanes)return!0;if(1==q.touchActive)return!0;0==q.isTilesMode&&e.preventDefault(),q.touchActive=!0;var t={startInnerPos:T()};G.storeEventData(e,q.storedEventID,t)}function A(){return 0!=Y.grid_vertical_scroll_ondrag&&(1!=q.isNavigationVertical&&"vert"===G.handleScrollTop(q.storedEventID))}function k(e){if(0==q.touchActive)return!0;e.preventDefault(),G.updateStoredEventData(e,q.storedEventID);var t=G.getStoredEventData(q.storedEventID,q.isNavigationVertical);if(A())return!0;var i=t.diffMousePos,n=t.startInnerPos+i,o=i>0?"prev":"next",r=q.arrPanes[q.numPanes-1];0==Y.grid_carousel&&n>0&&"prev"==o&&(n/=3),0==Y.grid_carousel&&-r>n&&"next"==o&&(n=t.startInnerPos+i/3),v(n)}function O(e){if(0==q.touchActive)return!0;G.updateStoredEventData(e,q.storedEventID);var t=G.getStoredEventData(q.storedEventID,q.isNavigationVertical);if(q.touchActive=!1,0==E())return y(),!0;"next"==(T()-t.startInnerPos>0?"prev":"next")?0==Y.grid_carousel&&F.isLastPane()?y():F.nextPane():0==Y.grid_carousel&&F.isFirstPane()?y():F.prevPane()}function M(){var e=Q.getSelectedItem();B.setThumbSelected(e.objThumbWrapper),d(e.index)}function N(){0==q.isTilesMode?(B.initEvents(),H.find(".ug-thumb-wrapper").on("click touchend",P),z.on(Q.events.ITEM_CHANGE,M)):U.initEvents(),H.bind("mousedown touchstart",j),jQuery("body").bind("mousemove touchmove",k),jQuery(window).add("body").bind("mouseup touchend",O)}var z,D,$,L,H,R,F=this,W=jQuery(this),Q=new UniteGalleryMain,G=new UGFunctions,B=new UGThumbsGeneral,U=new UGTileDesign,Y={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var q={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==q.isTilesMode){var e=H.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),z.on(Q.events.ITEM_CHANGE),B.destroy()}else U.destroy();H.unbind("mousedown"),H.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),W.off(F.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){B.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return C(e.index)==q.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==q.isTilesMode)i=Y.tile_height;else var t=B.getOptions(),i=t.thumb_height;var n=B.getNumThumbs(),o=Math.ceil(n/Y.grid_num_cols),r=o*i+(o-1)*q.spaceBetweenRows;return Math.ceil(r/e)},this.getNumPanesEstimationByWidth=function(e){if(q.isTilesMode)i=Y.tile_width;else var t=B.getOptions(),i=t.thumb_width;var n=B.getNumThumbs(),o=Math.ceil(n/Y.grid_num_rows),r=o*i+(o-1)*q.spaceBetweenCols;return Math.ceil(r/e)},this.getHeightEstimationByWidth=function(e){if(0==q.isTilesMode)throw new Error("This function works only with tiles mode");var t=B.getNumThumbs(),i=G.getNumItemsInSpace(e,Y.tile_width,q.spaceBetweenCols),n=Math.ceil(t/i);n>Y.grid_num_rows&&(n=Y.grid_num_rows);var o=G.getSpaceByNumItems(n,Y.tile_height,q.spaceBetweenRows);return o+=2*Y.grid_padding},this.getElement=function(){return H},this.getSize=function(){return G.getElementSize(H)},this.getNumPanes=function(){return q.numPanes},this.isFirstPane=function(){return 0==q.currentPane},this.isLastPane=function(){return q.currentPane==q.numPanes-1},this.getPaneInfo=function(){return{pane:q.currentPane,total:q.numPanes}},this.getPane=function(){return q.currentPane},this.setWidth=function(e){q.gridWidth=e,q.isHorizontal=!0},this.setMaxWidth=function(e){q.gridWidth=e,q.isMaxWidth=!0,q.isHorizontal=!0},this.setHeight=function(e){q.gridHeight=e,q.isHorizontal=!1},this.setMaxHeight=function(e){q.gridHeight=e,q.isMaxHeight=!0,q.isHorizontal=!1},this.gotoPane=function(e,t){if(0==_(e))return!1;if(e==q.currentPane)return!1;var i=-q.arrPanes[e];q.currentPane=e,b(i),W.trigger(F.events.PANE_CHANGE,e)},this.nextPane=function(){var e=q.currentPane+1;if(e>=q.numPanes){if(0==Y.grid_carousel)return!0;e=0}F.gotoPane(e,"next")},this.prevPane=function(){var e=q.currentPane-1;return!(0>e&&(e=q.numPanes-1,0==Y.grid_carousel))&&void F.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return G.setButtonOnClick(e,F.nextPane),1==Y.grid_carousel||(F.isLastPane()&&e.addClass("ug-button-disabled"),void W.on(F.events.PANE_CHANGE,function(){F.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return G.setButtonOnClick(e,F.prevPane),1==Y.grid_carousel||(F.isFirstPane()&&e.addClass("ug-button-disabled"),void W.on(F.events.PANE_CHANGE,function(){F.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(e){e.setActive(q.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,i){F.gotoPane(i,"theme"),e.setActive(i)}),jQuery(F).on(F.events.PANE_CHANGE,function(t,i){e.setActive(i)})},this.getObjTileDesign=function(){return U},this.init=function(t,i,n){e(t,i,n)},this.run=function(){o()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,i){g_objects=e.getObjects(),oe=e,X=jQuery(e),Z=g_objects.g_objWrapper,J=g_objects.g_arrItems,ue=jQuery.extend(ue,i),t(),se.init(e,ue),ae=se.getObjThumbs()}function t(){ue.tiles_min_columns<1&&(ue.tiles_min_columns=1),0!=ue.tiles_max_columns&&ue.tiles_max_columns<ue.tiles_min_columns&&(ue.tiles_max_columns=ue.tiles_min_columns)}function i(e){if(!e)var e=Z;K=e;var t=ue.tiles_type;e.addClass("ug-tiletype-"+t),se.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function n(){if(K.addClass("ug-tiles-rest-mode"),de.isTransInited=!0,1==ue.tiles_enable_transition){K.addClass("ug-tiles-transit");var e=se.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&K.addClass("ug-tiles-transit-overlays"),de.isTransActive=!0}}function o(){return re.getElementSize(K).width}function r(){return 0!=de.isTransInited&&(K.addClass("ug-tiles-transition-active"),K.removeClass("ug-tiles-rest-mode"),0!=de.isTransActive&&void se.disableEvents())}function s(){return 0!=de.isTransInited&&(K.removeClass("ug-tiles-transition-active"),void K.addClass("ug-tiles-rest-mode"))}function a(){1==de.isTransActive?(setTimeout(function(){se.enableEvents(),se.triggerSizeChangeEventAllTiles(),s()},800),de.handle&&clearTimeout(de.handle),de.handle=setTimeout(function(){s(),se.triggerSizeChangeEventAllTiles(),de.handle=null},2e3)):(se.triggerSizeChangeEventAllTiles(),s())}function l(){le.colWidth=(le.availWidth-le.colGap*(le.numCols-1))/le.numCols,le.colWidth=Math.floor(le.colWidth),le.totalWidth=re.getSpaceByNumItems(le.numCols,le.colWidth,le.colGap)}function u(){if(le.colWidth=ue.tiles_col_width,le.minCols=ue.tiles_min_columns,le.maxCols=ue.tiles_max_columns,0==oe.isMobileMode()?le.colGap=ue.tiles_space_between_cols:le.colGap=ue.tiles_space_between_cols_mobile,le.galleryWidth=o(),le.availWidth=le.galleryWidth,1==ue.tiles_include_padding&&(le.availWidth=le.galleryWidth-2*le.colGap),1==ue.tiles_exact_width)le.numCols=re.getNumItemsInSpace(le.availWidth,le.colWidth,le.colGap),le.maxCols>0&&le.numCols>le.maxCols&&(le.numCols=le.maxCols),le.numCols<le.minCols?(le.numCols=le.minCols,l()):le.totalWidth=le.numCols*(le.colWidth+le.colGap)-le.colGap;else{var e=re.getNumItemsInSpaceRound(le.availWidth,le.colWidth,le.colGap);e<le.minCols?e=le.minCols:0!=le.maxCols&&e>le.maxCols&&(e=le.maxCols),le.numCols=e,l()}switch(ue.tiles_align){case"center":default:le.addX=Math.round((le.galleryWidth-le.totalWidth)/2);break;case"left":le.addX=0;break;case"right":le.addX=le.galleryWidth-le.totalWidth}for(le.maxColHeight=0,le.arrPosx=[],col=0;col<le.numCols;col++){var t=re.getColX(col,le.colWidth,le.colGap);le.arrPosx[col]=t+le.addX}le.colHeights=[0]}function d(){var e=0,t=999999999;for(col=0;col<le.numCols;col++){if(void 0==le.colHeights[col]||0==le.colHeights[col])return col;le.colHeights[col]<t&&(e=col,t=le.colHeights[col])}return e}function c(e,t,i,n){if(null===n||void 0===n)var n=d();var o=0;void 0!==le.colHeights[n]&&(o=le.colHeights[n]);var r=se.getTileHeightByWidth(le.colWidth,e,"placeTile");if(null===r){if(1==ue.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");r=re.getElementSize(e).height}var s=le.arrPosx[n];re.placeElement(e,s,o);var a=o+r;le.colHeights[n]=a+le.colGap,le.maxColHeight<a&&(le.maxColHeight=a),1==t&&e.show().fadeTo(0,1),1==i&&K.height(le.maxColHeight)}function h(e){e||(e=!1),u();var t=ae.getThumbs();r(),se.resizeAllTiles(le.colWidth,se.resizemode.VISIBLE_ELEMENTS);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),o=void 0;1==ue.tiles_keep_order&&(o=re.getColByIndex(le.numCols,i)),c(n,e,!1,o)}a();var s=K.height();1==de.isTransActive&&s>le.maxColHeight?setTimeout(function(){K.height(le.maxColHeight)},700):K.height(le.maxColHeight)}function p(e){var t=e.index();if(!0===oe.getItem(t).ordered_placed)return!1;var i=re.getPrevRowSameColIndex(t,le.numCols);return 0>i||!0===oe.getItem(i).ordered_placed}function f(e,t){if(!0!==t&&0==p(e))return!1;var i=e.index(),n=re.getColByIndex(le.numCols,i),o=oe.getItem(i);se.resizeTile(e,le.colWidth),c(e,!0,!0,n),o.ordered_placed=!0;var r=oe.getNumItems(),s=re.getNextRowSameColIndex(i,le.numCols);if(s>=r)return!1;var a=ae.getThumbByIndex(s),l=oe.getItem(s);ae.isThumbLoaded(a),ae.isThumbLoaded(a)&&!l.ordered_placed&&f(a,!0)}function g(e,t){if(1==t)return!1;e=jQuery(e);var i=jQuery(e).parent();ae.triggerImageLoadedEvent(i,e),1==ue.tiles_keep_order?f(i):(se.resizeTile(i,le.colWidth),c(i,!0,!0))}function m(){var e=ae.getThumbs();de.isAllLoaded=!1,u();var t=Math.abs(le.galleryWidth-le.totalWidth);if(1==ue.tiles_set_initial_height&&0==re.isScrollbarExists()&&25>t){var i=(e.length,Math.ceil(e.length/le.numCols))*ue.tiles_col_width*.75;K.height(i),u()}e.fadeTo(0,0);var o=jQuery(K).find("img.ug-thumb-image");if(1==de.isFixedMode)ne.trigger(ie.events.TILES_FIRST_PLACED),h(!0),re.checkImagesLoaded(o,function(){n(),ne.trigger(ie.events.ALL_TILES_LOADED)});else{var r=le.numCols,s=le.galleryWidth,a=!1;re.checkImagesLoaded(o,function(){u(),(r!=le.numCols||s!=le.galleryWidth)&&h(!1),n(),ne.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){0==a&&ne.trigger(ie.events.TILES_FIRST_PLACED),a=!0,g(e,t)})}}function _(){var e=o(),t=ae.getThumbs(),i=ue.tiles_justified_row_height,n=[],r=0,s=ue.tiles_justified_space_between,a=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var o=ae.getItemByThumb(t),s=o.thumbWidth;o.thumbHeight!==i&&(s=Math.floor(o.thumbRatioByWidth*i)),n[e]=s,r+=s});var l=Math.ceil(r/e);l>a&&(l=a);var u=r/l,d=[],c=0,h=[],p=[],f=0,g=0;jQuery.each(t,function(e,t){var i=n[e];f+i/2>(g+1)*u&&(h[d.length]=c,d.push(p),p=[],c=0,g++),f+=i,c+=i,p.push(t)}),h[d.length]=c,d.push(p);var m=[],_=[],v=0;return jQuery.each(d,function(t,o){var r=(o.length,h[t]),a=(o.length-1)*s,l=(e-a)/r,u=Math.round(i*l);v+=u,t>0&&(v+=s),_.push(u);var d=u/i,c=[],p=a;jQuery.each(o,function(e,t){var i=jQuery(t).index(),o=n[i],r=Math.round(o*d);c[e]=r,p+=r});var f=p-e;jQuery.each(c,function(e,t){return 0!=f&&(0>f?(c[e]=t+1,f++):(c[e]=t-1,f--),void(e==c.length-1&&0!=f&&(c[e]-=f)))}),m[t]=c}),{arrRows:d,arrRowWidths:m,arrRowHeights:_,gap:s,totalHeight:v}}function v(e){if(!e)var e=!1;var t=o(),i=_();K.height(i.totalHeight),o()!=t&&(i=_()),r();var n=0,s=0;jQuery.each(i.arrRows,function(t,o){var r=i.arrRowWidths[t],a=i.arrRowHeights[t],l=0;jQuery.each(o,function(t,o){var u=jQuery(o),d=a,c=r[t];se.resizeTile(u,c,d,se.resizemode.VISIBLE_ELEMENTS),re.placeElement(u,l,n),(l+=c)>s&&(s=l),l+=i.gap,1==e&&jQuery(o).show()}),n+=a+i.gap}),a()}function b(){var e=jQuery(Z).find("img.ug-thumb-image"),t=ae.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),re.checkImagesLoaded(e,function(){setTimeout(function(){v(!0),t.fadeTo(0,1),ne.trigger(ie.events.TILES_FIRST_PLACED),n(),ne.trigger(ie.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();ae.triggerImageLoadedEvent(i,e)})}function y(){var e=jQuery(Z).find("img.ug-thumb-image"),t=ae.getThumbs();de.isAllLoaded=!1,t.fadeTo(0,0),re.checkImagesLoaded(e,function(){1==oe.isMobileMode()?h(!0):x(!0),ne.trigger(ie.events.TILES_FIRST_PLACED),n(),ne.trigger(ie.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();ae.triggerImageLoadedEvent(i,e)})}function w(){var e=o();switch(ce.galleryWidth=e,ee={},ce.colWidth=ue.tiles_nested_col_width,ce.optimalTileWidth=ue.tiles_nested_optimal_tile_width,ce.currentGap=ue.tiles_space_between_cols,1==oe.isMobileMode()&&(ce.currentGap=ue.tiles_space_between_cols_mobile),null==ce.colWidth?ce.colWidth=Math.floor(ce.optimalTileWidth/ce.nestedOptimalCols):ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.maxColumns=re.getNumItemsInSpace(e,ce.colWidth,ce.currentGap),ce.colWidth=re.getItemSizeInSpace(e,ce.maxColumns,ce.currentGap),ce.gridY=0,te=[],ae.getThumbs().each(function(){var e=T(jQuery(this));te.push(e)}),ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.totalWidth=ce.maxColumns*(ce.colWidth+ce.currentGap)-ce.currentGap,ue.tiles_align){case"center":default:ce.addX=Math.round((ce.galleryWidth-ce.totalWidth)/2);break;case"left":ce.addX=0;break;case"right":ce.addX=ce.galleryWidth-ce.totalWidth}ce.maxGridY=0}function x(e){var t=o();w(),E();var i=ce.maxGridY*(ce.colWidth+ce.currentGap)-ce.currentGap;K.height(i),o()!=t&&(w(),E()),0==ue.tiles_nested_debug&&B(e)}function T(e){var t,i,n={},o=ce.colWidth,r=ce.currentGap,s=se.getTileImageSize(e),a=e.index(),l=Math.ceil(C(a)*(1*ce.nestedOptimalCols/3)+2*ce.nestedOptimalCols/3),u=s.width,d=s.height,c=u/d;return u>d?(t=l,0==(i=Math.round(t/c))&&(i=1)):(i=l,0==(t=Math.round(i*c))&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*o+r*(t-1),n.height=i*o+r*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n}function C(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function I(e,t){if(0==t){for(i=ce.currentItem;i<te.length;i++)S(i,!0);ce.currentItem=te.length-1}else S(ce.currentItem,!0);for(var i=0;i<=ce.currentItem;i++)U(i,!0);ce.currentItem++}function E(e){if(1==ue.tiles_nested_debug)return void 0===e&&(e=!0),I(!0,e),!1;for(var t=0;t<te.length;t++)S(t,!0)}function S(e,t){if(!t)var t=!1;ce.maxColHeight=0;for(var i=re.getObjectLength(ee),n=ce.gridY;i+1>=n;n++){for(var o=0;o<ce.maxColumns;o++)if(0==R(ce.gridY)||0==Q(ce.gridY,o))return void P(e,H(o),o);ce.gridY++}}function P(e,t,i){var n=jQuery.extend(!0,{},te[e]),o=n.dimWidth,r=t-n.dimWidth,s=ce.nestedOptimalCols;if(t<=n.dimWidth||.33*s>=r||s>=t)z(e,t);else if(s>=r)s>=4?1==L(Math.floor(t/2),i)?z(e,Math.floor(t/2)+1):z(e,Math.floor(t/2)):z(objImage,t);else if(1==L(o,i))switch(o>=s){case!0:z(e,o-1);break;case!1:z(e,o+1)}var a=M(e,(n=jQuery.extend(!0,{},te[e])).dimWidth,i);if(ce.columnsValueToEnableHeightResize<=a[0]&&ce.maxColumns>=2*ce.nestedOptimalCols){var l=N(i,n),u=D(e,l.newHeight,!0);te[e].dimHeight=u.dimHeight;var d=O(a,u.dimWidth),c=!1;j(d)>=2&&(c=!0),l.newHeight>=n.dimHeight&&(n=D(e,l.newHeight,!0));var h=A(l.idToResize,l.newHeight,n.dimHeight);n.top=ce.gridY,n.left=i,h.push({tileID:e,sizes:n});var p=$(h);return $(d)>p||1==c?void k(h):void k(d)}n.left=i,n.top=ce.gridY,te[e]=n,F(e,n,i,ce.gridY),ce.maxGridY=n.top+n.dimHeight}function j(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var o=-1,r=-1;R((s=e[n].sizes).top+s.dimHeight)&&ce.maxColumns>s.left+s.dimWidth&&(o=ee[s.top+s.dimHeight-1][s.left+s.dimWidth],r=ee[s.top+s.dimHeight][s.left+s.dimWidth]),o!=r&&t++}for(n=0;n<e.length-1;n++){var s=e[n].sizes,o=-1,r=-1;R(s.top+s.dimHeight)&&s.left-1>=0&&(o=ee[s.top+s.dimHeight-1][s.left-1],r=ee[s.top+s.dimHeight][s.left-1]),o!=r&&i++}return Math.max(i,t)}function A(e,t,i){var n=te[e],o=n.dimHeight,r=(n.dimWidth,n.left),s=n.top,a=D(e,(parseInt(s/(ce.colWidth+ce.currentGap)),parseInt(r/(ce.colWidth+ce.currentGap)),o-t+i),!0),l=[];return l.push({tileID:e,sizes:a}),l}function k(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;te[n]=jQuery.extend(!0,{},i),F(n,i,i.left,i.top)}}function O(e,t){for(var i=0,n=0,o=[],r=0,s=0,a=0;a<e[1].length;a++){var l=e[1][a],u=te[e[1][a]];if(n+=u.dimHeight,0!=a)i+=u.dimHeight,o.push([l,u.dimHeight]);else{var d=z(l,t,!0);i+=d.dimHeight,o.push([e[1][a],d.dimHeight])}}r=u.left,s=u.top;for(var c=n,h=[],a=o.length-1;a>=0;a--){var p,l=o[a][0];0!=a?(p=Math.max(Math.round(1*n/3),Math.floor(o[a][1]*(n/i))),c-=p,d=D(l,p,!0),d.left=r,d.top=s,h.push({tileID:l,sizes:d}),s+=d.dimHeight):(p=c,d=D(l,p,!0),d.left=r,d.top=s,h.push({tileID:l,sizes:d}))}return h}function M(e,t,i){var n=ce.gridY-1,o=0,r=0,s=1,a=[],l=[];if(a.push(e),n>=0){for(r=0;n>=0;){if(o=ee[n][i],void 0!==ee[n][i-1]&&ee[n][i-1]==ee[n][i]||void 0!==ee[n][i+t]&&ee[n][i+t-1]==ee[n][i+t]||ee[n][i]!=ee[n][i+t-1])return l.push(s),l.push(a),l;r!=o&&(s++,a.push(o)),n--,r=o}return l.push(s),l.push(a),l}return[0,[]]}function N(e,t){var i=0,n=0,o=t.dimWidth,r=t.dimHeight,s=0,a=0,l=jQuery.map(ee,function(e,t){return[e]});if(void 0===l[ce.gridY]||void 0===l[ce.gridY][e-1])n=0;else for(var u=0;void 0!==ee[ce.gridY+u]&&-1!=ee[ce.gridY+u][e-1];)s=ee[ce.gridY+u][e-2],u++,n++;if(void 0===l[ce.gridY]||void 0===l[ce.gridY][e+o])i=0;else for(u=0;void 0!==ee[ce.gridY+u]&&-1!=ee[ce.gridY+u][e+o];)a=ee[ce.gridY+u][e+o+1],u++,i++;var d=0,c=0;return Math.abs(r-n)<Math.abs(r-i)&&0!=n?(d=n,c=s):0!=i?(d=i,c=a):d=r,{newHeight:d,idToResize:c}}function z(e,t,i){i||(i=!1);var n=ce.colWidth,o=ce.currentGap,r=te[e],s=r.imgWidth/r.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/s),1==i){var a=jQuery.extend(!0,{},r);return a.dimWidth=dimWidth,a.dimHeight=dimHeight,a.width=dimWidth*n+o*(dimWidth-1),a.height=dimHeight*n+o*(dimHeight-1),a}r.dimWidth=dimWidth,r.dimHeight=dimHeight,r.width=dimWidth*n+o*(dimWidth-1),r.height=dimHeight*n+o*(dimHeight-1)}function D(e,t,i){i||(i=!1);var n=te[e],o=n.dimWidth,r=ce.colWidth,s=ce.currentGap;if(1==i){var a=jQuery.extend(!0,{},n);return a.dimHeight=t,a.width=o*r+s*(o-1),a.height=t*r+s*(t-1),a}n.dimHeight=t,n.width=o*r+s*(o-1),n.height=t*r+s*(t-1)}function $(e){for(var t=0,i=0,n=0;n<e.length;n++){var o=te[e[n].tileID];if(0==o.dimHeight||0==o.height)return;resizeVal=o.dimWidth/o.dimHeight/(o.imgWidth/o.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function L(e,t){var i=ce.gridY-1;return!(0>=i||0==R(i))&&ee[i][t+e-1]!=ee[i][t+e]}function H(e){var t=e,i=0;if(1==R(ce.gridY))for(;0==Q(ce.gridY,t);)i++,t++;else i=ce.maxColumns;return i}function R(e){return void 0!==ee[e]}function F(e,t,i,n){for(var o=0;o<t.dimHeight;o++)for(var r=0;r<t.dimWidth;r++)0==R(n+o)&&W(n+o),G(n+o,i+r,e)}function W(e){ee[e]=new Object;for(var t=0;t<ce.maxColumns;t++)ee[e][t]=-1}function Q(e,t){return-1!=ee[e][t]}function G(e,t,i){ee[e][t]=i}function B(e){if(!e)var e=!1;r();for(var t=0;t<te.length;t++)U(t,e);K.height(ce.maxColHeight),a()}function U(e,t){var i=ae.getThumbByIndex(e),n=te[e],o=n.top*(ce.colWidth+ce.currentGap),r=ce.addX+n.left*(ce.colWidth+ce.currentGap);se.resizeTile(i,n.width,n.height,se.resizemode.VISIBLE_ELEMENTS),re.placeElement(i,r,o),o+n.height>ce.maxColHeight&&(ce.maxColHeight=o+n.height),1==t&&i.fadeTo(0,1)}function Y(){if(1==de.isFirstTimeRun)return!0;if(0==de.isAllLoaded)return!1;switch(ue.tiles_type){case"columns":h(!1);break;case"justified":v(!1);break;case"nested":1==oe.isMobileMode()?h(!1):x(!1)}}function q(){ne.on(ie.events.ALL_TILES_LOADED,function(){return 1==de.isAllLoaded||void(de.isAllLoaded=!0)}),X.on(oe.events.SIZE_CHANGE,Y),se.initEvents()}function V(){switch(Z.children(".ug-tile").show(),1==de.isFirstTimeRun&&q(),se.run(),ue.tiles_type){default:case"columns":m();break;case"justified":b();break;case"nested":y()}de.isFirstTimeRun=!1}var X,Z,K,J,ee,te,ie=this,ne=jQuery(this),oe=new UniteGalleryMain,re=new UGFunctions,se=new UGTileDesign,ae=new UGThumbsGeneral,le={},ue={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var de={isFixedMode:!1,isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isAllLoaded:!1},ce={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){X.off(oe.events.SIZE_CHANGE),se.destroy()},this.setFixedSizeMode=function(){de.isFixedMode=!0,se.setFixedMode()},this.init=function(t,i){e(t,i)},this.setHtml=function(e){i(e)},this.getObjTileDesign=function(){return se},this.run=function(){V()}}function UGTileDesign(){function e(e,i){R=e,N=jQuery(e);var o=R.getObjects();D=o.g_objWrapper,$=R.getArrItems(),Q=jQuery.extend(Q,G),Q=jQuery.extend(Q,i),t(),W.init(e,Q);var r={allow_onresize:!1},s=["overlay"];B.funcCustomTileHtml&&(s=[]),W.setCustomThumbs(n,s,r);var a=W.getOptions();Q=jQuery.extend(Q,a),B.ratioByWidth=Q.tile_width/Q.tile_height,B.ratioByHeight=Q.tile_height/Q.tile_width,Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&B.isTextpanelOutside&&(B.hasImageContainer=!0)}function t(){if(1==Q.tile_enable_overlay?(Q.thumb_overlay_opacity=Q.tile_overlay_opacity,Q.thumb_overlay_color=Q.tile_overlay_color):0==Q.tile_enable_icons?Q.thumb_color_overlay_effect=!1:Q.thumb_overlay_opacity=0,Q.tile_as_link&&(Q.thumb_wrapper_as_link=!0,Q.thumb_link_newpage=Q.tile_link_newpage),1==Q.tile_enable_outline&&0==Q.tile_enable_border&&(Q.tile_enable_outline=!1),B.tileInnerReduce=0,Q.tile_enable_border&&(B.tileInnerReduce=2*Q.tile_border_width,W.setThumbInnerReduce(B.tileInnerReduce)),B.isSaparateIcons=!F.isRgbaSupported(),1==Q.tile_enable_textpanel){switch(Q.tile_textpanel_position){case"top":Q.tile_textpanel_align="top";case"bottom":B.isTextpanelOutside=!0,Q.tile_textpanel_always_on=!0,Q.tile_textpanel_offset=0;break;case"inside_top":Q.tile_textpanel_align="top";break;case"middle":Q.tile_textpanel_align="middle",Q.tile_textpanel_appear_type="fade"}0==Q.tile_textpanel_always_on&&(B.isSaparateIcons=!0)}0!=Q.tile_textpanel_offset&&(Q.tile_textpanel_appear_type="fade",Q.tile_textpanel_margin=Q.tile_textpanel_offset),"title_and_desc"==Q.tile_textpanel_source&&(Q.tile_textpanel_enable_description=!0,Q.tile_textpanel_desc_style_as_title=!0)}function i(){var e=R.isMobileMode();switch(B.isTextPanelHidden=!1,1==e&&0==Q.tile_textpanel_always_on&&(B.isTextPanelHidden=!0),B.isVideoplayIconAlwaysOn=Q.tile_videoplay_icon_always_on,Q.tile_videoplay_icon_always_on){case"always":B.isVideoplayIconAlwaysOn=!0;break;case"never":B.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":B.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":B.isVideoplayIconAlwaysOn=0==e}}function n(e,t){if(e.addClass("ug-tile"),B.funcCustomTileHtml)return B.funcCustomTileHtml(e,t),!1;var i="";1==B.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";(0==Q.tile_enable_image_effect||1==Q.tile_image_effect_reverse)&&(n+=" ug-trans-enabled");var o=F.stripTags(t.title);o=F.htmlentitles(o),i+='<img src="'+F.escapeDoubleSlash(t.urlThumb)+"\" alt='"+o+"' class='"+n+"'>",1==B.hasImageContainer&&(i+="</div>"),e.append(i),Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var r={};if(1==Q.tile_enable_background&&(r["background-color"]=Q.tile_background_color),1==Q.tile_enable_border&&(r["border-width"]=Q.tile_border_width+"px",r["border-style"]="solid",r["border-color"]=Q.tile_border_color,Q.tile_border_radius&&(r["border-radius"]=Q.tile_border_radius+"px")),1==Q.tile_enable_outline&&(r.outline="1px solid "+Q.tile_outline_color),1==Q.tile_enable_shadow){var s=Q.tile_shadow_h+"px ";s+=Q.tile_shadow_v+"px ",s+=Q.tile_shadow_blur+"px ",s+=Q.tile_shadow_spread+"px ",s+=Q.tile_shadow_color,r["box-shadow"]=s}e.css(r);var a="";if(Q.tile_enable_icons){if(0==Q.tile_as_link&&1==Q.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),a+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==Q.tile_show_link_icon||1==Q.tile_as_link)if(0==Q.tile_as_link){var u="";1==Q.tile_link_newpage&&(u=" target='_blank'"),a+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else a+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var c=B.isSaparateIcons;if(0==c&&"image"!=t.type&&1==B.isVideoplayIconAlwaysOn&&(c=!0),c)h=e;else var h=e.children(".ug-thumb-overlay");h.append(a);var p=h.children("."+l);0==p.length?p=null:p.hide();var f=h.children(".ug-icon-link");0==f.length?f=null:f.hide(),f||1!=Q.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==Q.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==Q.tile_enable_image_effect){var g="";0==Q.tile_image_effect_reverse&&(g=" ug-trans-enabled");var m="<div class='ug-tile-image-overlay"+g+"' >",_=" ug-"+Q.tile_image_effect_type+"-effect";m+='<img src="'+F.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+_+g+"'>",m+="</div>",e.append(m),1==Q.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==Q.tile_enable_textpanel){var v=new UGTextPanel;v.init(R,Q,"tile");var b="";(1==Q.tile_textpanel_always_on||1==B.isTextpanelOutside)&&(b="ug-trans-enabled"),v.appendHTML(e,b);var y=t.title,w="";switch(Q.tile_textpanel_source){case"desc":case"description":y=t.description;break;case"desc_title":""!=t.description&&(y=t.description);break;case"title_and_desc":y=t.title,w=t.description}if(v.setTextPlain(y,w),0==Q.tile_textpanel_always_on&&v.getElement().fadeTo(0,0),e.data("objTextPanel",v),1==Q.tile_textpanel_always_on&&d(e).css("z-index",2),1==B.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var x=e.children(".ug-tile-cloneswrapper"),T=new UGTextPanel;T.init(R,Q,"tile"),T.appendHTML(x),T.setTextPlain(y,w),e.data("objTextPanelClone",T)}}null!==t.addHtml&&e.append(t.addHtml)}function o(e){return e.children(".ug-tile-image-overlay")}function r(e){return e.children(".ug-thumb-overlay")}function s(e){return 0==B.hasImageContainer?null:e.children(".ug-image-container")}function a(e){return e.find(".ug-tile-image-overlay img")}function l(e){return e.data("objTextPanel")}function u(e){return e.data("objTextPanelClone")}function d(e){return e.children(".ug-textpanel")}function c(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function h(e){if(1==B.isTextpanelOutside)t=c(e);else var t=d(e);return t?F.getElementSize(t).height:0}function p(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function f(e,t){var i=B.ratioByHeight;switch(Q.tile_size_by){default:i=B.ratioByHeight;break;case L.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var n=L.getItemByTile(e);if(void 0!==n.thumbRatioByHeight){if(0==n.thumbRatioByHeight)throw trace(n),new Error("the item ratio not inited yet");i=n.thumbRatioByHeight}break;case L.sizeby.CUSTOM:return null}return i}function g(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function m(e){return!!e.hasClass("ug-thumb-over")}function _(e){return e.hasClass("ug-tile-clickable")}function v(e){return 1==Q.tile_enable_icons&&1==B.isVideoplayIconAlwaysOn&&"image"!=e.type}function b(e,t,i,n){var r=o(e),l=L.getTileImage(e),u=a(e);t-=B.tileInnerReduce,i-=B.tileInnerReduce;var d=null;if(1==B.isTextpanelOutside){var c=h(e);if(i-=c,"top"==Q.tile_textpanel_position&&(d=c),1==B.hasImageContainer){var p=s(e);F.setElementSize(p,t,i),null!==d&&F.placeElement(p,0,d)}}if(0==Q.tile_enable_image_effect)F.scaleImageCoverParent(l,t,i),0==B.hasImageContainer&&null!==d&&F.placeElement(l,0,d);else{var f="nothing";!0===n&&0==B.isTextpanelOutside&&(f=1==Q.tile_image_effect_reverse?"effect":"image"),"effect"!=f&&(F.setElementSize(r,t,i),null!==d&&F.placeElement(r,0,d),F.scaleImageCoverParent(u,t,i)),"image"!=f&&(1==B.hasImageContainer?F.scaleImageCoverParent(l,t,i):"effect"==f?(F.scaleImageCoverParent(l,t,i),null!==d&&F.placeElement(l,0,d)):F.cloneElementSizeAndPos(u,l,!1,null,d))}}function y(e,t,i,n){var o=null;if(i&&(o=i-B.tileInnerReduce),n&&(n-=B.tileInnerReduce),"clone"==t)return u(e).refresh(!0,!0,o),L.getItemByTile(e).textPanelCloneSizeSet=!0,!1;var r=l(e);if(!r)return!1;var s=null;if(1==B.isTextpanelOutside&&(s=h(e)),r.refresh(!1,!0,o,s),1==Q.tile_textpanel_always_on||"fade"==Q.tile_textpanel_appear_type)if(1==B.isTextpanelOutside&&n&&"bottom"==Q.tile_textpanel_position){var a=n-s;r.positionPanel(a)}else r.positionPanel()}function w(e){var t=(L.getItemByTile(e),g(e)),i=p(e),n=F.getElementSize(e);b(e,n.width,n.height),1==Q.tile_enable_textpanel&&y(e,"regular",n.width,n.height);var o=n.width-B.tileInnerReduce,s=n.height-B.tileInnerReduce,a=0;if(1==B.isTextpanelOutside){var l=h(e);s-=l,"top"==Q.tile_textpanel_position&&(a=l)}var u=r(e);if(F.setElementSizeAndPosition(u,0,a,o,s),t||i){var c=0;if(1==Q.tile_enable_textpanel&&0==B.isTextPanelHidden&&0==B.isTextpanelOutside){var f=d(e),m=F.getElementSize(f);m.height>0&&(c=Math.floor(m.height/2*-1))}}if(t&&i){var _=F.getElementSize(t),v=F.getElementSize(i),w=Q.tile_space_between_icons,x=_.width+w+v.width,T=Math.floor((n.width-x)/2);w>T&&(w=Math.floor((n.width-_.width-v.width)/3),x=_.width+w+v.width,T=Math.floor((n.width-x)/2)),F.placeElement(t,T,"middle",0,c),F.placeElement(i,T+_.width+w,"middle",0,c)}else t&&F.placeElement(t,"center","middle",0,c),i&&F.placeElement(i,"center","middle",0,c);t&&t.show(),i&&i.show()}function x(e,t){var i=(L.getItemByTile(e),o(e)),n=Q.thumb_transition_duration;if(0==Q.tile_image_effect_reverse){var r=L.getTileImage(e);t?(r.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function T(e,t){var i=Q.thumb_transition_duration,n=d(e);if(!n)return!0;if("slide"==Q.tile_textpanel_appear_type){var o=F.getElementSize(n);if(0==o.width)return!1;var r=-o.height,s={},a={},l="bottom";"inside_top"==Q.tile_textpanel_position&&(l="top"),s[l]=r+"px",a[l]="0px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(s),a.opacity=1,n.stop(!0).animate(a,i)):n.stop(!0).animate(s,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function C(e,t,i){var n=Q.thumb_transition_duration;i&&!0===i&&(n=0);var o=g(e),r=p(e),s=t?1:0;o&&o.stop(!0).fadeTo(n,s),r&&r.stop(!0).fadeTo(n,s)}function I(e,t){if(t=jQuery(t),Q.tile_enable_image_effect&&x(t,!0),1==Q.tile_enable_textpanel&&0==Q.tile_textpanel_always_on&&0==B.isTextPanelHidden&&T(t,!0),B.isSaparateIcons&&1==Q.tile_enable_icons){var i=1==Q.thumb_overlay_reverse;0==v(L.getItemByTile(t))&&C(t,i,!1)}}function E(e,t){if(t=jQuery(t),Q.tile_enable_image_effect&&x(t,!1),1==Q.tile_enable_textpanel&&0==Q.tile_textpanel_always_on&&T(t,!1),1==B.isSaparateIcons&&1==Q.tile_enable_icons){var i=1!=Q.thumb_overlay_reverse;0==v(L.getItemByTile(t))?C(t,i,!1):C(t,!0,!0)}}function S(e){W.getThumbs().not(e).each(function(e,t){W.setThumbNormalStyle(jQuery(t))})}function P(e,t,i){return t=jQuery(t),1==Q.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i||(w(t),void W.setThumbNormalStyle(t))}function j(e,t,i){w(t),i.fadeTo(0,1),t.data("image_placed",!0)}function A(e){return 1==_(e)?(H.trigger(L.events.TILE_CLICK,e),!0):void(0==m(e)&&(S(e),W.setThumbOverStyle(e)))}function k(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(B.funcParentApproveClick&&0==B.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==m(t))1==n&&A(t);else{if(0==_(t))return!0;1==n&&H.trigger(L.events.TILE_CLICK,t)}}function O(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return B.funcParentApproveClick&&0==B.funcParentApproveClick()&&(i=!1),0==m(t)?(A(t),!0):1==i?(H.trigger(L.events.TILE_CLICK,t),!1):void 0}function M(e){var t=jQuery(this).parents(".ug-tile");B.funcParentApproveClick&&0==B.funcParentApproveClick()&&e.preventDefault(),0==m(t)&&0==Q.tile_as_link&&(e.preventDefault(),A(t))}var N,z,D,$,L=this,H=jQuery(this),R=new UniteGalleryMain,F=new UGFunctions,W=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var Q={tile_width:250,tile_height:200,tile_size_by:L.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},G={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},B={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=L.getTileImage(e);F.checkImagesLoaded(t,null,function(t,i){j(0,e,jQuery(t))})},this.setHtml=function(e){z=e,i(),W.setHtmlThumbs(e)},this.initEvents=function(){W.initEvents(),jQuery(W).on(W.events.SETOVERSTYLE,I),jQuery(W).on(W.events.SETNORMALSTYLE,E),jQuery(W).on(W.events.PLACEIMAGE,j),D.on(B.eventSizeChange,P),z.delegate(".ug-tile .ug-button-play","click",O),z.delegate(".ug-tile","click",k),z.delegate(".ug-tile .ug-icon-link","click",M)},this.destroy=function(){if(jQuery(W).off(W.events.SETOVERSTYLE),jQuery(W).off(W.events.SETNORMALSTYLE),jQuery(W).off(W.events.PLACEIMAGE),D.off(B.eventSizeChange),1==Q.tile_enable_textpanel){var e=W.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})}W.destroy()},this.init=function(t,i,n){e(t,i)},this.setFixedMode=function(){Q.tile_size_by=L.sizeby.GLOBAL_RATIO,Q.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){B.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==B.isTextpanelOutside&&y(e,"clone",t),t){if(!i)i=L.getTileHeightByWidth(t,e,"resizeTile")}else var t=Q.tile_width,i=Q.tile_height;switch(F.setElementSize(e,t,i),n){default:case L.resizemode.FULL:L.triggerSizeChangeEvent(e,!0);break;case L.resizemode.WRAPPER_ONLY:return!0;case L.resizemode.VISIBLE_ELEMENTS:if(B.funcCustomTileHtml)return L.triggerSizeChangeEvent(e,!0),!0;b(e,t,i,!0),1==Q.tile_enable_textpanel&&1==Q.tile_textpanel_always_on&&t&&y(e,"regular",t,i)}},this.resizeAllTiles=function(e,t){i();var n=null;Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&(n=L.getTileHeightByWidth(e,null,"resizeAllTiles")),W.getThumbs().each(function(i,o){L.resizeTile(jQuery(o),e,n,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;D.trigger(B.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){W.getThumbs().each(function(){var t=jQuery(this);L.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){W.getThumbs().css("pointer-events","none")},this.enableEvents=function(){W.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){Q=jQuery.extend(Q,e),W.setOptions(e)},this.setTileSizeOptions=function(e){if(Q.tile_size_by!==L.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");Q.tile_width=e,Q.tile_height=Math.floor(e*B.ratioByHeight)},this.setCustomFunctions=function(e,t){B.funcCustomTileHtml=e,B.funcCustomPositionElements=t},this.run=function(){var e=W.getThumbs();Q.tile_size_by==L.sizeby.GLOBAL_RATIO&&L.resizeAllTiles(Q.tile_width,L.resizemode.WRAPPER_ONLY),1==Q.tile_enable_image_effect&&0==Q.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),W.setHtmlProperties(),1==Q.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),W.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return W},this.getOptions=function(){return Q},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return W.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t,i){var n=f(t);if(null===n)return null;var o=Math.floor((e-B.tileInnerReduce)*n)+B.tileInnerReduce;return t&&1==B.isTextpanelOutside&&Q.tile_size_by==L.sizeby.IMAGE_RATIO&&(o+=h(t)),o},this.getTileImageSize=function(e){var t=L.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(Q.tile_size_by!=L.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:Q.tile_width,height:Q.tile_height}}}function UGAviaControl(){function e(e){return 0==g?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){return 0==m.isControlEnabled||void(m.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==m.isControlEnabled)return!0;if(1==m.touchEnabled)return jQuery("body").off("mousemove"),!0;m.isMouseInsideStrip=h.ismouseover();var i=u.isTouchMotionActive();1==m.isMouseInsideStrip&&0==i?l(e(t)):s()})}function i(e){var t=f.strip_padding_top,i=(f.strip_padding_bottom,h.height()),n=p.height();if(i>n)return null;var o=e-h.offset().top-t;if(0>o)return null;var r=f.thumb_height,s=i-f.thumb_height,a=s-r;r>o&&(o=r),o>s&&(o=s);var l=(n-i)*((o-r)/a);return l=-1*Math.round(l)+t}function n(e){var t=f.strip_padding_left,i=f.strip_padding_right,n=h.width()-t-i,o=p.width();if(n>o)return null;var r=e-h.offset().left-t,s=f.thumb_width,a=n-f.thumb_width,l=a-s;s>r&&(r=s),r>a&&(r=a);var u=(o-n)*((r-s)/l);return u=-1*Math.round(u)+t}function o(){if(0==m.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(m.strip_finalPos)&&s();var t,i=Math.abs(m.strip_finalPos-e);1>i?t=i:(t=i/4)>0&&1>t&&(t=1),m.strip_finalPos<e&&(t*=-1);var n=e+t;u.positionInnerStrip(n)}function r(){return 1!=m.isStripMoving&&(m.isStripMoving=!0,void(m.handle_timeout=setInterval(o,10)))}function s(){return 0!=m.isStripMoving&&(m.isStripMoving=!1,void(m.handle_timeout=clearInterval(m.handle_timeout)))}function a(e){return 0==g?n(e):i(e)}function l(e){var t=a(e);return null!==t&&(m.is_strip_moving=!0,m.strip_finalPos=t,void r())}var u,d,c,h,p,f,g,m={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){m.isControlEnabled=!0},this.disable=function(){m.isControlEnabled=!1},this.init=function(e){u=e,c=e.getObjects(),d=c.g_gallery,h=c.g_objStrip,p=c.g_objStripInner,f=c.g_options,g=c.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,n){_e=e,n&&(fe=n,t=xe.convertCustomPrefixOptions(t,fe,"slider")),te=jQuery(e);var o=_e.getObjects();if(ie=o.g_objWrapper,ne=o.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(Ie.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==Ie.slider_progress_indicator_type&&(Ie=jQuery.extend(Ie,Ee)),t&&ge.setOptions(t),i(),1==Ie.slider_enable_bullets){ye=new UGBullets;var r={bullets_skin:Ie.slider_bullets_skin,bullets_space_between:Ie.slider_bullets_space_between};ye.init(_e,r)}Ie.slider_enable_text_panel&&(Ce=new UGTextPanel).init(_e,Ie,"slider"),Ie.slider_enable_zoom_panel&&(pe=new UGZoomButtonsPanel).init(ge,Ie);var s=_e.getGalleryID();we.init(Ie,!1,s)}function t(){if(1==Se.isRunOnce)return!1;if(Se.isRunOnce=!0,Ie.slider_background_color){var e=Ie.slider_background_color;1!=Ie.slider_background_opacity&&(e=xe.convertHexToRGB(e,Ie.slider_background_opacity)),oe.css("background-color",e)}else 1!=Ie.slider_background_opacity&&(e=xe.convertHexToRGB("#000000",Ie.slider_background_opacity),oe.css("background-color",e));1==Ie.slider_control_swipe&&(ce=new UGTouchSliderControl).init(ge,Ie),1==Ie.slider_control_zoom&&(he=new UGZoomSliderControl).init(ge,Ie),Ce&&Ce.run(),q()}function i(){var e=_e.getOptions(),t=e.gallery_skin;""==Ie.slider_bullets_skin&&(Ie.slider_bullets_skin=t),""==Ie.slider_arrows_skin&&(Ie.slider_arrows_skin=t),""==Ie.slider_zoompanel_skin&&(Ie.slider_zoompanel_skin=t),""==Ie.slider_play_button_skin&&(Ie.slider_play_button_skin=t),""==Ie.slider_fullscreen_button_skin&&(Ie.slider_fullscreen_button_skin=t),Ie.video_enable_closebutton=Ie.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(Ie.slider_zoom_mousewheel=!1)}function n(e,t){var i="ug-type-square";"round"==Ie.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>",n+="</div>"}function o(e){e&&(ie=e);var t=V(),i=(_e.getOptions(),"<div class='ug-slider-wrapper'>");i+="<div class='ug-slider-inner'>",i+=n(t,1),i+=n(t,2),i+=n(t,3),i+="</div>",1==Ie.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+Ie.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+Ie.slider_arrows_skin+"'></div>"),1==Ie.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+Ie.slider_play_button_skin+"'></div>"),1==Ie.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+Ie.slider_fullscreen_button_skin+"'></div>"),i+="</div>",ie.append(i),oe=ie.children(".ug-slider-wrapper"),re=oe.children(".ug-slider-inner"),se=re.children(".ug-slide1"),ae=re.children(".ug-slide2"),le=re.children(".ug-slide3"),se.data("slidenum",1),ae.data("slidenum",2),le.data("slidenum",3),ye&&ye.appendHTML(oe),1==Ie.slider_enable_arrows&&(ue=oe.children(".ug-arrow-left"),de=oe.children(".ug-arrow-right")),1==Ie.slider_enable_play_button&&(ve=oe.children(".ug-button-play")),1==Ie.slider_enable_fullscreen_button&&(be=oe.children(".ug-button-fullscreen")),1==Ie.slider_enable_progress_indicator&&("bar"==(Te=xe.initProgressIndicator(Ie.slider_progress_indicator_type,Ie,oe)).getType()&&"pie"==Ie.slider_progress_indicator_type&&(Ie.slider_progress_indicator_type="bar",Ie=jQuery.extend(Ie,Ee)),_e.setProgressIndicator(Te)),1==Ie.slider_enable_text_panel&&(Ce.appendHTML(oe),0==Ie.slider_textpanel_always_on)&&(Ce.getElement().hide().data("isHidden",!0),Se.isTextPanelSaparateHover=!0),1==Ie.slider_enable_zoom_panel&&pe.appendHTML(oe),we.setHtml(re)}function r(e){var t=K(e);xe.placeElementInParentCenter(t);var i=J(e);xe.placeElementInParentCenter(i)}function s(){if(ye&&(objBullets=ye.getElement(),xe.placeElement(objBullets,Ie.slider_bullets_align_hor,Ie.slider_bullets_align_vert,Ie.slider_bullets_offset_hor,Ie.slider_bullets_offset_vert),xe.placeElement(objBullets,Ie.slider_bullets_align_hor,Ie.slider_bullets_align_vert,Ie.slider_bullets_offset_hor,Ie.slider_bullets_offset_vert)),1==Ie.slider_enable_arrows&&(xe.placeElement(ue,Ie.slider_arrow_left_align_hor,Ie.slider_arrow_left_align_vert,Ie.slider_arrow_left_offset_hor,Ie.slider_arrow_left_offset_vert),xe.placeElement(de,Ie.slider_arrow_right_align_hor,Ie.slider_arrow_left_align_vert,Ie.slider_arrow_right_offset_hor,Ie.slider_arrow_right_offset_vert)),0==Ie.slider_controls_always_on&&k(!0),Te){var e=Te.getElement();if("bar"==Ie.slider_progress_indicator_type){var t=oe.width();Te.setSize(t),xe.placeElement(e,"left",Ie.slider_progress_indicator_align_vert,0,Ie.slider_progress_indicator_offset_vert)}else xe.placeElement(e,Ie.slider_progress_indicator_align_hor,Ie.slider_progress_indicator_align_vert,Ie.slider_progress_indicator_offset_hor,Ie.slider_progress_indicator_offset_vert)}Ce&&Ce.positionPanel(),a(),r(se),r(ae),r(le),j()}function a(){if(ve&&xe.placeElement(ve,Ie.slider_play_button_align_hor,Ie.slider_play_button_align_vert,Ie.slider_play_button_offset_hor,Ie.slider_play_button_offset_vert),be&&xe.placeElement(be,Ie.slider_fullscreen_button_align_hor,Ie.slider_fullscreen_button_align_vert,Ie.slider_fullscreen_button_offset_hor,Ie.slider_fullscreen_button_offset_vert),pe){var e=pe.getElement();xe.placeElement(e,Ie.slider_zoompanel_align_hor,Ie.slider_zoompanel_align_vert,Ie.slider_zoompanel_offset_hor,Ie.slider_zoompanel_offset_vert)}}function l(){var e,t,i,n,o=ge.getSlidesReference(),r=0;i=ge.isSlideHasItem(o.objNextSlide),(n=ge.isSlideHasItem(o.objPrevSlide))?(r=o.objPrevSlide.outerWidth(),o.objPrevSlide.css("z-index",1)):o.objPrevSlide.hide(),e=t=r+o.objCurrentSlide.outerWidth(),i?(e=t+o.objNextSlide.outerWidth(),o.objPrevSlide.css("z-index",2)):o.objNextSlide.hide(),o.objCurrentSlide.css("z-index",3),xe.placeElement(o.objCurrentSlide,r,0),re.css({left:-r+"px",width:e+"px"}),n&&(xe.placeElement(o.objPrevSlide,0,0),xe.showElement(o.objPrevSlide)),i&&(xe.showElement(o.objNextSlide),xe.placeElement(o.objNextSlide,t,0))}function u(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=_e.getItem(t);return!!i&&void m(e,i)}function d(e){e.stop(!0).show(100)}function c(e){e.stop(!0).hide(100)}function h(e,t){if(10>=(s=Ie.slider_image_border_width))return s;var i=xe.getElementSize(e),n=i.width,o=i.height;if(t&&(t.hasOwnProperty("imageWidth")&&(n=t.imageWidth),t.hasOwnProperty("imageHeight")&&(o=t.imageHeight)),0>=n)return s;var r=o>n?n:o;if(2*s/r<Ie.slider_image_border_maxratio)return s;var s=r*Ie.slider_image_border_maxratio/2;return s=Math.round(s)}function p(e,t,i){var n={};if(1==Ie.slider_image_border){n["border-style"]="solid";var o=h(e,i);n["border-width"]=o+"px",n["border-color"]=Ie.slider_image_border_color,n["border-radius"]=Ie.slider_image_border_radius}"image"!=t&&1==Ie.slider_video_constantsize&&(n["background-color"]="#000000"),1==Ie.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function f(e,t){var i=Ie.slider_video_constantsize_width,n=Ie.slider_video_constantsize_height,o=Ie.slider_video_constantsize_scalemode;return xe.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,o)}function g(e,t,i){var n=e.children(".ug-item-wrapper"),o=K(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var r=t.urlImage,s=e.data("urlImage");e.data("urlImage",r);var a=ge.getScaleMode(e),l=ge.getSlideType(e);if(objPadding=ge.getObjImagePadding(),s==r&&!0!==i){var u=n.children("img");(0==t.imageWidth||0==t.imageHeight)&&_e.checkFillImageSize(u,t);h={};p(u,l,h="image"!=l&&1==Ie.slider_video_constantsize?f(u,t):xe.scaleImageFitParent(u,t.imageWidth,t.imageHeight,a,objPadding)),me.trigger(ge.events.AFTER_PUT_IMAGE,e)}else if(u=xe.placeImageInsideParent(r,n,t.imageWidth,t.imageHeight,a,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),c(o),"image"!=l&&1==Ie.slider_video_constantsize)h=f(u,t);else var h=xe.getImageInsideParentData(n,t.imageWidth,t.imageHeight,a,objPadding);u.css("width",h.imageWidth+"px"),p(u,l,h),me.trigger(ge.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),d(o),e.data("isLoading",!0),ge.isSlideCurrent(e)&&me.trigger(ge.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=ge.getSlideType(i),o=K(i),r=ge.getObjImagePadding(),s=ge.getScaleMode(i);c(o),i.data("isLoading",!1),ge.isSlideCurrent(i)&&me.trigger(ge.events.CURRENTSLIDE_LOAD_END),_e.onItemBigImageLoaded(null,e);var a=_e.getItem(t),l={};"image"!=n&&1==Ie.slider_video_constantsize?f(e,a):l=xe.scaleImageFitParent(e,a.imageWidth,a.imageHeight,s,r),e.fadeTo(0,1),p(e,n,l),me.trigger(ge.events.AFTER_PUT_IMAGE,i)})}function m(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index"),e.data("index",t.index),e.data("type",t.type),1==Ie.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),g(e,t);var n=J(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&_e.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function _(){if(!Ce)return!1;if(1==b())return!1;var e=Ce.getElement(),t=0;(1==Se.isTextPanelSaparateHover||1==Ie.slider_textpanel_always_on)&&(t=Ie.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function v(){if(!Ce)return!1;if(0==b())return!1;var e=Ce.getElement(),t=0;(1==Se.isTextPanelSaparateHover||1==Ie.slider_textpanel_always_on)&&(e.show(),Ce.positionElements(),t=Ie.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function b(){return!1!==Ce.getElement().data("isHidden")}function y(e,t){if(void 0==t)var t=ge.getCurrentSlide();var i=ge.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e);return!0}function w(){var e=ge.getCurrentSlide(),t=ge.getSlideImage(e),i=xe.getElementSize(e),n=i.left,o=i.top;if(1==Ie.slider_video_constantsize){var r=xe.getElementSize(t);n+=r.left,o+=r.top}else n+=Ie.slider_video_padding_left,o+=Ie.slider_video_padding_top;we.setPosition(n,o)}function x(){var e=Ie.slider_video_constantsize_width,t=Ie.slider_video_constantsize_height;we.setSize(e,t),p(we.getObject(),"video")}function T(e,t,i){me.trigger(ge.events.TRANSITION_START);var n=Ie.slider_transition;switch(i&&(n=i),ge.stopSlideAction(null,!0),n){default:case"fade":E(t);break;case"slide":C(e,t);break;case"lightbox_open":E(t,!1,!0)}}function C(e,t){if(1==ge.isAnimating())return Se.itemWaiting=t,!0;null!=Se.itemWaiting&&(Se.itemWaiting=null);var i=ge.getSlidesReference();switch(e){case"right":m(i.objPrevSlide,t),l();n=-xe.getElementSize(i.objPrevSlide).left;ge.switchSlideNums("right");break;case"left":m(i.objNextSlide,t),l();var n=-xe.getElementSize(i.objNextSlide).left;ge.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var o={duration:Ie.slider_transition_speed,easing:Ie.slider_transition_easing,queue:!1,always:function(){ge.stopSlideAction(),we.hide(),null!=Se.itemWaiting?C(Z(Se.itemWaiting),Se.itemWaiting):(ge.placeNabourItems(),me.trigger(ge.events.TRANSITION_END))}};re.animate({left:n+"px"},o)}function I(e,t,i){i?e.fadeTo(Ie.slider_transition_speed,t,i):e.fadeTo(Ie.slider_transition_speed,t)}function E(e,t,i){if(!t)var t=!1;var n=ge.getSlidesReference();m(n.objNextSlide,e);var o=xe.getElementSize(n.objCurrentSlide);xe.placeElement(n.objNextSlide,o.left,o.top);var r=Se.numCurrent;Se.numCurrent=Se.numNext,Se.numNext=r,me.trigger(ge.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t?(n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),ge.placeNabourItems(),me.trigger(ge.events.TRANSITION_END),!0!==i&&we.hide()):(n.objNextSlide.fadeTo(0,0),I(n.objCurrentSlide,0,function(){ge.placeNabourItems(),me.trigger(ge.events.TRANSITION_END),!0!==i&&we.hide()}),1==we.isVisible()&&I(we.getObject(),0),I(n.objNextSlide,1))}function S(){1==Ie.slider_fullscreen_button_mobilehide&&be&&be.hide(),1==Ie.slider_play_button_mobilehide&&ve&&ve.hide(),1==Ie.slider_zoompanel_mobilehide&&pe&&pe.getElement().hide()}function P(){1==Ie.slider_fullscreen_button_mobilehide&&be&&be.show(),1==Ie.slider_play_button_mobilehide&&ve&&ve.show(),1==Ie.slider_zoompanel_mobilehide&&pe&&pe.getElement().show()}function j(){_e.isMobileMode()?S():P()}function A(){return oe.children(".ug-slider-control")}function k(e){if(0==xe.isTimePassed("sliderControlsToggle"))return!1;if(0==Se.isControlsVisible)return!1;if(!e)var e=!1;var t=A();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Ie.slider_controls_appear_duration,0,function(){t.hide()}),Se.isControlsVisible=!1}function O(e){if(0==xe.isTimePassed("sliderControlsToggle"))return!1;if(1==Se.isControlsVisible)return!0;if(!e)var e=!1;var t=A();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Ie.slider_controls_appear_duration,1)),Se.isControlsVisible=!0}function M(){0==Se.isControlsVisible?O():k()}function N(e){if(e==Se.currentControlsMode)return!1;switch(e){case"image":pe&&pe.getElement().show();break;case"video":pe&&pe.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Se.currentControlsMode=e}function z(e,t,i){var n=_e.getSelectedItem();ge.setItem(n,!1,i);var o=n.index;ye&&ye.setActive(o),Ce&&0==Se.isTextPanelSaparateHover&&v(),N("image"==n.type?"image":"video")}function D(e,t){_e.selectItem(t)}function $(e){return!(!ce||0!=ce.isTapEventOccured(e))||void me.trigger(ge.events.CLICK,e)}function L(){var e=ge.getCurrentSlide().hasClass("ug-slide-clickable"),t=ge.getCurrentItem();return e?(0==Ie.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0):void(0==Ie.slider_controls_always_on&&1==Ie.slider_controls_appear_ontap&&1==ge.isCurrentSlideType("image")&&(M(),Ce&&1==Ie.slider_textpanel_always_on&&ge.isCurrentSlideType("image")&&ge.isCurrentSlideImageFit()&&v()))}function H(e){Ce&&ge.isCurrentSlideType("image")&&0==ge.isCurrentSlideImageFit()&&_()}function R(){O()}function F(){k()}function W(e){var t=e.parent();ge.startSlideAction(t)}function Q(){_e.isPlayMode()&&_e.pausePlaying(),me.trigger(ge.events.ACTION_START)}function G(){_e.isPlayMode()&&_e.continuePlaying(),me.trigger(ge.events.ACTION_END)}function B(e,t,i){se.data("index")==t&&(objItem=_e.getItem(t),g(se,objItem,!0)),ae.data("index")==t&&(objItem=_e.getItem(t),g(ae,objItem,!0)),le.data("index")==t&&(objItem=_e.getItem(t),g(le,objItem,!0))}function U(e,t){t=jQuery(t);var i=ge.getSlideImage(t),n=J(t),o=xe.getElementSize(i);xe.placeElement(n,"center","middle",o.left,o.top,i)}function Y(e){var t=J(e);xe.addClassOnHover(t),xe.setButtonOnClick(t,W)}function q(){te.on(_e.events.ITEM_IMAGE_UPDATED,B),te.on(_e.events.ITEM_CHANGE,z),ye&&jQuery(ye).on(ye.events.BULLET_CLICK,D),1==Ie.slider_enable_arrows&&(xe.addClassOnHover(de,"ug-arrow-hover"),xe.addClassOnHover(ue,"ug-arrow-hover"),_e.setNextButton(de),_e.setPrevButton(ue)),0==Ie.slider_controls_always_on&&oe.hover(R,F),oe.on("touchend click",$),me.on(ge.events.CLICK,L),Ce&&1==Se.isTextPanelSaparateHover&&oe.hover(v,_),ve&&(xe.addClassOnHover(ve,"ug-button-hover"),_e.setPlayButton(ve)),be&&(xe.addClassOnHover(be,"ug-button-hover"),_e.setFullScreenToggleButton(be)),he&&me.on(ge.events.ZOOM_CHANGE,H),pe&&pe.initEvents(),we.initEvents(),jQuery(we).on(we.events.SHOW,Q),jQuery(we).on(we.events.HIDE,G),Y(se),Y(ae),Y(le),me.on(ge.events.AFTER_PUT_IMAGE,U),oe.delegate(".ug-item-wrapper img","mouseenter",function(e){me.trigger(ge.events.IMAGE_MOUSEENTER)}),oe.delegate(".ug-item-wrapper img","mouseleave",function(e){0==ge.isMouseInsideSlideImage(e)&&me.trigger(ge.events.IMAGE_MOUSELEAVE)})}function V(){var e;switch(Ie.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==Ie.slider_loader_color&&(e+=" ug-loader-black"),e}function X(e){switch(e){case 1:return se;case 2:return ae;case 3:return le;default:throw new Error("wrong num: "+e)}}function Z(e){var t="left";return ge.getSlidesReference().objCurrentSlide.data("index")>e.index&&(t="right"),t}function K(e){if(!e)var e=ge.getCurrentSlide();return e.children(".ug-slider-preloader")}function J(e){return e.children(".ug-button-videoplay")}function ee(e){if(!e)var e=ge.getCurrentSlide();var t=e.data("index");return void 0==t?null:_e.getItem(t)}var te,ie,ne,oe,re,se,ae,le,ue,de,ce,he,pe,fe,ge=this,me=jQuery(ge),_e=new UniteGalleryMain,ve=null,be=null,ye=null,we=new UGVideoPlayer,xe=new UGFunctions,Te=null,Ce=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var Ie={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Ee={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Se={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(me.trigger(ge.events.BEFORE_SWITCH_SLIDES),e){case"left":t=Se.numCurrent;Se.numCurrent=Se.numNext,Se.numNext=Se.numPrev,Se.numPrev=t;break;case"right":var t=Se.numCurrent;Se.numCurrent=Se.numPrev,Se.numPrev=Se.numNext,Se.numNext=t;break;default:throw new Error("wrong direction: "+e)}me.trigger(ge.events.ITEM_CHANGED)},this.destroy=function(){me.off(ge.events.AFTER_PUT_IMAGE),te.off(_e.events.ITEM_IMAGE_UPDATED),te.off(_e.events.ITEM_CHANGE),ye&&jQuery(ye).on(ye.events.BULLET_CLICK),oe.off("mouseenter"),oe.off("mouseleave"),oe.off("touchend"),oe.off("click"),me.off(ge.events.CLICK),he&&me.off(ge.events.ZOOM_CHANGE),me.off(ge.events.BEFORE_SWITCH_SLIDES),jQuery(we).off(we.events.SHOW),jQuery(we).off(we.events.HIDE),we.destroy(),oe.undelegate(".ug-item-wrapper img","mouseenter"),oe.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,i,n){e(t,i,n)},this.getSlideImage=function(e){if(!e)var e=ge.getCurrentSlide();return e.find(".ug-item-wrapper img")},this.setHtml=function(e){o(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=ge.getSlidesReference();return-xe.getElementSize(e.objCurrentSlide).left==xe.getElementSize(re).left},this.isAnimating=function(){return re.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Se.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return void 0!==t&&null!==t},this.getObjImagePadding=function(){return{padding_top:Ie.slider_image_padding_top,padding_bottom:Ie.slider_image_padding_bottom,padding_left:Ie.slider_image_padding_left,padding_right:Ie.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:X(Se.numPrev),objNextSlide:X(Se.numNext),objCurrentSlide:X(Se.numCurrent)}},this.getCurrentSlide=function(){return ge.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=ge.getSlidesReference().objCurrentSlide.data("index");return(null===e||void 0===e)&&(e=-1),e},this.getCurrentItem=function(){var e=ge.getCurrentItemIndex();return-1==e?null:_e.getItem(e)},this.getSlideType=function(e){return void 0==e&&(e=ge.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=ge.getSlideImage(),i=xe.getMousePosition(e);void 0===i.pageX&&(i=ce.getLastMousePos());var n=xe.getMouseElementPoint(i,t),o=xe.getElementSize(t);return isMouseInside=xe.isPointInsideElement(n,o),isMouseInside},this.isCurrentSlideType=function(e){return ge.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===ge.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n=ge.getSlidesReference(),o=n.objCurrentSlide.data("index"),r=e.index;if(r==o)return!0;if(void 0==o)m(n.objCurrentSlide,e),ge.placeNabourItems();else{var s="left";_e.getNumItems(),"next"==i?s="left":"prev"==i||o>r?s="right":o>r&&(s="right"),T(s,e,t)}},this.placeNabourItems=function(){var e=ge.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=_e.getPrevItem(t),n=_e.getNextItem(t);m(e.objNextSlide,n),m(e.objPrevSlide,i),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=ge.getCurrentSlide()),!0===t?we.pause():we.hide()},this.startSlideAction=function(e){e||(e=ge.getCurrentSlide());var t=ee(e);if("image"==t.type)return!0;switch(1==Ie.slider_video_constantsize&&x(),w(),we.show(),t.type){case"youtube":we.playYoutube(t.videoid);break;case"vimeo":we.playVimeo(t.videoid);break;case"html5video":we.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":we.playSoundCloud(t.trackid);break;case"wistia":we.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=ge.getCurrentSlide();return"image"!=ge.getSlideType(e)?Ie.slider_scale_mode_media:Ie.slider_scale_mode==Ie.slider_scale_mode_fullscreen?Ie.slider_scale_mode:1==_e.isFullScreen()?Ie.slider_scale_mode_fullscreen:Ie.slider_scale_mode},this.getObjects=function(){return{g_objSlider:oe,g_objInner:re,g_options:Ie,g_objZoomSlider:he}},this.getObjZoom=function(){return he},this.getOptions=function(){return Ie},this.getElement=function(){return oe},this.getVideoObject=function(){return we},this.isCurrentSlideImageFit=function(){var e=ge.getCurrentSlide();ge.getSlideType(e),y("image",e);var t=ge.getSlideImage(e);return 0!=t.length&&xe.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=ge.getSlideImage();if(0==e.length)return!1;var t=ge.getScaleMode(),i=ge.getObjImagePadding(),n=ee(),o=e.parent(),r=xe.getImageInsideParentData(o,n.imageWidth,n.imageHeight,t,i),s=xe.getElementSize(e),a=!1;return r.imageWidth==s.width&&(a=!0),a},this.isSlideActionActive=function(){return we.isVisible()},this.isSwiping=function(){return!!ce&&ce.isTouchActive()},this.isPreloading=function(){return!!K().is(":visible")},this.setOptions=function(e){fe&&(e=xe.convertCustomPrefixOptions(e,fe,"slider")),Ie=jQuery.extend(Ie,e)},this.setSize=function(e,t){if(0>e||0>t)return!0;var i={};i.width=e+"px",i.height=t+"px",oe.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",re.css(n);var o={};o.height=t+"px",o.width=e+"px",se.css(o),ae.css(o),le.css(o);var r=e-Ie.slider_item_padding_left-Ie.slider_item_padding_right,a=t-Ie.slider_item_padding_top-Ie.slider_item_padding_bottom,d={};if(d.width=r+"px",d.height=a+"px",d.top=Ie.slider_item_padding_top+"px",d.left=Ie.slider_item_padding_left+"px",oe.find(".ug-item-wrapper").css(d),Ce&&Ce.setSizeByParent(),s(),u(se),u(ae),u(le),l(),"image"!=ge.getSlideType()&&1==Ie.slider_video_constantsize)x();else{var c=e-Ie.slider_video_padding_left-Ie.slider_video_padding_right,h=t-Ie.slider_video_padding_top-Ie.slider_video_padding_bottom;we.setSize(c,h)}w()},this.refreshSlideItems=function(){return 1==ge.isAnimating()||(u(se),u(ae),u(le),void l())},this.isMouseOver=function(){return oe.ismouseover()},this.setPosition=function(e,t){xe.placeElement(oe,e,t)},this.zoomIn=function(){return!he||void he.zoomIn()},this.zoomOut=function(){return!he||void he.zoomOut()},this.zoomBack=function(){return!he||void he.zoomBack()}}function UGTextPanel(){function e(e,t){if(!t)var t=v.textpanel_padding_top;n=t;if(d){var i=n;m.placeElement(d,0,i);var n=m.getElementSize(d).bottom}var r="";if(c&&(r=jQuery.trim(c.text())),""!=r){var s=n;d&&(s+=v.textpanel_padding_title_description),m.placeElement(c,0,s),n=m.getElementSize(c).bottom}v.textpanel_height||1!=b.setInternalHeight||o(n+v.textpanel_padding_bottom,e)}function t(){var e=0;if(d&&(e+=d.outerHeight()),c){var t="";c&&(t=jQuery.trim(c.text())),""!=t&&(d&&(e+=v.textpanel_padding_title_description),e+=c.outerHeight())}return e}function i(){var i=t();e(!1,(p.height()-i)/2)}function n(){var i=t();e(!1,p.height()-i-v.textpanel_padding_bottom)}function o(e,t){if(!t)var t=!1;if(1==t){h&&e>h.height()&&h.height(e);var i={height:e+"px"};l.add(p).animate(i,v.textpanel_fade_duration)}else h&&h.height(e),l.add(p).height(e)}function r(){if(1==v.textpanel_enable_bg){(h=l.children(".ug-textpanel-bg")).fadeTo(0,v.textpanel_bg_opacity);var e={"background-color":v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),h.css(e)}if(1==v.textpanel_enable_title){d=p.children(".ug-textpanel-title");var t={};null!==v.textpanel_title_color&&(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&&(t["font-family"]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&&(t["text-align"]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&&(t["font-size"]=v.textpanel_title_font_size+"px"),null!==v.textpanel_title_bold&&(!0===v.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),v.textpanel_css_title&&(t=jQuery.extend(t,v.textpanel_css_title)),d.css(t)}if(1==v.textpanel_enable_description){c=p.children(".ug-textpanel-description");var i={};null!==v.textpanel_desc_color&&(i.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&&(i["font-family"]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&&(i["text-align"]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&&(i["font-size"]=v.textpanel_desc_font_size+"px"),null!==v.textpanel_desc_bold&&(!0===v.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),v.textpanel_css_title&&(i=jQuery.extend(i,v.textpanel_css_description)),c.css(i)}}function s(){var e=f.getSelectedItem();g.setText(e.title,e.description)}function a(){jQuery(f).on(f.events.ITEM_CHANGE,s)}var l,u,d,c,h,p,f,g=this,m=new UGFunctions,_="",v={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},b={isFirstTime:!0,setInternalHeight:!0};this.positionElements=function(t){if(!v.textpanel_height||"top"==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":n();break;case"center":case"middle":i()}},this.init=function(e,t,i){if(f=e,i&&(_=i,t=m.convertCustomPrefixOptions(t,_,"textpanel")),t&&(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&&0==v.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");v.textpanel_height&&v.textpanel_height<0&&(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&&(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e;var i="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==v.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==v.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==v.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),l=e.children(".ug-textpanel"),p=l.children(".ug-textpanel-textwrapper"),r()},this.destroy=function(){jQuery(f).off(f.events.ITEM_CHANGE)},this.run=function(){g.setSizeByParent(),a()},this.setPanelSize=function(e,t){if(b.setInternalHeight=!0,t)b.setInternalHeight=!1;else var t=80;v.textpanel_height&&(t=v.textpanel_height),l.width(e),l.height(t),h&&(h.width(e),h.height(t));var i=e-v.textpanel_padding_left-v.textpanel_padding_right,n=v.textpanel_padding_left;m.setElementSizeAndPosition(p,n,0,i,t),d&&d.width(i),c&&c.width(i),0==b.isFirstTime&&g.positionElements(!1)},this.setSizeByParent=function(){var e=m.getElementSize(u);g.setPanelSize(e.width)},this.setTextPlain=function(e,t){d&&d.html(e),c&&c.html(t)},this.setText=function(e,t){1==b.isFirstTime?(g.setTextPlain(e,t),b.isFirstTime=!1,g.positionElements(!1)):p.stop().fadeTo(v.textpanel_fade_duration,0,function(){g.setTextPlain(e,t),g.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(void 0!==e&&null!==e)i.top=e,i.bottom="auto";else switch(v.textpanel_align){case"top":i.top=v.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=v.textpanel_margin+"px";break;case"middle":i.top=m.getElementRelativePos(l,"middle",v.textpanel_margin)}void 0!==t&&null!==t&&(i.left=t),l.css(i)},this.setOptions=function(e){_&&(e=m.convertCustomPrefixOptions(e,_,"textpanel")),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){return m.getElementSize(l)},this.refresh=function(e,t,i,n){r(),i?g.setPanelSize(i,n):g.setSizeByParent(),g.positionElements(!1),!0!==t&&g.positionPanel(),!0===e&&g.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==d.isCurrentSlideType("image"))return!0;1==d.isCurrentSlideImageFit()?0==e(a)&&(t(a),t(l)):1==e(a)&&(i(a),i(l))}var o,r,s,a,l,u=this,d=new UGSlider,c=new UGFunctions,h={slider_zoompanel_skin:""};this.init=function(e,t){d=e,t&&(h=jQuery.extend(h,t))},this.appendHTML=function(e){r=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+h.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),o=e.children(".ug-zoompanel"),s=o.children(".ug-zoompanel-plus"),a=o.children(".ug-zoompanel-minus"),l=o.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){s=e,l=i,(a=t)&&a.addClass("ug-zoompanel-button-disabled"),l&&l.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return o},u.initEvents=function(){c.addClassOnHover(s,"ug-button-hover"),c.addClassOnHover(a,"ug-button-hover"),c.addClassOnHover(l,"ug-button-hover"),c.setButtonOnClick(s,function(){return 1==e(s)||void d.zoomIn()}),c.setButtonOnClick(a,function(){return 1==e(a)||void d.zoomOut()}),c.setButtonOnClick(l,function(){return 1==e(l)||void d.zoomBack()}),jQuery(d).on(d.events.ZOOM_CHANGE,n),jQuery(d).on(d.events.ITEM_CHANGED,n)}}function UGBullets(){function e(){var e="",t="";-1!=f.bullets_space_between&&(t=" style='margin-left:"+f.bullets_space_between+"px'");for(var i=0;u>i;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(r.html(e),!a){var n=r.find(".ug-bullet:first-child");n.length&&(a=n.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function i(){var e=r.children(".ug-bullet");h.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function n(e){if(0>e||e>=u)throw new Error("wrong bullet index: "+e)}function o(){if(1==p.isInited)return!0;throw new Error("The bullets are not inited!")}var r,s,a,l=this,u=0,d=new UniteGalleryMain,c=-1,h=new UGFunctions,p={isInited:!1},f={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){d=e,u=i||d.getNumItems(),p.isInited=!0,""==(f=jQuery.extend(f,t)).bullets_skin&&(f.bullets_skin=f.gallery_skin)},this.getBulletsWidth=function(){return 0==u?0:a?u*a+(u-1)*f.bullets_space_between:0},this.appendHTML=function(t){s=t,o();var n="";""!=f.bullets_addclass&&(n=" "+f.bullets_addclass);var a="<div class='ug-slider-control ug-bullets ug-skin-"+f.bullets_skin+n+"'>";a+="</div>",r=jQuery(a),t.append(r),e(),i()},this.updateNumBullets=function(t){u=t,e(),i()},this.getElement=function(){return r},this.setActive=function(e){o(),n(e);var t=r.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),c=e},this.isActive=function(e){if(n(e),"number"!=typeof e)t=e;else var t=r.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return u}}function UGProgressBar(){var e,t,i=this,n=0,o=new UGFunctions,r={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(i,n){n&&(r=jQuery.extend(r,n)),i.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=i.children(".ug-progress-bar"),(t=e.children(".ug-progress-bar-inner")).css("background-color",r.slider_progressbar_color),e.height(r.slider_progressbar_line_width),t.height(r.slider_progressbar_line_width),t.width("0%");var o=r.slider_progressbar_opacity,s=t[0];s.style.opacity=o,s.style.filter="alpha(opacity="+100*o+")"},this.putHidden=function(t,n){i.put(t,n),e.hide()},this.getElement=function(){return e},this.setSize=function(n){e.width(n),t.width(n),i.draw()},this.setPosition=function(t,i,n,r){o.placeElement(e,t,i,n,r)},this.draw=function(){var e=100*n;t.width(e+"%")},this.setProgress=function(e){n=o.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(s.slider_progresspie_width,s.slider_progresspie_height)/2,n=i[0].getContext("2d");0==o&&(o=!0,n.rotate(1.5*Math.PI),n.translate(-2*t,0)),n.clearRect(0,0,s.slider_progresspie_width,s.slider_progresspie_height);var r=s.slider_progresspie_width/2,a=s.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==s.slider_progresspie_type_fill)n.beginPath(),n.moveTo(r,a),n.arc(r,a,t,l,u),n.lineTo(r,a),n.fillStyle=s.slider_progresspie_color1,n.fill(),n.closePath();else{n.globalCompositeOperation="source-over",n.beginPath(),n.moveTo(r,a),n.arc(r,a,t,l,u),n.lineTo(r,a),n.fillStyle=s.slider_progresspie_color1,n.fill(),n.closePath(),n.globalCompositeOperation="destination-out";var d=t-s.slider_progresspie_stroke_width;n.beginPath(),n.moveTo(r,a),n.arc(r,a,d,l,u),n.lineTo(r,a),n.fillStyle=s.slider_progresspie_color1,n.fill(),n.closePath()}1==s.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,n.beginPath(),n.arc(r,a,t,l,u),n.lineTo(r,a),n.fillStyle=s.slider_progresspie_color2,n.fill(),n.closePath())}var t,i,n=this,o=!1,r=new UGFunctions,s={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(s=jQuery.extend(s,t)),e.append("<canvas class='ug-canvas-pie' width='"+s.slider_progresspie_width+"' height='"+s.slider_progresspie_height+"'></canvas>"),i=e.children(".ug-canvas-pie")},this.putHidden=function(t,o){n.put(t,o),e(.1),i.hide()},this.getElement=function(){return i},this.setPosition=function(e,t){r.placeElement(i,e,t)},this.getSize=function(){return{width:s.slider_progresspie_width,height:s.slider_progresspie_height}},this.setProgress=function(i){i=r.normalizePercent(i),t=i,e(i)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)var e=m.getSlidesReference();return-_.getElementSize(e.objCurrentSlide).left-_.getElementSize(f).left}function t(){var t=m.getSlidesReference(),i=e(t),n=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(i)>=n)return!0;var o=Math.abs(b.lastMouseX-b.startMouseX);return Math.abs(b.lastMouseY-b.startMouseY),!(20>o)&&500>jQuery.now()-b.startTime}function i(e){if(1==m.isInnerInPlace())return!1;if(g.trigger(m.events.BEFORE_RETURN),!e)var e=m.getSlidesReference();var t=-_.getElementSize(e.objCurrentSlide).left;f.animate({left:t+"px"},{duration:v.slider_transition_return_speed,easing:v.slider_transition_continuedrag_easing,queue:!1,progress:function(e,i,n){if(1==b.isDragVideo){var o=_.getElementSize(f).left-t,r=b.videoStartX+o;b.videoObject.css("left",r)}},complete:function(){g.trigger(m.events.AFTER_RETURN)}})}function n(e){m.getVideoObject().hide(),m.switchSlideNums(e),m.placeNabourItems()}function o(){var t=m.getSlidesReference(),o=e(t);if(0==o)return!1;var r=o>0?"left":"right",s=!1;switch(r){case"right":if(m.isSlideHasItem(t.objPrevSlide))var a=_.getElementSize(t.objPrevSlide),l=-a.left;else s=!0;break;case"left":if(m.isSlideHasItem(t.objNextSlide))var u=_.getElementSize(t.objNextSlide),l=-u.left;else s=!0}1==s?i(t):f.stop().animate({left:l+"px"},{duration:v.slider_transition_continuedrag_speed,easing:v.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==b.isDragVideo){var e=_.getElementSize(f).left-b.startPosx,t=b.videoStartX+e;b.videoObject.css("left",t)}},always:function(){n(r),g.trigger(m.events.AFTER_DRAG_CHANGE)}})}function r(e){var t=b.lastMouseX-b.startMouseX;if(0==t)return!0;var i=0>t?"left":"right",n=m.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return b.isInitDataValid=!1,!0;if(0==b.isInitDataValid)return s(e),!0}var o=b.startPosx+t;if(t>0&&o>0)o/=3;else if(0>t){var r=o+f.width();p.width()>r&&(o=b.startPosx+t/3)}if(0==b.isDragging&&(b.isDragging=!0,g.trigger(m.events.START_DRAG)),f.css("left",o+"px"),1==b.isDragVideo){var a=o-b.startPosx,l=b.videoStartX+a;b.videoObject.css("left",l)}}function s(e){var t=_.getMousePosition(e);b.startMouseX=t.pageX,b.startMouseY=t.pageY,b.lastMouseX=b.startMouseX,b.lastMouseY=b.startMouseY,b.startTime=jQuery.now();var i=_.getArrTouches(e);b.startArrTouches=_.getArrTouchPositions(i);var n=_.getElementSize(f);b.startPosx=n.left,b.isInitDataValid=!0,b.isDragVideo=!1,_.storeEventData(e,b.storedEventID)}function a(e){b.touch_active=!1}function l(e,t){b.touch_active=!0,s(t)}function u(e){return e.preventDefault(),b.isDragging=!1,1==m.isAnimating()&&f.stop(!0,!0),_.getArrTouches(e).length>1?(1==b.touch_active&&a("1"),!0):1==b.touch_active||void l("1",e)}function d(e){if(0==b.touch_active)return!0;if(0==e.buttons)return a("2"),o(),!0;_.updateStoredEventData(e,b.storedEventID),e.preventDefault();var t=_.getMousePosition(e);b.lastMouseX=t.pageX,b.lastMouseY=t.pageY;var i=null;1==v.slider_vertical_scroll_ondrag&&(i=_.handleScrollTop(b.storedEventID)),"vert"!==i&&r(e)}function c(e){var n=_.getArrTouches(e).length;if(1==m.isInnerInPlace()&&0==b.touch_active&&0==n)return!0;if(0==n&&1==b.touch_active){a("3");var r=!1;0==_.wasVerticalScroll(b.storedEventID)&&(r=t()),1==r?o():i()}else 1==n&&0==b.touch_active&&l("2",e)}function h(){p.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",c)}var p,f,g,m=new UGSlider,_=new UGFunctions,v={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},b={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var i=_.getArrTouches(t).length;if(0!=i||0!=b.lastNumTouches)return b.lastNumTouches=i,!1;b.lastNumTouches=i;var n=(e(m.getSlidesReference()),Math.abs(b.lastMouseX-b.startMouseX)),o=Math.abs(b.lastMouseY-b.startMouseY),r=jQuery.now()-b.startTime;return 20>n&&50>o&&500>r},this.init=function(e,t){m=e,g=jQuery(m),g_objects=e.getObjects(),p=g_objects.g_objSlider,f=g_objects.g_objInner,v=jQuery.extend(v,t),h()},this.getLastMousePos=function(){return{pageX:b.lastMouseX,pageY:b.lastMouseY}},this.isTouchActive=function(){return b.touch_active}}function UGZoomSliderControl(){function e(e,t){T=e,x=jQuery(T),g_objects=e.getObjects(),y=g_objects.g_objSlider,w=g_objects.g_objInner,I=jQuery.extend(I,t),b()}function t(){var e=T.getScaleMode();return"down"!=e&&(e="fit"),e}function i(){if(20>(n=jQuery.now())-E.storeImageLastTime)return!1;var e=T.getSlidesReference();if(E.objSlide=e.objCurrentSlide,E.objImage=e.objCurrentSlide.find("img"),0==E.objImage.length)return!1;E.objImageSize=C.getElementSize(E.objImage),E.objParent=E.objImage.parent(),E.objParentSize=C.getElementSize(E.objParent);var i=t();objPadding=T.getObjImagePadding(),E.objFitImageSize=C.getImageInsideParentDataByImage(E.objImage,i,objPadding);var n=jQuery.now();return E.storeImageLastTime=n,!0}function n(e,i){var n=T.getSlidesReference().objCurrentSlide.find("img"),o=t();x.trigger(T.events.ZOOM_START);var r=!0,s=T.getObjImagePadding();if("back"==e){var a=C.getImageOriginalSize(n);C.scaleImageFitParent(n,a.width,a.height,o,s)}else{var l="in"==e;r=C.zoomImageInsideParent(n,l,I.slider_zoom_step,i,o,I.slider_zoom_max_ratio,s)}1==r&&(x.trigger(T.events.ZOOMING),x.trigger(T.events.ZOOM_CHANGE),x.trigger(T.events.ZOOM_END))}function o(e,t,i){var n=C.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(n.length>1)return!1;return!!C.isElementBiggerThenParent(e)}function r(e){var t=C.getMousePosition(e);E.startMouseX=t.pageX,E.startMouseY=t.pageY,E.lastMouseX=E.startMouseX,E.lastMouseY=E.startMouseY,E.startImageX=E.objImageSize.left,E.startImageY=E.objImageSize.top,E.panXActive=E.objImageSize.width>E.objParentSize.width,E.panYActive=E.objImageSize.height>E.objParentSize.height}function s(e){E.isPanActive=!0,r(e)}function a(e){if(void 0==E.objImage||0==E.objImage.length)return!0;var t=C.getMousePosition(e),i=(t.pageX,E.startMouseX,t.pageY,E.startMouseY,t.pageX-E.lastMouseX),n=t.pageY-E.lastMouseY,o=0>i?"left":"right",r=0>n?"up":"down";E.lastMouseX=t.pageX,E.lastMouseY=t.pageY;var s=C.getElementSize(E.objImage);0==E.panYActive?n=0:"down"==r&&s.top>0?n/=3:"up"==r&&s.bottom<E.objParentSize.height&&(n/=3),0==E.panXActive||0==T.isInnerInPlace()?i=0:"right"==o&&s.left>0?i/=3:"left"==o&&s.right<E.objParentSize.width&&(i/=3);var a=s.left+i,l=s.top+n;C.placeElement(E.objImage,a,l)}function l(){var e=!1,t=!1,i=0,n=0,o=C.getElementSize(E.objImage),r=T.getObjImagePadding(),s=C.getElementCenterPosition(E.objImage,r);E.panXActive=E.objImageSize.width>E.objParentSize.width,E.panYActive=E.objImageSize.height>E.objParentSize.height,1==E.panYActive?o.top>0?(n=0,t=!0):o.bottom<E.objParentSize.height&&(n=E.objParentSize.height-o.height,t=!0):o.top!=s.top&&(t=!0,n=s.top),1==E.panXActive?o.left>0?(i=0,e=!0):o.right<E.objParentSize.width&&(i=E.objParentSize.width-o.width,e=!0):o.left!=s.left&&(e=!0,i=s.left);var a={};1==t&&(a.top=n+"px"),1==e&&(a.left=i+"px"),(1==t||1==e)&&E.objImage.animate(a,{duration:I.slider_zoom_return_pan_duration,easing:I.slider_zoom_return_pan_easing,queue:!1})}function u(){return!(!E.objImage||!E.objImage.is(":animated"))}function d(e){E.isZoomActive=!0,E.startDistance=C.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==E.startDistance&&(E.startDistance=1),E.startMiddlePoint=C.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),E.objImageSize=C.getElementSize(E.objImage),E.startImageX=E.objImageSize.left,E.startImageY=E.objImageSize.top,E.imageOrientPoint=C.getElementLocalPoint(E.startMiddlePoint,E.objImage),0==C.isPointInsideElement(E.imageOrientPoint,E.objImageSize)&&(E.imageOrientPoint=C.getElementCenterPoint(E.objImage)),x.trigger(T.events.ZOOM_START)}function c(e){if(0==E.isZoomActive)return!1;2!=C.getArrTouches(e).length&&(E.isZoomActive=!1,x.trigger(T.events.ZOOM_END))}function h(e){if(1==E.isZoomActive)return!0;var t=C.getArrTouches(e);return 2!=t.length||void d(t)}function p(e){var t=C.getArrTouches(e),i=C.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/E.startDistance,n=C.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=E.objImageSize.width*i,r=E.objImageSize.height*i,s=C.getImageOriginalSize(E.objImage),a=1;if(s.width>0&&(a=o/s.width),a>I.slider_zoom_max_ratio)return!0;panX=-(E.imageOrientPoint.x*i-E.imageOrientPoint.x),panY=-(E.imageOrientPoint.y*i-E.imageOrientPoint.y);var l=n.x-E.startMiddlePoint.x,u=n.y-E.startMiddlePoint.y,d=E.startImageX+panX+l,c=E.startImageY+panY+u;C.setElementSizeAndPosition(E.objImage,d,c,o,r),x.trigger(T.events.ZOOMING),x.trigger(T.events.ZOOM_CHANGE)}function f(){if(void 0==E.objImage||0==E.objImage.length)return!0;if(C.getElementSize(E.objImage).width<E.objFitImageSize.imageWidth){E.objImage.css({position:"absolute",margin:"none"});var e={top:E.objFitImageSize.imageTop+"px",left:E.objFitImageSize.imageLeft+"px",width:E.objFitImageSize.imageWidth+"px",height:E.objFitImageSize.imageHeight+"px"};E.objImage.animate(e,{duration:I.slider_zoom_return_pan_duration,easing:I.slider_zoom_return_pan_easing,queue:!1})}else l()}function g(e){return 0==T.isCurrentSlideType("image")||(i(),void 0==E.objImage||0==E.objImage.length||(e.preventDefault(),1==u()&&E.objImage.stop(!0),1==E.isZoomActive?c(e):h(e),void(1==E.isZoomActive?E.isPanActive=!1:1==o(E.objImage,e)&&1==E.isZoomedOnce&&s(e))))}function m(e){if(0==T.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;if(i(),void 0==E.objImage||0==E.objImage.length)return!0;var t=E.isPanActive,n=E.isZoomActive;if(0==T.isInnerInPlace())return E.isZoomActive=!1,E.isPanActive=!1,!0;if(1==E.isZoomActive?c(e):h(e),1==E.isZoomActive)E.isPanActive=!1;else{var r=o(E.objImage,e,!0);1==E.isPanActive?E.isPanActive=!1:1==r&&s(e)}(t||n)&&0==E.isZoomActive&&0==E.isPanActive&&f()}function _(e){return 0==T.isCurrentSlideType("image")||void(1==E.isZoomActive?p(e):1==E.isPanActive&&a(e))}function v(e,t,i,o){if(0==I.slider_zoom_mousewheel)return!0;if(0==T.isCurrentSlideType("image"))return!0;e.preventDefault();var r=t>0,s=C.getMousePosition(e);n(1==r?"in":"out",s)}function b(){y.on("mousewheel",v),y.bind("mousedown touchstart",g),jQuery("body").bind("mousemove touchmove",_),jQuery(window).add("body").bind("mouseup touchend",m),x.bind(T.events.BEFORE_RETURN,function(){f()}),x.bind(T.events.ITEM_CHANGED,function(){E.isZoomedOnce=!1}),x.bind(T.events.ZOOM_CHANGE,function(){E.isZoomedOnce=!0})}var y,w,x,T=new UGSlider,C=new UGFunctions,I={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},E={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(i(),void 0==E.objImage||0==E.objImage.length)return!1;if(0==E.isZoomedOnce)return!1;if(0==o(E.objImage,e))return!1;if(0==T.isInnerInPlace())return!1;if("left"==t){if(E.objImageSize.right<=E.objParentSize.width)return!1}else if(E.objImageSize.left>=0)return!1;return!0},this.init=function(t,i){e(t,i)},this.zoomIn=function(){n("in")},this.zoomOut=function(){n("out")},this.zoomBack=function(){n("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,n,r,s){o=null,a=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+n+";height:"+r+";' data-video-width='"+n+"' data-video-height='"+r+"'>&nbsp;</div>";jQuery("#"+e).html(u),o=Wistia.embed(t,{version:"v1",videoWidth:n,videoHeight:r,container:l,autoPlay:s}),a=!0,i()}function i(){o.bind("play",function(){s.trigger(r.events.START_PLAYING)}),o.bind("pause",function(){s.trigger(r.events.STOP_PLAYING)}),o.bind("end",function(){s.trigger(r.events.STOP_PLAYING),s.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,o,r=this,s=jQuery(this),a=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==o)return!1;if(0==a)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")},this.putVideo=function(i,o,r,s,a){return e()?(t(i,o,r,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,o,r,s,a),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!a||!o)}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,n,s,a){o=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var d="<iframe id='"+l+"' src="+(u+=!0===a?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+n+"' height='"+s+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d),(o=SC.Widget(l)).bind(SC.Widget.Events.READY,function(){o&&(g_isPlayerReady=!0,i())}),r=e}function i(){o.bind(SC.Widget.Events.PLAY,function(){a.trigger(s.events.START_PLAYING)}),o.bind(SC.Widget.Events.PAUSE,function(){a.trigger(s.events.STOP_PLAYING)}),o.bind(SC.Widget.Events.FINISH,function(){a.trigger(s.events.STOP_PLAYING),a.trigger(s.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,o,r,s=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(i,o,r,s,a){return e()?(t(i,o,r,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,o,r,s,a),clearInterval(n))},500)))},this.doCommand=function(e){if(null==o)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){s.doCommand("pause")},this.play=function(){s.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,o=null,r&&(jQuery("#"+r).html(""),r=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,n,r,s){o=null,g_isPlayerReady=!1;var a=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",u=e+"_video",d="";s&&!0===s&&(d="autoplay='autoplay'");var c="";t.posterImage&&(c="poster='"+t.posterImage+"'");var h="<video id='"+u+"' width='"+n+"' height='"+r+"'  controls='controls' preload='none' "+d+" "+c+">";""!=t.mp4&&(h+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(h+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(h+="<source type='video/ogg' src='"+t.ogv+"' />"),h+="<object width='"+n+"' height='"+r+"' type='application/x-shockwave-flash' data='"+a+"'>",h+="<param name='movie' value='"+a+"' />",h+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",h+="</object>",h+="</video>",jQuery("#"+e).html(h),new MediaElement(u,{enablePluginDebug:!1,flashName:a,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,o=e,0==s&&o.pause(),i()},error:function(e){trace(e)}})}function i(){g_ugFunctions.addEvent(o,"play",function(){s.trigger(r.events.START_PLAYING)}),g_ugFunctions.addEvent(o,"pause",function(){s.trigger(r.events.STOP_PLAYING)}),g_ugFunctions.addEvent(o,"ended",function(){s.trigger(r.events.STOP_PLAYING),s.trigger(r.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var n,o,r=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(i,o,r,s,a){return e()?(t(i,o,r,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,o,r,s,a),clearInterval(n))},500)))},this.doCommand=function(e){if(null==o)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":o.play();break;case"pause":o.pause()}},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,n,r,s){a=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===s&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var d="<iframe src="+u+" width='"+n+"' height='"+r+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d);var c=jQuery("#"+e+" iframe")[0];(a=Froogaloop(c)).addEvent("ready",function(){a&&(l=!0,i())}),o=e}function i(){return!!a&&(a.addEvent("cuechange",function(){1==u&&r.play()}),a.addEvent("play",function(){s.trigger(r.events.START_PLAYING)}),a.addEvent("pause",function(){s.trigger(r.events.STOP_PLAYING)}),void a.addEvent("finish",function(){s.trigger(r.events.STOP_PLAYING),s.trigger(r.events.VIDEO_ENDED)}))}this.isAPILoaded=!1;var n,o,r=this,s=jQuery(this),a=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=a&&(0!=l&&void a.api(e))},this.pause=function(){r.doCommand("pause")},this.play=function(){r.doCommand("play")},this.destroy=function(){a&&(a.api("unload"),a=null,l=!1),o&&jQuery("#"+o).html("")},this.putVideo=function(i,o,r,s,a){return e()?(t(i,o,r,s,a),!0):(this.loadAPI(),void(n=setInterval(function(){e()&&(t(i,o,r,s,a),clearInterval(n))},500)))},this.isPlayerReady=function(){return!(!l||!a)},this.changeVideo=function(e,t){return 0!=r.isPlayerReady()&&(u=t,void a.api("loadVideo",e))},this.getVideoImages=function(e,t,i){var n=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(n,{},function(e){var n={};n.preview=e[0].thumbnail_large,n.thumb=e[0].thumbnail_medium,i(t,n)})}}function UGYoutubeAPI(){function e(e,t,o,s,u){a&&l&&a.destroy();var d={controls:2,showinfo:c.video_youtube_showinfo,rel:0};!0===u&&(d.autoplay=1),l=!1,a=new YT.Player(e,{height:s,width:o,videoId:t,playerVars:d,events:{onReady:i,onStateChange:n}}),r=e}function t(){return"undefined"!=typeof YT&&void 0!==YT.Player}function i(){l=!0}function n(){if("function"!=typeof a.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=a.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(s.events.START_PLAYING);break;case YT.PlayerState.ENDED:u.trigger(s.events.STOP_PLAYING),u.trigger(s.events.VIDEO_ENDED);break;default:d==YT.PlayerState.PLAYING&&u.trigger(s.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var o,r,s=this,a=null,l=!1,u=jQuery(this),d=-1,c={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){c=jQuery.extend(c,e)},this.putVideo=function(i,n,r,s,a){return t()?(e(i,n,r,s,a),!0):(this.loadAPI(),void(o=setInterval(function(){t()&&(e(i,n,r,s,a),clearInterval(o))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!a)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof a.playVideo)return!1;a.playVideo();break;case"pause":if("function"!=typeof a.pauseVideo)return!1;a.pauseVideo();break;case"seek":if("function"!=typeof a.seekTo)return!1;a.seekTo(t);break;case"stopToBeginning":var i=a.getPlayerState();switch(a.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:a.seekTo(0)}}},this.play=function(){s.doCommand("play")},this.pause=function(){s.doCommand("pause")},this.destroy=function(){try{a&&(l=!1,a.clearVideo(),a.destroy())}catch(e){jQuery("#"+r).html("")}},this.stopToBeginning=function(){s.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=s.isPlayerReady()&&void(t&&1==t?a.loadVideoById(e,0,"large"):a.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!l||!a)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){f.hide()}function t(){g.trigger(f.events.PLAY_START),c&&c.hide()}function i(){g.trigger(f.events.PLAY_STOP),c&&c.show()}function n(){g.trigger(f.events.VIDEO_ENDED)}function o(){c&&(m.setButtonMobileReady(c),m.setButtonOnClick(c,e)),jQuery(_).on(_.events.START_PLAYING,t),jQuery(_).on(_.events.STOP_PLAYING,i),jQuery(_).on(_.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n),jQuery(w).on(w.events.START_PLAYING,t),jQuery(w).on(w.events.STOP_PLAYING,i),jQuery(w).on(w.events.VIDEO_ENDED,n)}function r(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":_.pause(),_.destroy(),l.hide();break;case"vimeo":v.pause(),v.destroy(),u.hide();break;case"html5":b.pause(),d.hide();break;case"soundcloud":y.pause(),y.destroy(),h.hide();break;case"wistia":w.pause(),p.hide()}}}var s,a,l,u,d,c,h,p,f=this,g=jQuery(this),m=new UGFunctions,_=new UGYoutubeAPI,v=new UGVimeoAPI,b=new UGHtml5MediaAPI,y=new UGSoundCloudAPI,w=new UGWistiaAPI,x=null,T={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var C={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(!(s=i))throw new Error("missing gallery ID for video player, it's a must!");T=jQuery.extend(T,e),_.setOptions(T),t&&1==t&&(C.standAloneMode=!0)},this.setHtml=function(e){C.youtubeInnerID=s+"_youtube_inner",C.vimeoPlayerID=s+"_videoplayer_vimeo",C.html5PlayerID=s+"_videoplayer_html5",C.wistiaPlayerID=s+"_videoplayer_wistia",C.soundCloudPlayerID=s+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+C.youtubeInnerID+"'></div></div>",t+="<div id='"+C.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+C.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+C.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+C.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==C.standAloneMode&&1==T.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),a=e.children(".ug-videoplayer"),l=a.children(".ug-videoplayer-youtube"),u=a.children(".ug-videoplayer-vimeo"),d=a.children(".ug-videoplayer-html5"),h=a.children(".ug-videoplayer-soundcloud"),p=a.children(".ug-videoplayer-wistia"),0==C.standAloneMode&&1==T.video_enable_closebutton&&(c=a.children(".ug-videoplayer-button-close"))},this.destroy=function(){c&&(c.off("click"),c.off("touchend")),jQuery(_).off(_.events.START_PLAYING),jQuery(_).off(_.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING),jQuery(b).off(b.events.STOP_PLAYING),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),jQuery(w).off(w.events.START_PLAYING,t),jQuery(w).off(w.events.STOP_PLAYING,i),x=null},this.initEvents=function(){o()},this.setSize=function(e,t){m.setElementSize(a,e,t),c&&m.placeElement(c,"right","top")},this.setPosition=function(e,t){m.placeElement(a,e,t)},this.getObject=function(){return a},this.show=function(){return 1==f.isVisible()||(a.show(),a.fadeTo(0,1),c&&c.show(),void g.trigger(f.events.SHOW))},this.hide=function(){return 0==f.isVisible()||(r(),x=null,a.hide(),void g.trigger(f.events.HIDE))},this.getActiveAPI=function(){switch(x){case"youtube":return _;case"vimeo":return v;case"wistia":return w;case"soundcloud":return y;case"html5":return b;default:return null}},this.pause=function(){var e=f.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return a.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)var t=!0;r("youtube"),l.show(),0==l.children("#"+C.youtubeInnerID).length&&l.append("<div id='"+C.youtubeInnerID+"'></div>"),1==_.isPlayerReady()&&1==C.standAloneMode?_.changeVideo(e,t):_.putVideo(C.youtubeInnerID,e,"100%","100%",t),x="youtube"},this.playVimeo=function(e,t){if(void 0===t)var t=!0;r("vimeo"),u.show(),v.putVideo(C.vimeoPlayerID,e,"100%","100%",t),x="vimeo"},this.playHtml5Video=function(e,t,i,n,o){if(void 0===o)var o=!0;r("html5"),d.show();var s={ogv:e,webm:t,mp4:i,posterImage:n};b.putVideo(C.html5PlayerID,s,"100%","100%",o),x="html5"},this.playSoundCloud=function(e,t){if(void 0===t)var t=!0;r("soundcloud"),h.show(),y.putSound(C.soundCloudPlayerID,e,"100%","100%",t),x="soundcloud"},this.playWistia=function(e,t){if(void 0===t)var t=!0;r("wistia"),p.show(),w.putVideo(C.wistiaPlayerID,e,"100%","100%",t),x="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){try{"jquery"==t?(function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(o){var i=o.message;if(i="Unite Gallery Error: "+i,i="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+i+"</div>","jquery"==t){var n=document.getElementById(e);n.innerHTML=i,n.style.display="block"}else jQuery(e).show().html(i);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),(g_objTheme=new g_options.gallery_theme).init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,o){var r="object"==typeof i;if(r&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),r&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(s=g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(o&&1==g_options.gallery_enable_cache&&cacheItems(o,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n);var s=g_objWrapper.children();fillItemsArray(s),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),r&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)var t="<b>Unite Gallery Error: </b>";var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=t+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var i=e.width/e.orig_ratio;(i=Math.round(i))<g_options.gallery_min_height&&(i=g_options.gallery_min_height),g_objWrapper.height(i)}}function setHtmlObjectsProperties(){var e={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var t=g_functions.getCssSizeParam(g_options.gallery_height);e.height=t}else e.overflow="visible";g_options.gallery_background_color&&(e["background-color"]=g_options.gallery_background_color),g_objWrapper.css(e)}function fillItemsArray(e){g_arrItems=[];for(var i=t.isMobileMode(),n=0,o=0;o<e.length;o++){var r=jQuery(e[o]),s="";if("a"==(a=r.prop("tagName").toLowerCase())){s=r.attr("href");var a=(r=r.children()).prop("tagName").toLowerCase()}var l=r.data("type");void 0==l&&(l="image");var u={};if(u.type=l,"img"==a){var d=r.data("lazyload-src");d&&""!=d&&(r.attr("src",d),jQuery.removeData(r,"lazyload-src"));var c=r.data("image"),h=r.data("thumb");void 0===c&&(c=null),void 0===h&&(h=null);var p=r.attr("src");c||(c=p),h||(h=p),h||(h=c),c||(c=h),u.urlThumb=h,u.urlImage=c,u.title=r.attr("alt"),u.objThumbImage=r,u.objThumbImage.attr("src",u.urlThumb)}else{if("image"==l)throw trace("Problematic gallery item found:"),trace(r),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");u.urlThumb=r.data("thumb"),u.title=r.data("title"),u.objThumbImage=null,u.urlImage=r.data("image")}if(1==i){var f=r.data("thumb-mobile");void 0!==f&&""!=f&&(u.urlThumb=f,"img"==a&&r.attr("src",u.urlThumb));var g=r.data("image-mobile");void 0!==g&&""!=g&&(u.urlImage=g)}u.link=s,u.description=r.attr("title"),u.description||(u.description=r.data("description")),u.description||(u.description=""),u.isLoaded=!1,u.isThumbImageLoaded=!1,u.objPreloadImage=null,u.isBigImageLoadStarted=!1,u.isBigImageLoaded=!1,u.isBigImageLoadError=!1,u.imageWidth=0,u.imageHeight=0,u.thumbWidth=0,u.thumbHeight=0,u.thumbRatioByWidth=0,u.thumbRatioByHeight=0;var m=r.data("width"),_=r.data("height");m&&"number"==typeof m&&_&&"number"==typeof _&&(u.thumbWidth=m,u.thumbHeight=_,u.thumbRatioByWidth=m/_,u.thumbRatioByHeight=_/m),u.addHtml=null;var v=void 0==u.urlImage||""==u.urlImage,b=void 0==u.urlThumb||""==u.urlThumb;switch(u.type){case"youtube":if(u.videoid=r.data("videoid"),v||b){var y=g_ugYoutubeAPI.getVideoImages(u.videoid);v&&(u.urlImage=y.preview),b&&(u.urlThumb=y.thumb,"img"==a&&r.attr("src",u.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":u.videoid=r.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":u.videoogv=r.data("videoogv"),u.videowebm=r.data("videowebm"),u.videomp4=r.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":u.trackid=r.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":u.videoid=r.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var w=r.children("img");w.length&&(w=jQuery(w[0]),u.urlThumb=w.attr("src"),u.title=w.attr("alt"),u.objThumbImage=w);var x=r.children().not("img:first-child");x.length&&(u.addHtml=x.clone())}u.objThumbImage&&(u.objThumbImage.removeAttr("data-description",""),u.objThumbImage.removeAttr("data-image",""),u.objThumbImage.removeAttr("data-thumb",""),u.objThumbImage.removeAttr("title","")),u.index=n,g_arrItems.push(u),n++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;return""==i||void 0==i?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),i=g_arrItems[e];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var n=jQuery(this).attr("src");console.log("Can't load image: "+n),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;i>0&&preloadItemImage(g_arrItems[i]),g_numItems>n&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,o=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:o=!1}1==o&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;if(t.setSizeClass(),(e=t.getSize()).width!=g_temp.lastWidth||e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");return g_galleryID!==n||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}"advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider&&(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover&&(g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)),1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t)"noitems"!=(i=t)&&(i=jQuery(t).clone());else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=i,g_temp.playTimeLastStep=e,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var o=g_functions.getImageOriginalSize(t);n.imageWidth=o.width,n.imageHeight=o.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,o){e.preventDefault(),i>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0>e)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(i>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}return g_arrItems[i]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(0>t){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,i){g_objGallery.on(t.events.ITEM_CHANGE,function(){var n=t.getSelectedItem();e.html(n.title),i.html(n.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress&&g_temp.objProgress.getElement().hide(),g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&0>e||(0>e&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)var e=g_objWrapper;if(!i)var n=t.getSize(),i=n.width;if(0==i)i=jQuery(window).width();var o="";return 480>=i?o="ug-under-480":780>=i?o="ug-under-780":960>i&&(o="ug-under-960"),1==e.hasClass(o)||(removeAllSizeClasses(e),void(""!=o&&e.addClass(o)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||480>=e},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(1==i&&"json",!n||"function"!=typeof n)throw new Error("ajaxRequest error: success function should be passed");if(""==g_options.gallery_urlajax)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)var t={};var o={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:o,success:function(e){return e?-1==e||0===e?(showErrorMessage("ajax error!!!"),!1):void 0===e.success?(showErrorMessage("The 'success' param is a must!"),!1):0==e.success?(showErrorMessage(e.message),!1):void n(e):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(e,t,i){console.log("Ajax Error!!! "+t)}})},this.requestNewItems=function(e,i,n){var o=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(o=!1),1==o&&g_objCache.hasOwnProperty(n)){var r=g_objCache[n];t.changeItems(r,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},!0,function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){if(g_options.gallery_debug_errors,t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,o=e.fileName;e.stack,i+=" <br><br> in file: "+o,i+=" <b> line "+n+"</b>",trace(e)}else i=e;showErrorMessage(i=i.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){function e(e,i){ie=e,U=jQuery(e),se=jQuery.extend(se,le),se=jQuery.extend(se,i),ae.originalOptions=jQuery.extend({},se),"compact"==se.lightbox_type&&(ae.isCompact=!0,se=jQuery.extend(se,ue),se=jQuery.extend(se,i)),t(),1==ae.putSlider?(ie.initSlider(se,"lightbox"),g_objects=e.getObjects(),ne=g_objects.g_objSlider):ne=null,1==se.lightbox_show_textpanel?re.init(ie,se,"lightbox"):re=null}function t(){1==ae.isCompact&&1==se.lightbox_show_textpanel&&(se.lightbox_slider_image_padding_bottom=ae.initTextPanelHeight),1==ae.isCompact&&"inside"==se.lightbox_arrows_position&&(ae.isArrowsInside=!0),1==ae.isArrowsInside&&0==se.lightbox_arrows_inside_alwayson&&(ae.isArrowsOnHoverMode=!0),0==se.lightbox_show_textpanel&&(ae.isTopPanelEnabled=!1,ae.topPanelHeight=0,se.lightbox_slider_image_padding_top=0)}function i(){var e="",t="";1==ae.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==ae.isCompact&&ae.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",se.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):se.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",Y=jQuery(e),jQuery("body").append(Y),ne&&ne.setHtml(Y),q=Y.children(".ug-lightbox-overlay"),0==ae.isCompact&&1==ae.isTopPanelEnabled&&0==(J=Y.children(".ug-lightbox-top-panel")).length&&(J=null),Z=Y.find(".ug-lightbox-button-close"),se.lightbox_show_numbers&&(K=Y.find(".ug-lightbox-numbers")),V=Y.children(".ug-lightbox-arrow-left"),X=Y.children(".ug-lightbox-arrow-right"),re&&(J?re.appendHTML(J):re.appendHTML(Y))}function n(){if(null!==se.lightbox_overlay_color&&q.css("background-color",se.lightbox_overlay_color),null!==se.lightbox_overlay_opacity&&q.fadeTo(0,se.lightbox_overlay_opacity),J&&null!==se.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,se.lightbox_top_panel_opacity),K){var e={};null!==se.lightbox_numbers_size&&(e["font-size"]=se.lightbox_numbers_size+"px"),se.lightbox_numbers_color&&(e.color=se.lightbox_numbers_color),null!==se.lightbox_numbers_padding_right&&(e["padding-right"]=se.lightbox_numbers_padding_right+"px"),null!==se.lightbox_numbers_padding_top&&(e["padding-top"]=se.lightbox_numbers_padding_top+"px"),K.css(e)}}function o(e){if(!ne)return!0;var t={slider_image_padding_top:e};ne.setOptions(t),ne.refreshSlideItems()}function r(e){if(!J)return!1;if(!re)return!1;var t=J.height();if(0==t)return!1;if(0==J.is(":visible"))return!1;var i=t,n=re.getSize().height;t!=ae.topPanelHeight&&(i=ae.topPanelHeight),n>i&&(i=n),t!=i&&(J.height(i),ne&&0==ne.isAnimating()&&o(i))}function s(e){var t={},i=se.lightbox_textpanel_width;i>e.width-47-40?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",se.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=se.lightbox_textpanel_desc_text_align),se.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=se.lightbox_textpanel_desc_text_align)),re.setOptions(t),re.refresh(!0,!0),r("positionTextPanelWide"),re.positionPanel()}function a(){return!!J&&void J.hide()}function l(){return!!J&&void J.show()}function u(e){if(0==ae.isOpened)return!1;if(!re)return!1;if(!ne)return!1;var t=oe.getElementSize(Y),i=re.getSize();if(0==i.width||i.height>120)return!1;if(!e)var n=ne.getSlideImage(),e=oe.getElementSize(n);if(0==e.height||0==e.width)return!1;if(e.bottom+i.height<t.height)return!1;var o=ne.getOptions(),r=i.height;if(r!=o.slider_image_padding_bottom){var s={slider_image_padding_bottom:r};if(0==ne.isAnimating())return ne.setOptions(s),ne.refreshSlideItems(),!0}return!1}function d(e,t){if(!e)var i=ne.getSlideImage(),e=oe.getElementSize(i);ae.textPanelTop=e.bottom,!0===t&&re.positionPanel(ae.textPanelTop,ae.textPanelLeft)}function c(e){var t=(oe.getElementSize(Y),ne.getSlideImage()),i=oe.getElementSize(t);if(0==i.width)return!1;ae.textPanelLeft=i.left,ae.textPanelTop=i.bottom;var n=i.width;if(K){var o=oe.getElementSize(K);n-=o.width;var r=i.right-o.width;oe.placeElement(K,r,ae.textPanelTop)}re&&(re.show(),re.refresh(!0,!0,n),d(i)),0==u(i)&&(ae.positionFrom="handleCompactTextpanelSizes",re&&(re.positionPanel(ae.textPanelTop,ae.textPanelLeft),!0===e&&(e(),P())))}function h(){return 0==ne.isCurrentSlideType("image")||1==ne.isCurrentImageInPlace()}function p(e,t){if(0==ae.isArrowsInside)return!1;if(!V)return!1;var i=h();if(V.show(),X.show(),ae.positionFrom="positionArrowsInside",1==ae.isArrowsOnHoverMode&&1==i&&0==y()&&w(!0),0==i)var n=oe.getElementRelativePos(V,"left",se.lightbox_arrows_offset),o=oe.getElementRelativePos(V,"middle"),r=oe.getElementRelativePos(X,"right",se.lightbox_arrows_offset),s=o;else var a=ne.getSlideImage(),l=oe.getElementSize(a),n=(oe.getElementSize(ne.getElement()),oe.getElementRelativePos(V,"left",0,a)+l.left+se.lightbox_arrows_inside_offset),o=oe.getElementRelativePos(V,"middle",0,a)+l.top,r=oe.getElementRelativePos(V,"right",0,a)+l.left-se.lightbox_arrows_inside_offset,s=o;if(!0===t){var u={left:n,top:o},d={left:r,top:s};V.stop().animate(u,{duration:ae.fadeDuration}),X.stop().animate(d,{duration:ae.fadeDuration})}else V.stop(),X.stop(),oe.placeElement(V,n,o),oe.placeElement(X,r,s);1==e&&T(t)}function f(e,t){ae.positionFrom=null;var i=h(),n=oe.getElementRelativePos(Z,"right",2,Y);if(0==i)var o=2,r=n;else{var s=ne.getSlideImage(),a=oe.getElementSize(s),l=oe.getElementSize(ne.getElement()),u=oe.getElementSize(Z);l.top==l.height&&(l.top=0);r=l.left+a.right-u.width/2+se.lightbox_compact_closebutton_offsetx;2>(o=l.top+a.top-u.height/2-se.lightbox_compact_closebutton_offsety)&&(o=2),r>n&&(r=n)}if(!0===t){var d={left:r,top:o};Z.stop().animate(d,{duration:ae.fadeDuration})}else Z.stop(),oe.placeElement(Z,r,o);!0===e&&C(t)}function g(){Z&&Z.stop().fadeTo(ae.fadeDuration,0),v(),b(),ae.positionFrom="hideCompactElements",1==ae.isArrowsInside&&w()}function m(){Z&&Z.hide(),V&&1==ae.isArrowsInside&&(V.hide(),X.hide()),K&&K.hide(),re&&re.hide()}function _(){var e=oe.getElementSize(Y);J&&oe.setElementSizeAndPosition(J,0,0,e.width,ae.topPanelHeight),V&&0==ae.isArrowsInside&&(1==se.lightbox_hide_arrows_onvideoplay&&(V.show(),X.show()),oe.placeElement(V,"left","middle",se.lightbox_arrows_offset),oe.placeElement(X,"right","middle",se.lightbox_arrows_offset)),0==ae.isCompact&&oe.placeElement(Z,"right","top",2,2),re&&(ae.positionFrom="positionElements",0==ae.isCompact?s(e):(S(),P()));var t=e.width,i=e.height;if(ne){if(J){var n={slider_image_padding_top:J.height()};ne.setOptions(n)}ne.setSize(t,i),ne.setPosition(0,0)}}function v(){re&&re.getElement().stop().fadeTo(ae.fadeDuration,0)}function b(){K&&K.stop().fadeTo(ae.fadeDuration,0)}function y(){if(!ae.lastMouseX)return!0;var e={pageX:ae.lastMouseX,pageY:ae.lastMouseY};return ne.isMouseInsideSlideImage(e)}function w(e,t){return!!V&&(1==ae.isArrowsOnHoverMode&&!1===t?(y(),!0):void(!0===e?(V.stop().fadeTo(0,0),X.stop().fadeTo(0,0)):(V.stop().fadeTo(ae.fadeDuration,0),X.stop().fadeTo(ae.fadeDuration,0))))}function x(){return!V||(0==V.is(":visible")||1!=V.css("opacity"))}function T(e,t){return!!V&&(1==ae.isArrowsOnHoverMode&&!0!==t&&1==h()||(1==ne.isSwiping()||(!0!==e&&(V.stop(),X.stop()),V.fadeTo(ae.fadeDuration,1),void X.fadeTo(ae.fadeDuration,1))))}function C(e){!0!==e&&Z.stop(),Z.fadeTo(ae.fadeDuration,1)}function I(e){if(!re)return!1;if(!e)var e=ne.getCurrentItem();re.setTextPlain(e.title,e.description)}function E(e){if(!K)return!1;if(!e)var e=ne.getCurrentItem();var t=ie.getNumItems(),i=e.index+1;K.html(i+" / "+t)}function S(){return!!re&&void re.getElement().show().stop().fadeTo(ae.fadeDuration,1)}function P(){K&&K.stop().fadeTo(ae.fadeDuration,1)}function j(){return 0==ae.isCompact||void g()}function A(){if(0==ae.isCompact)return!0;ae.positionFrom="onZoomChange",f(!1,!0),p(!1,!0),1==ae.isCompact&&(0==(ne.isCurrentSlideType("image")&&1==ne.isCurrentImageInPlace())?(v(),b()):(ae.positionFrom="onZoomChange",S(),P()))}function k(){if(0==ae.isCompact)return!0;ae.positionFrom="onSliderAfterReturn",f(!0),p(!0),0==u()&&c(),S(),P()}function O(e,t){return t=jQuery(t),0==ae.isCompact||(0==ne.isSlideCurrent(t)||(ae.positionFrom="onSliderAfterPutImage",f(!0),p(!0),void c()))}function M(){var e=ne.getOptions().slider_image_padding_top;if(J){var t=J.height();t!=e&&o(t)}1==ae.isCompact&&(I(),E(),ae.positionFrom="onSliderTransitionEnd",f(!0),p(!0),0==ne.isSlideActionActive()&&0==u()&&c(),S(),P())}function N(e,t){0==ae.isCompact?(K&&E(t),re&&(I(t),0==ae.isRightNowOpened&&(re.positionElements(!1),r("onchange"),re.positionPanel()))):0==ne.isAnimating()&&(re&&I(t),K&&E(t)),0==ae.isSliderChangedOnce&&(ae.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function z(e,t){return!("image"==ne.getSlideType()||0!=ae.isCompact||!ne.isSlideActionActive())||(1==ne.isPreloading()?(ee.close("slider"),!0):void(1==se.lightbox_close_on_emptyspace&&0==ne.isMouseInsideSlideImage(t)&&ee.close("slider_inside")))}function D(){_()}function $(){J?a():K&&K.hide(),V&&1==se.lightbox_hide_arrows_onvideoplay&&(V.hide(),X.hide())}function L(){J?(l(),r("onStopVideo")):K&&K.show(),V&&1==se.lightbox_hide_arrows_onvideoplay&&(V.show(),X.show())}function H(e,t,i){var n=!1;switch(t){case 27:1==ae.isOpened&&ee.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==ae.isOpened&&1==n&&i.preventDefault()}function R(){1==ae.isArrowsOnHoverMode&&T(!1,!0)}function F(e){ae.positionFrom="hideCompactElements",1==ae.isArrowsOnHoverMode&&1==h()&&w(!1,!0)}function W(e){ae.lastMouseX=e.pageX,ae.lastMouseY=e.pageY,1==x()&&y()&&0==ne.isAnimating()&&(ae.positionFrom="onMouseMove",V&&0==V.is(":animated")&&T(!1,!0))}function Q(e,t,i,n){if(0==ae.isOpened)return!0;switch(se.gallery_mousewheel_role){default:case"zoom":"image"!=ne.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ie.onGalleryMouseWheel(e,t,i,n)}}function G(){if(q.on("touchstart",function(e){e.preventDefault()}),q.on("touchend",function(e){ee.close("overlay")}),oe.addClassOnHover(X,"ug-arrow-hover"),oe.addClassOnHover(V,"ug-arrow-hover"),oe.addClassOnHover(Z),ie.setNextButton(X),ie.setPrevButton(V),Z.click(function(){ee.close("button")}),U.on(ie.events.ITEM_CHANGE,N),ne){jQuery(ne).on(ne.events.TRANSITION_END,M),jQuery(ne).on(ne.events.CLICK,z);var e=ne.getVideoObject();jQuery(e).on(e.events.PLAY_START,$),jQuery(e).on(e.events.PLAY_STOP,L),jQuery(ne).on(ne.events.START_DRAG,j),jQuery(ne).on(ne.events.TRANSITION_START,j),jQuery(ne).on(ne.events.AFTER_DRAG_CHANGE,k),jQuery(ne).on(ne.events.AFTER_RETURN,k),jQuery(ne).on(ne.events.AFTER_PUT_IMAGE,O),jQuery(ne).on(ne.events.ZOOM_CHANGE,A),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,R),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,F)}jQuery(window).resize(function(){return 0==ae.isOpened||void oe.whenContiniousEventOver("lightbox_resize",D,100)}),U.on(ie.events.GALLERY_KEYPRESS,H),1==ae.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",W),Y.on("mousewheel",Q)}function B(){ae.isCompact=!1,t(),ae.isArrowsInside=!1,ae.isArrowsOnHoverMode=!1,(se=jQuery.extend({},ae.originalOptions)).lightbox_arrows_position="sides",ne.setOptions(se)}var U,Y,q,V,X,Z,K,J,ee=this,te=jQuery(this),ie=new UniteGalleryMain,ne=new UGSlider,oe=new UGFunctions,re=new UGTextPanel,se={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var ae={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:ae.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),q.off("touchstart"),q.off("touchend"),Z.off("click"),U.off(ie.events.ITEM_CHANGE),ne){jQuery(ne).off(ne.events.TRANSITION_END),jQuery(ne).off(ne.events.CLICK),jQuery(ne).off(ne.events.START_DRAG),jQuery(ne).off(ne.events.TRANSITION_START),jQuery(ne).off(ne.events.AFTER_DRAG_CHANGE),jQuery(ne).off(ne.events.AFTER_RETURN);var e=ne.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ne).on(ne.events.IMAGE_MOUSEENTER,R),jQuery(ne).on(ne.events.IMAGE_MOUSELEAVE,F),ne.destroy()}jQuery(window).unbind("resize"),U.off(ie.events.GALLERY_KEYPRESS,H),Y.off("mousewheel"),Y.remove()},this.open=function(e){var t=ie.getItem(e);ae.isOpened=!0,ae.isRightNowOpened=!0,setTimeout(function(){ae.isRightNowOpened=!1},100),ne&&ne.setItem(t,"lightbox_open"),re&&re.setTextPlain(t.title,t.description),q.stop().fadeTo(0,0),Y.show(),Y.fadeTo(0,1),q.stop().fadeTo(ae.fadeDuration,se.lightbox_overlay_opacity),_(),1==ae.isCompact&&(1==ne.isPreloading()?m():1==ae.isArrowsInside&&(V.hide(),X.hide())),ne&&ne.startSlideAction(),U.trigger(ie.events.OPEN_LIGHTBOX,t)},this.close=function(e){ae.isOpened=!1,1==ae.isCompact&&g(),ne&&ne.stopSlideAction(),"image"!=ne.getSlideType()?Y.hide():Y.fadeTo(ae.fadeDuration,0,function(){Y.hide()}),U.trigger(ie.events.CLOSE_LIGHTBOX)},this.init=function(t,i){e(t,i)},this.putHtml=function(){ie.isSmallWindow()&&1==ae.isCompact&&B(),i()},this.run=function(){n(),ne&&ne.run(),G()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),W=e,z=jQuery(e),D=g_objects.g_objWrapper,$=g_objects.g_arrItems,U=jQuery.extend(U,t),G.setFixedMode(),G.setApproveClickFunction(N),G.init(e,U),B=G.getObjThumbs(),U=G.getOptions(),Y.initTileWidth=U.tile_width,Y.initTileHeight=U.tile_height,Y.tileWidth=U.tile_width}function t(e){if(!e)var e=D;D.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),L=D.children(".ug-carousel-wrapper"),H=L.children(".ug-carousel-inner"),G.setHtml(H),B.getThumbs().fadeTo(0,1)}function i(e,t){if(!t)var t=Y.initTileHeight/Y.initTileWidth*e;Y.tileWidth=e;var i={tile_width:e,tile_height:t};G.setOptions(i),U.tile_width=e,U.tile_height=t,G.resizeAllTiles(e),_(!0)}function n(){if(null===Y.carouselMaxWidth)throw new Error("The carousel width not set");if(Y.tileWidth<Y.initTileWidth){(t=Y.carouselMaxWidth-2*U.carousel_padding)>Y.initTileWidth&&(t=Y.initTileWidth),i(t);var e=Q.getNumItemsInSpace(Y.carouselMaxWidth,t,U.carousel_space_between_tiles)}else if(0>=(e=Q.getNumItemsInSpace(Y.carouselMaxWidth,Y.tileWidth,U.carousel_space_between_tiles))){e=1;var t=Y.carouselMaxWidth-2*U.carousel_padding;i(t)}var n=Q.getSpaceByNumItems(e,Y.tileWidth,U.carousel_space_between_tiles);n+=2*U.carousel_padding,L.width(n),1==Y.isFirstTimeRun?(M(),G.run(),jQuery.each($,function(e,t){t.objThumbWrapper.data("index",e),D.trigger(Y.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),_(!0),1==U.carousel_autoplay&&R.startAutoplay()):(1==U.carousel_autoplay&&R.pauseAutoplay(),x(0,!1),1==U.carousel_autoplay&&R.startAutoplay()),E(),Y.isFirstTimeRun=!1}function o(){return Q.getElementSize(H).left}function r(e){return Q.getMousePosition(e).pageX}function s(){return H.children(".ug-thumb-wrapper")}function a(e){return Q.getNumItemsInSpace(e,Y.tileWidth,U.carousel_space_between_tiles)}function l(){return s().length}function u(e){v(e);var t=s();return jQuery(t[e])}function d(){return H.children(".ug-thumb-wrapper").first()}function c(){return H.children(".ug-thumb-wrapper").last()}function h(e,t,i){var n=e.data("index");if(void 0==n)throw new Error("every tile should have index!");for(var o=[],r=0;t>r;r++){if("prev"==i)s=W.getPrevItem(n,!0);else var s=W.getNextItem(n,!0);if(!s)throw new Error("the item to add is empty");var a=s.objTileOriginal.clone(!0,!0);n=s.index,a.addClass("cloned"),o.push(a)}return o}function p(){var e=Q.getElementSize(L),t=Q.getElementSize(H),i=t.width-e.width+t.left;return Y.sideSpace-i}function f(){var e=-o();return Y.sideSpace-e}function g(){return Q.getElementSize(L).width}function m(){return a(g())}function _(e){if(!e)var e=!1;var t,i=s(),n=0,o=0;return jQuery.each(i,function(e,r){r=jQuery(r),Q.placeElement(r,n,0);var s=Q.getElementSize(r);n+=s.width+U.carousel_space_between_tiles,o=Math.max(o,s.height),e==i.length-1&&(t=s.right)}),H.width(t),o+=2*U.carousel_padding,!0===e&&(H.height(o),L.height(o)),x(Y.numCurrent,!1),t}function v(e){if(e>s().length-1)throw new Error("Wrogn tile number: "+e)}function b(e,t){if("left"==t)i=d();else var i=c();var n=h(i,e,"left"==t?"prev":"next");jQuery.each(n,function(e,i){"left"==t?H.prepend(i):H.append(i),D.trigger(Y.eventSizeChange,i),G.loadTileImage(i)})}function y(e,t){v(n);for(var i=s(),n=i.length,o=0;e>o;o++)"left"==t?jQuery(i[o]).remove():jQuery(i[n-1-o]).remove()}function w(e){var t={left:e+"px"};H.css(t)}function x(e,t,i){if(void 0===t){var t=!0;if(H.is(":animated"))return!0}var n=u(e),o={left:-Q.getElementSize(n).left+U.carousel_padding+"px"};if(!0===t){var r=U.carousel_scroll_duration,s=U.carousel_scroll_easing;!0===i&&(r=Y.scrollShortDuration,s=Y.scrollShortEasing),H.stop(!0).animate(o,{duration:r,easing:s,queue:!1,complete:function(){Y.numCurrent=e,I(!0)}})}else Y.numCurrent=e,H.css(o)}function T(){var e=-o(),t=a(e),i=Q.getElementSize(u(t)).left,n=Q.getElementSize(u(t+1)).left;return Math.abs(i-e)<Math.abs(n-e)?t:t+1}function C(){x(T(),!0,!0)}function I(){var e=f(),t=p(),i=0,n=0,o=0,r=0,s=l();if(e>Y.spaceActionSize?(i=a(e),b(i,"left"),Y.numCurrent+=i):e<-Y.spaceActionSize&&(y(o=a(Math.abs(e)),"left"),Y.numCurrent-=o),t>Y.spaceActionSize?(n=a(t),b(n,"right")):t<-Y.spaceActionSize&&(r=a(Math.abs(t)),y(r,"right")),r>s)throw new Error("Can't remove more then num tiles");var u=!1;return(i||n||o||r)&&(_(),u=!0),u}function E(e){Q.placeElement(H,0,U.carousel_padding),I()}function S(){"left"==U.carousel_autoplay_direction?R.scrollRight(1):R.scrollLeft(1)}function P(e){return 1==Y.touchActive||(Y.touchActive=!0,R.pauseAutoplay(),Y.startTime=jQuery.now(),Y.startMousePos=r(e),Y.startInnerPos=o(),Y.lastTime=Y.startTime,Y.lastMousePos=Y.startMousePos,void Q.storeEventData(e,Y.storedEventID))}function j(e){if(0==Y.touchActive)return!0;Q.updateStoredEventData(e,Y.storedEventID),e.preventDefault();var t=null;if(1==U.carousel_vertical_scroll_ondrag&&(t=Q.handleScrollTop(Y.storedEventID)),"vert"===t)return!0;Y.lastMousePos=r(e);var i=Y.lastMousePos-Y.startMousePos,n=Y.startInnerPos+i,o=i>0?"prev":"next",s=Q.getElementSize(H).width;n>0&&"prev"==o&&(n/=3),-s>n&&"next"==o&&(n=Y.startInnerPos+i/3),w(n)}function A(e){return 0==Y.touchActive||(Y.touchActive=!1,C(),void R.unpauseAutoplay())}function k(e){return 0==U.carousel_autoplay_pause_onhover||void(1==Y.isPlayMode&&0==Y.isPaused&&R.pauseAutoplay())}function O(e){return 0==U.carousel_autoplay_pause_onhover||void R.unpauseAutoplay()}function M(){G.initEvents(),L.bind("mousedown touchstart",P),jQuery("body").bind("mousemove touchmove",j),jQuery(window).add("body").bind("mouseup touchend",A),L.hover(k,O)}function N(){var e=Y.lastTime-Y.startTime,t=Math.abs(Y.lastMousePos-Y.startMousePos);return!(e>300)&&!(t>30)}var z,D,$,L,H,R=this,F=jQuery(this),W=new UniteGalleryMain,Q=new UGFunctions,G=new UGTileDesign,B=new UGThumbsGeneral,U={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var Y={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){Y.isPlayMode=!0,Y.isPaused=!1,F.trigger(R.events.START_PLAY),Y.handle&&clearInterval(Y.handle),Y.handle=setInterval(S,U.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==Y.isPlayMode||(0==Y.isPaused||void R.startAutoplay())},this.pauseAutoplay=function(){return 0==Y.isPlayMode||(Y.isPaused=!0,Y.handle&&clearInterval(Y.handle),void F.trigger(R.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==Y.isPlayMode||(Y.isPaused=!1,Y.isPlayMode=!1,Y.handle&&clearInterval(Y.handle),void F.trigger(R.events.STOP_PLAY))},this.destroy=function(){Y.handle&&clearInterval(Y.handle),F.off(R.events.START_PLAY),F.off(R.events.STOP_PLAY),L.unbind("mousedown"),L.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),L.off("mouseenter").off("mouseleave"),G.destroy()},this.init=function(t,i,n){n&&this.setMaxWidth(n),e(t,i)},this.setMaxWidth=function(e){Y.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return L},this.getObjTileDesign=function(){return G},this.getEstimatedHeight=function(){return U.tile_height+2*U.carousel_padding},this.run=function(){n()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var i=Y.numCurrent-e;0>=i&&(i=0),x(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=U.carousel_navigation_numtiles;var t=m();e>t&&(e=t);var i=l(),n=Y.numCurrent+e;n>=i&&(n=i-1),x(n)},this.setScrollLeftButton=function(e){Q.setButtonMobileReady(e),Q.setButtonOnClick(e,R.scrollLeft)},this.setScrollRightButton=function(e){Q.setButtonMobileReady(e),Q.setButtonOnClick(e,R.scrollRight)},this.setPlayPauseButton=function(e){Q.setButtonMobileReady(e),1==Y.isPlayMode&&0==Y.isPaused&&e.addClass("ug-pause-icon"),F.on(R.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),F.on(R.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),Q.setButtonOnClick(e,function(){0==Y.isPlayMode||1==Y.isPaused?R.startAutoplay():R.stopAutoplay()})}}function UGTabs(){function e(e,t){u=e,s=jQuery(u),"select"==(d=jQuery.extend(d,t)).tabs_type?l=jQuery(d.tabs_container):a=jQuery(d.tabs_container+" .ug-tab")}function t(){r()}function i(e){u.requestNewItems(e)}function n(){var e=d.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;a.not(t).removeClass(e),t.addClass(e);var n=t.data("catid");return!n||void i(n)}function o(){var e=jQuery(this).val();return!e||void i(e)}function r(){"select"==d.tabs_type?l.change(o):a.click(n)}var s,a,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){l&&l.off("change"),a&&a.off("click")},this.init=function(t,i){e(t,i)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var i,n=this,o=(jQuery(n),new UniteGalleryMain),r=[];o=e,i=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,s,a){switch(!0!==a&&r.push({event:e,func:s}),e){case"item_change":i.on(o.events.ITEM_CHANGE,function(){var e=t(o.getSelectedItem());s(e.index,e)});break;case"resize":i.on(o.events.SIZE_CHANGE,s);break;case"enter_fullscreen":i.on(o.events.ENTER_FULLSCREEN,s);break;case"exit_fullscreen":i.on(o.events.EXIT_FULLSCREEN,s);break;case"play":i.on(o.events.START_PLAY,s);break;case"stop":i.on(o.events.STOP_PLAY,s);break;case"pause":i.on(o.events.PAUSE_PLAYING,s);break;case"continue":i.on(o.events.CONTINUE_PLAYING,s);break;case"open_lightbox":i.on(o.events.OPEN_LIGHTBOX,s);break;case"close_lightbox":i.on(o.events.CLOSE_LIGHTBOX,s);break;default:console&&console.log("wrong api event: "+e)}i.trigger(n.events.API_ON_EVENT,[e,s])},this.play=function(){o.startPlayMode()},this.stop=function(){o.stopPlayMode()},this.togglePlay=function(){o.togglePlayMode()},this.enterFullscreen=function(){o.toFullScreen()},this.exitFullscreen=function(){o.exitFullScreen()},this.toggleFullscreen=function(){o.toggleFullscreen()},this.resetZoom=function(){var e=o.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=o.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=o.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){o.nextItem()},this.prevItem=function(){o.prevItem()},this.selectItem=function(e){o.selectItem(e)},this.resize=function(e,t){t?o.resize(e,t):o.resize(e)},this.getItem=function(e){return t(o.getItem(e))},this.getNumItems=function(){return o.getNumItems()},this.reloadGallery=function(e){if(!e)var e={};o.run(null,e),r.map(function(e){n.on(e.event,e.func,!0)})},this.destroy=function(){o.destroy()},i.trigger(n.events.API_INIT_FUNCTIONS,n)}function UGTheme_tilesgrid(){function e(e,i){x=e,S=jQuery.extend(S,P),S=jQuery.extend(S,i),t(),x.setOptions(S),x.setFreestyleMode(),g=e.getObjects(),f=jQuery(e),m=g.g_objWrapper,C.init(e,S),T.init(e,S,!0),E=T.getObjTileDesign()}function t(){S.grid_num_rows||(S.grid_num_rows=9999),S.bullets_addclass="ug-bullets-"+S.theme_bullets_color}function i(){var e=x.getSize().width;return e-=2*S.theme_gallery_padding}function n(){if("bullets"==S.theme_navigation_type){_=new UGBullets;var e=i(),t=T.getNumPanesEstimationByWidth(e),n=x.getOptions();_.init(x,n,t)}if(m.addClass("ug-theme-tilesfixed"),T.setHtml(),_&&_.appendHTML(m),"arrows"==S.theme_navigation_type){var o="<div class='ug-tile-navigation-wrapper' style='position:absolute'>";o+="<div class='ug-button-tile-navigation ug-button-tile-left'></div>",o+="<div class='ug-button-tile-navigation ug-button-tile-right'></div>",o+="</div>",m.append(o),v=m.children(".ug-tile-navigation-wrapper"),b=v.children(".ug-button-tile-left"),y=v.children(".ug-button-tile-right"),b.css("margin-right",S.theme_space_between_arrows+"px")}C.putHtml(),m.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(w=m.children(".ug-tiles-preloader")).fadeTo(0,0)}function o(e){var t=T.getHeightEstimationByWidth(e);return T.getNumPanesEstimationByWidth(e)>1&&("arrows"==S.theme_navigation_type?(t+=S.theme_arrows_margin_top,t+=30):(t+=S.theme_bullets_margin_top,t+=15)),t}function r(){var e=o(t=i());m.height(e);var t=i();p(),I.placeElement(w,S.theme_grid_align,50),T.setWidth(t),T.run(),C.run(),u(),a()}function s(){n(),r()}function a(){x.getSize();var e=T.getSize(),t=T.getElement();I.placeElement(t,S.theme_grid_align,0);var i=(e=T.getSize()).height;if(T.getNumPanes()>1){if(_){_.getElement().show();var n=_.getElement(),o=_.getBulletsWidth(),r=e.left+I.getElementRelativePos(o,S.theme_navigation_align,S.theme_navigation_offset_hor,t);I.placeElement(n,r,i+S.theme_bullets_margin_top),i=I.getElementSize(n).bottom}if(v){v.show();var s=e.left+I.getElementRelativePos(v,S.theme_navigation_align,S.theme_navigation_offset_hor,t);I.placeElement(v,s,i+S.theme_arrows_margin_top),i=I.getElementSize(v).bottom}}else v&&v.hide(),_&&_.getElement().hide();m.height(i)}function l(e,t){var i=(t=jQuery(t)).index();C.open(i)}function u(){if(!_)return!1;numPanes=T.getNumPanes(),_.updateNumBullets(numPanes),_.setActive(0)}function d(){var e=i();T.setWidth(e),T.run(),u(),setTimeout(a,500)}function l(e,t){t=jQuery(t);var i=E.getItemByTile(t).index;C.open(i)}function c(){v&&v.hide(),T&&T.getElement().hide(),w.fadeTo(0,1)}function h(){null!==S.theme_auto_open&&(C.open(S.theme_auto_open),S.theme_auto_open=null)}function p(){f.on(x.events.SIZE_CHANGE,d),f.on(x.events.GALLERY_BEFORE_REQUEST_ITEMS,c),_&&T.attachBullets(_),v&&(T.attachNextPaneButton(y),T.attachPrevPaneButton(b)),jQuery(E).on(E.events.TILE_CLICK,l),jQuery(C).on(C.events.LIGHTBOX_INIT,h)}var f,g,m,_,v,b,y,w,x=new UniteGalleryMain,T=new UGThumbsGrid,C=new UGLightbox,I=new UGFunctions,E=new UGTileDesign,S={theme_gallery_padding:0,theme_grid_align:"center",theme_navigation_type:"bullets",theme_arrows_margin_top:20,theme_space_between_arrows:5,theme_bullets_margin_top:40,theme_navigation_align:"center",theme_navigation_offset_hor:0,theme_bullets_color:"gray",theme_auto_open:null},P={gallery_width:"100%",tile_width:180,tile_height:150,grid_num_rows:3,grid_padding:10,tile_enable_border:!0,tile_enable_shadow:!0,tile_border_radius:2,grid_space_between_cols:20,grid_space_between_rows:20,grid_space_between_mobile:15,bullets_space_between:12,grid_vertical_scroll_ondrag:!0};this.destroy=function(){f.off(x.events.SIZE_CHANGE),f.off(x.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(E).off(E.events.TILE_CLICK),_&&jQuery(_).off(_.events.BULLET_CLICK),jQuery(C).off(C.events.LIGHTBOX_INIT),T.destroy(),C.destroy()},this.run=function(){s()},this.init=function(t,i){e(t,i)}}if(function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function i(e,t){var i=(t=t||ee).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function n(e){var t=!!e&&"length"in e&&e.length,i=pe.type(e);return"function"!==i&&!pe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t,i){return pe.isFunction(t)?pe.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?pe.grep(e,function(e){return e===t!==i}):"string"!=typeof t?pe.grep(e,function(e){return re.call(t,e)>-1!==i}):Te.test(t)?pe.filter(t,e,i):(t=pe.filter(t,e),pe.grep(e,function(e){return re.call(t,e)>-1!==i&&1===e.nodeType}))}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t={};return pe.each(e.match(Pe)||[],function(e,i){t[i]=!0}),t}function a(e){return e}function l(e){throw e}function u(e,t,i){var n;try{e&&pe.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&pe.isFunction(n=e.then)?n.call(e,t,i):t.call(void 0,e)}catch(e){i.call(void 0,e)}}function d(){ee.removeEventListener("DOMContentLoaded",d),e.removeEventListener("load",d),pe.ready()}function c(){this.expando=pe.expando+c.uid++}function h(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ze.test(e)?JSON.parse(e):e)}function p(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(De,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=h(i)}catch(e){}Ne.set(e,t,i)}else i=void 0;return i}function f(e,t,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return pe.css(e,t,"")},l=a(),u=i&&i[3]||(pe.cssNumber[t]?"":"px"),d=(pe.cssNumber[t]||"px"!==u&&+l)&&Le.exec(pe.css(e,t));if(d&&d[3]!==u){u=u||d[3],i=i||[],d=+l||1;do{r=r||".5",d/=r,pe.style(e,t,d+u)}while(r!==(r=a()/l)&&1!==r&&--s)}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=d,n.end=o)),o}function g(e){var t,i=e.ownerDocument,n=e.nodeName,o=We[n];return o||(t=i.body.appendChild(i.createElement(n)),o=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),We[n]=o,o)}function m(e,t){for(var i,n,o=[],r=0,s=e.length;r<s;r++)(n=e[r]).style&&(i=n.style.display,t?("none"===i&&(o[r]=Me.get(n,"display")||null,o[r]||(n.style.display="")),""===n.style.display&&Re(n)&&(o[r]=g(n))):"none"!==i&&(o[r]="none",Me.set(n,"display",i)));for(r=0;r<s;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}function _(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],i):i}function v(e,t){for(var i=0,n=e.length;i<n;i++)Me.set(e[i],"globalEval",!t||Me.get(t[i],"globalEval"))}function b(e,t,i,n,o){for(var r,s,a,l,u,d,c=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===pe.type(r))pe.merge(h,r.nodeType?[r]:r);else if(Ye.test(r)){for(s=s||c.appendChild(t.createElement("div")),a=(Ge.exec(r)||["",""])[1].toLowerCase(),l=Ue[a]||Ue._default,s.innerHTML=l[1]+pe.htmlPrefilter(r)+l[2],d=l[0];d--;)s=s.lastChild;pe.merge(h,s.childNodes),(s=c.firstChild).textContent=""}else h.push(t.createTextNode(r));for(c.textContent="",p=0;r=h[p++];)if(n&&pe.inArray(r,n)>-1)o&&o.push(r);else if(u=pe.contains(r.ownerDocument,r),s=_(c.appendChild(r),"script"),u&&v(s),i)for(d=0;r=s[d++];)Be.test(r.type||"")&&i.push(r);return c}function y(){return!0}function w(){return!1}function x(){try{return ee.activeElement}catch(e){}}function T(e,t,i,n,o,r){var s,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(a in t)T(e,a,i,n,t[a],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=w;else if(!o)return e;return 1===r&&(s=o,o=function(e){return pe().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,o,n,i)})}function C(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function I(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){var i,n,o,r,s,a,l,u;if(1===t.nodeType){if(Me.hasData(e)&&(r=Me.access(e),s=Me.set(t,r),u=r.events)){delete s.handle,s.events={};for(o in u)for(i=0,n=u[o].length;i<n;i++)pe.event.add(t,o,u[o][i])}Ne.hasData(e)&&(a=Ne.access(e),l=pe.extend({},a),Ne.set(t,l))}}function P(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Qe.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function j(e,t,n,o){t=ne.apply([],t);var r,s,a,l,u,d,c=0,h=e.length,p=h-1,f=t[0],g=pe.isFunction(f);if(g||h>1&&"string"==typeof f&&!ce.checkClone&&et.test(f))return e.each(function(i){var r=e.eq(i);g&&(t[0]=f.call(this,i,r.html())),j(r,t,n,o)});if(h&&(r=b(t,e[0].ownerDocument,!1,e,o),s=r.firstChild,1===r.childNodes.length&&(r=s),s||o)){for(l=(a=pe.map(_(r,"script"),I)).length;c<h;c++)u=r,c!==p&&(u=pe.clone(u,!0,!0),l&&pe.merge(a,_(u,"script"))),n.call(e[c],u,c);if(l)for(d=a[a.length-1].ownerDocument,pe.map(a,E),c=0;c<l;c++)u=a[c],Be.test(u.type||"")&&!Me.access(u,"globalEval")&&pe.contains(d,u)&&(u.src?pe._evalUrl&&pe._evalUrl(u.src):i(u.textContent.replace(it,""),d))}return e}function A(e,t,i){for(var n,o=t?pe.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||pe.cleanData(_(n)),n.parentNode&&(i&&pe.contains(n.ownerDocument,n)&&v(_(n,"script")),n.parentNode.removeChild(n));return e}function k(e,t,i){var n,o,r,s,a=e.style;return(i=i||rt(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||pe.contains(e.ownerDocument,e)||(s=pe.style(e,t)),!ce.pixelMarginRight()&&ot.test(s)&&nt.test(t)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in dt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=ut.length;i--;)if((e=ut[i]+t)in dt)return e}function N(e,t,i){var n=Le.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function z(e,t,i,n,o){var r,s=0;for(r=i===(n?"border":"content")?4:"width"===t?1:0;r<4;r+=2)"margin"===i&&(s+=pe.css(e,i+He[r],!0,o)),n?("content"===i&&(s-=pe.css(e,"padding"+He[r],!0,o)),"margin"!==i&&(s-=pe.css(e,"border"+He[r]+"Width",!0,o))):(s+=pe.css(e,"padding"+He[r],!0,o),"padding"!==i&&(s+=pe.css(e,"border"+He[r]+"Width",!0,o)));return s}function D(e,t,i){var n,o=!0,r=rt(e),s="border-box"===pe.css(e,"boxSizing",!1,r);if(e.getClientRects().length&&(n=e.getBoundingClientRect()[t]),n<=0||null==n){if(((n=k(e,t,r))<0||null==n)&&(n=e.style[t]),ot.test(n))return n;o=s&&(ce.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+z(e,t,i||(s?"border":"content"),o,r)+"px"}function $(e,t,i,n,o){return new $.prototype.init(e,t,i,n,o)}function L(){ht&&(e.requestAnimationFrame(L),pe.fx.tick())}function H(){return e.setTimeout(function(){ct=void 0}),ct=pe.now()}function R(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)i=He[n],o["margin"+i]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function F(e,t,i){for(var n,o=(Q.tweeners[t]||[]).concat(Q.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,t,e))return n}function W(e,t){var i,n,o,r,s;for(i in e)if(n=pe.camelCase(i),o=t[n],r=e[i],pe.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(s=pe.cssHooks[n])&&"expand"in s){r=s.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function Q(e,t,i){var n,o,r=0,s=Q.prefilters.length,a=pe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=ct||H(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),r=0,s=u.tweens.length;r<s;r++)u.tweens[r].run(n);return a.notifyWith(e,[u,n,i]),n<1&&s?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},i),originalProperties:t,originalOptions:i,startTime:ct||H(),duration:i.duration,tweens:[],createTween:function(t,i){var n=pe.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)u.tweens[i].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),d=u.props;for(W(d,u.opts.specialEasing);r<s;r++)if(n=Q.prefilters[r].call(u,e,d,u.opts))return pe.isFunction(n.stop)&&(pe._queueHooks(u.elem,u.opts.queue).stop=pe.proxy(n.stop,n)),n;return pe.map(d,F,u),pe.isFunction(u.opts.start)&&u.opts.start.call(e,u),pe.fx.timer(pe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function G(e){return(e.match(Pe)||[]).join(" ")}function B(e){return e.getAttribute&&e.getAttribute("class")||""}function U(e,t,i,n){var o;if(pe.isArray(t))pe.each(t,function(t,o){i||Ct.test(e)?n(e,o):U(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)});else if(i||"object"!==pe.type(t))n(e,t);else for(o in t)U(e+"["+o+"]",t[o],i,n)}function Y(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(Pe)||[];if(pe.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function q(e,t,i,n){function o(a){var l;return r[a]=!0,pe.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||s||r[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var r={},s=e===Dt;return o(t.dataTypes[0])||!r["*"]&&o("*")}function V(e,t){var i,n,o=pe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&pe.extend(!0,e,n),e}function X(e,t,i){for(var n,o,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}function Z(e,t,i,n){var o,r,s,a,l,u={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function K(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var J=[],ee=e.document,te=Object.getPrototypeOf,ie=J.slice,ne=J.concat,oe=J.push,re=J.indexOf,se={},ae=se.toString,le=se.hasOwnProperty,ue=le.toString,de=ue.call(Object),ce={},he="3.1.1",pe=function(e,t){return new pe.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([a-z])/g,_e=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:he,constructor:pe,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:J.sort,splice:J.splice},pe.extend=pe.fn.extend=function(){var e,t,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||pe.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],n=e[t],s!==n&&(u&&n&&(pe.isPlainObject(n)||(o=pe.isArray(n)))?(o?(o=!1,r=i&&pe.isArray(i)?i:[]):r=i&&pe.isPlainObject(i)?i:{},s[t]=pe.extend(u,r,n)):void 0!==n&&(s[t]=n));return s},pe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==ae.call(e)||(t=te(e))&&("function"!=typeof(i=le.call(t,"constructor")&&t.constructor)||ue.call(i)!==de))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ae.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,_e)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,o=0;if(n(e))for(i=e.length;o<i&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?pe.merge(i,"string"==typeof e?[e]:e):oe.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:re.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,r=e.length,s=!i;o<r;o++)!t(e[o],o)!==s&&n.push(e[o]);return n},map:function(e,t,i){var o,r,s=0,a=[];if(n(e))for(o=e.length;s<o;s++)null!=(r=t(e[s],s,i))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,i))&&a.push(r);return ne.apply([],a)},guid:1,proxy:function(e,t){var i,n,o;if("string"==typeof t&&(i=e[t],t=e,e=i),pe.isFunction(e))return n=ie.call(arguments,2),o=function(){return e.apply(t||this,n.concat(ie.call(arguments)))},o.guid=e.guid=e.guid||pe.guid++,o},now:Date.now,support:ce}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=J[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,i,n){var o,r,s,a,l,d,h,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!n&&((t?t.ownerDocument||t:H)!==k&&A(t),t=t||k,M)){if(11!==f&&(l=ge.exec(e)))if(o=l[1]){if(9===f){if(!(s=t.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(p&&(s=p.getElementById(o))&&$(t,s)&&s.id===o)return i.push(s),i}else{if(l[2])return X.apply(i,t.getElementsByTagName(e)),i;if((o=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return X.apply(i,t.getElementsByClassName(o)),i}if(y.qsa&&!G[e+" "]&&(!N||!N.test(e))){if(1!==f)p=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,ye):t.setAttribute("id",a=L),r=(d=C(e)).length;r--;)d[r]="#"+a+" "+c(d[r]);h=d.join(","),p=me.test(e)&&u(t.parentNode)||t}if(h)try{return X.apply(i,p.querySelectorAll(h)),i}catch(e){}finally{a===L&&t.removeAttribute("id")}}}return E(e.replace(re,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[L]=!0,e}function o(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function s(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function c(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function h(e,t,i){var n=t.dir,o=t.next,r=o||n,s=i&&"parentNode"===r,a=F++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o);return!1}:function(t,i,l){var u,d,c,h=[R,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(c=t[L]||(t[L]={}),d=c[t.uniqueID]||(c[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=d[r])&&u[0]===R&&u[1]===a)return h[2]=u[2];if(d[r]=h,h[2]=e(t,i,l))return!0}return!1}}function p(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function f(e,i,n){for(var o=0,r=i.length;o<r;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var r,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(r=e[a])&&(i&&!i(r,n,o)||(s.push(r),u&&t.push(a)));return s}function m(e,t,i,o,r,s){return o&&!o[L]&&(o=m(o)),r&&!r[L]&&(r=m(r,s)),n(function(n,s,a,l){var u,d,c,h=[],p=[],m=s.length,_=n||f(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?_:g(_,h,e,a,l),b=i?r||(n?e:m||o)?[]:s:v;if(i&&i(v,b,a,l),o)for(u=g(b,p),o(u,[],a,l),d=u.length;d--;)(c=u[d])&&(b[p[d]]=!(v[p[d]]=c));if(n){if(r||e){if(r){for(u=[],d=b.length;d--;)(c=b[d])&&u.push(v[d]=c);r(null,b=[],u,l)}for(d=b.length;d--;)(c=b[d])&&(u=r?K(n,c):h[d])>-1&&(n[u]=!(s[u]=c))}}else b=g(b===s?b.splice(m,b.length):b),r?r(null,s,b,l):X.apply(s,b)})}function _(e){for(var t,i,n,o=e.length,r=w.relative[e[0].type],s=r||w.relative[" "],a=r?1:0,l=h(function(e){return e===t},s,!0),u=h(function(e){return K(t,e)>-1},s,!0),d=[function(e,i,n){var o=!r&&(n||i!==S)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,o}];a<o;a++)if(i=w.relative[e[a].type])d=[h(p(d),i)];else{if((i=w.filter[e[a].type].apply(null,e[a].matches))[L]){for(n=++a;n<o&&!w.relative[e[n].type];n++);return m(a>1&&p(d),a>1&&c(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(re,"$1"),i,a<n&&_(e.slice(a,n)),n<o&&_(e=e.slice(n)),n<o&&c(e))}d.push(i)}return p(d)}function v(e,i){var o=i.length>0,r=e.length>0,s=function(n,s,a,l,u){var d,c,h,p=0,f="0",m=n&&[],_=[],v=S,b=n||r&&w.find.TAG("*",u),y=R+=null==v?1:Math.random()||.1,x=b.length;for(u&&(S=s===k||s||u);f!==x&&null!=(d=b[f]);f++){if(r&&d){for(c=0,s||d.ownerDocument===k||(A(d),a=!M);h=e[c++];)if(h(d,s||k,a)){l.push(d);break}u&&(R=y)}o&&((d=!h&&d)&&p--,n&&m.push(d))}if(p+=f,o&&f!==p){for(c=0;h=i[c++];)h(m,_,s,a);if(n){if(p>0)for(;f--;)m[f]||_[f]||(_[f]=q.call(l));_=g(_)}X.apply(l,_),u&&!n&&_.length>0&&p+i.length>1&&t.uniqueSort(l)}return u&&(R=y,S=v),m};return o?n(s):s}var b,y,w,x,T,C,I,E,S,P,j,A,k,O,M,N,z,D,$,L="sizzle"+1*new Date,H=e.document,R=0,F=0,W=i(),Q=i(),G=i(),B=function(e,t){return e===t&&(j=!0),0},U={}.hasOwnProperty,Y=[],q=Y.pop,V=Y.push,X=Y.push,Z=Y.slice,K=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",oe=new RegExp(ee+"+","g"),re=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),ae=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ne),de=new RegExp("^"+te+"$"),ce={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ve=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ye=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){A()},xe=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(Y=Z.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(e){X={apply:Y.length?function(e,t){V.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}y=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:H;return n!==k&&9===n.nodeType&&n.documentElement?(k=n,O=k.documentElement,M=!T(k),H!==k&&(i=k.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),y.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=o(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=fe.test(k.getElementsByClassName),y.getById=o(function(e){return O.appendChild(e).id=L,!k.getElementsByName||!k.getElementsByName(L).length}),y.getById?(w.filter.ID=function(e){var t=e.replace(_e,ve);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var i=t.getElementById(e);return i?[i]:[]}}):(w.filter.ID=function(e){var t=e.replace(_e,ve);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&M){var i,n,o,r=t.getElementById(e);if(r){if((i=r.getAttributeNode("id"))&&i.value===e)return[r];for(o=t.getElementsByName(e),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===e)return[r]}return[]}}),w.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=y.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&M)return t.getElementsByClassName(e)},z=[],N=[],(y.qsa=fe.test(k.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+L+"'></a><select id='"+L+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ee+"*(?:value|"+J+")"),e.querySelectorAll("[id~="+L+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+L+"+*").length||N.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(y.matchesSelector=fe.test(D=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){y.disconnectedMatch=D.call(e,"*"),D.call(e,"[s!='']:x"),z.push("!=",ne)}),N=N.length&&new RegExp(N.join("|")),z=z.length&&new RegExp(z.join("|")),t=fe.test(O.compareDocumentPosition),$=t||fe.test(O.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=t?function(e,t){if(e===t)return j=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===k||e.ownerDocument===H&&$(H,e)?-1:t===k||t.ownerDocument===H&&$(H,t)?1:P?K(P,e)-K(P,t):0:4&i?-1:1)}:function(e,t){if(e===t)return j=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,a=[e],l=[t];if(!o||!r)return e===k?-1:t===k?1:o?-1:r?1:P?K(P,e)-K(P,t):0;if(o===r)return s(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===H?-1:l[n]===H?1:0},k):k},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==k&&A(e),i=i.replace(le,"='$1']"),y.matchesSelector&&M&&!G[i+" "]&&(!z||!z.test(i))&&(!N||!N.test(i)))try{var n=D.call(e,i);if(n||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,k,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==k&&A(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==k&&A(e);var i=w.attrHandle[t.toLowerCase()],n=i&&U.call(w.attrHandle,t.toLowerCase())?i(e,t,!M):void 0;return void 0!==n?n:y.attributes||!M?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(be,ye)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(j=!y.detectDuplicates,P=!y.sortStable&&e.slice(0),e.sort(B),j){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return P=null,e},x=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=x(t);return i},(w=t.selectors={cacheLength:50,createPseudo:n,match:ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(oe," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var u,d,c,h,p,f,g=r!==s?"nextSibling":"previousSibling",m=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(m){if(r){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&v){for(b=(p=(u=(d=(c=(h=m)[L]||(h[L]={}))[h.uniqueID]||(c[h.uniqueID]={}))[e]||[])[0]===R&&u[1])&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[R,p,b];break}}else if(v&&(h=t,c=h[L]||(h[L]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),u=d[e]||[],p=u[0]===R&&u[1],b=p),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++b||(v&&(c=h[L]||(h[L]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),d[e]=[R,b]),h!==t)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){var o,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[L]?r(i):r.length>1?(o=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),s=o.length;s--;)n=K(e,o[s]),e[n]=!(t[n]=o[s])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=I(e.replace(re,"$1"));return o[L]?n(function(e,t,i,n){for(var r,s=o(e,null,n,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(_e,ve),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:n(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,ve).toLowerCase(),function(t){var i;do{if(i=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,i){return[i<0?i+t:i]}),even:l(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:l(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:l(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:l(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(b);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,C=t.tokenize=function(e,i){var n,o,r,s,a,l,u,d=Q[e+" "];if(d)return i?0:d.slice(0);for(a=e,l=[],u=w.preFilter;a;){n&&!(o=se.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=ae.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(re," ")}),a=a.slice(n.length));for(s in w.filter)!(o=ce[s].exec(a))||u[s]&&!(o=u[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):Q(e,l).slice(0)},I=t.compile=function(e,t){var i,n=[],o=[],r=G[e+" "];if(!r){for(t||(t=C(e)),i=t.length;i--;)(r=_(t[i]))[L]?n.push(r):o.push(r);(r=G(e,v(o,n))).selector=e}return r},E=t.select=function(e,t,i,n){var o,r,s,a,l,d="function"==typeof e&&e,h=!n&&C(e=d.selector||e);if(i=i||[],1===h.length){if((r=h[0]=h[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&9===t.nodeType&&M&&w.relative[r[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(_e,ve),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=ce.needsContext.test(e)?0:r.length;o--&&(s=r[o],!w.relative[a=s.type]);)if((l=w.find[a])&&(n=l(s.matches[0].replace(_e,ve),me.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),!(e=n.length&&c(r)))return X.apply(i,n),i;break}}return(d||I(e,h))(n,t,!M,i,!t||me.test(e)&&u(t.parentNode)||t),i},y.sortStable=L.split("").sort(B).join("")===L,y.detectDuplicates=!!j,A(),y.sortDetached=o(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(J,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);pe.find=ve,pe.expr=ve.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ve.uniqueSort,pe.text=ve.getText,pe.isXMLDoc=ve.isXML,pe.contains=ve.contains,pe.escapeSelector=ve.escape;var be=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&pe(e).is(i))break;n.push(e)}return n},ye=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},we=pe.expr.match.needsContext,xe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Te=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?pe.find.matchesSelector(n,e)?[n]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<n;t++)if(pe.contains(o[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)pe.find(e,o[t],i);return n>1?pe.uniqueSort(i):i},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&we.test(e)?pe(e):e||[],!1).length}});var Ce,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pe.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||Ce,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ie.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ee,!0)),xe.test(n[1])&&pe.isPlainObject(t))for(n in t)pe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=ee.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==i.ready?i.ready(e):e(pe):pe.makeArray(e,this)}).prototype=pe.fn,Ce=pe(ee);var Ee=/^(?:parents|prev(?:Until|All))/,Se={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,o=this.length,r=[],s="string"!=typeof e&&pe(e);if(!we.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&pe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?pe.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?re.call(pe(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,i){return be(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,i){return be(e,"nextSibling",i)},prevUntil:function(e,t,i){return be(e,"previousSibling",i)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(i,n){var o=pe.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=pe.filter(n,o)),this.length>1&&(Se[e]||pe.uniqueSort(o),Ee.test(e)&&o.reverse()),this.pushStack(o)}});var Pe=/[^\x20\t\r\n\f]+/g;pe.Callbacks=function(e){e="string"==typeof e?s(e):pe.extend({},e);var t,i,n,o,r=[],a=[],l=-1,u=function(){for(o=e.once,n=t=!0;a.length;l=-1)for(i=a.shift();++l<r.length;)!1===r[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=r.length,i=!1);e.memory||(i=!1),t=!1,o&&(r=i?[]:"")},d={add:function(){return r&&(i&&!t&&(l=r.length-1,a.push(i)),function t(i){pe.each(i,function(i,n){pe.isFunction(n)?e.unique&&d.has(n)||r.push(n):n&&n.length&&"string"!==pe.type(n)&&t(n)})}(arguments),i&&!t&&u()),this},remove:function(){return pe.each(arguments,function(e,t){for(var i;(i=pe.inArray(t,r,i))>-1;)r.splice(i,1),i<=l&&l--}),this},has:function(e){return e?pe.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=i="",this},disabled:function(){return!r},lock:function(){return o=a=[],i||t||(r=i=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},pe.extend({Deferred:function(t){var i=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return pe.Deferred(function(t){pe.each(i,function(i,n){var o=pe.isFunction(e[n[4]])&&e[n[4]];r[n[1]](function(){var e=o&&o.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){function r(t,i,n,o){return function(){var u=this,d=arguments,c=function(){var e,c;if(!(t<s)){if((e=n.apply(u,d))===i.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(c)?o?c.call(e,r(s,i,a,o),r(s,i,l,o)):(s++,c.call(e,r(s,i,a,o),r(s,i,l,o),r(s,i,a,i.notifyWith))):(n!==a&&(u=void 0,d=[e]),(o||i.resolveWith)(u,d))}},h=o?c:function(){try{c()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,h.stackTrace),t+1>=s&&(n!==l&&(u=void 0,d=[e]),i.rejectWith(u,d))}};t?h():(pe.Deferred.getStackHook&&(h.stackTrace=pe.Deferred.getStackHook()),e.setTimeout(h))}}var s=0;return pe.Deferred(function(e){i[0][3].add(r(0,e,pe.isFunction(o)?o:a,e.notifyWith)),i[1][3].add(r(0,e,pe.isFunction(t)?t:a)),i[2][3].add(r(0,e,pe.isFunction(n)?n:l))}).promise()},promise:function(e){return null!=e?pe.extend(e,o):o}},r={};return pe.each(i,function(e,t){var s=t[2],a=t[5];o[t[1]]=s.add,a&&s.add(function(){n=a},i[3-e][2].disable,i[0][2].lock),s.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=s.fireWith}),o.promise(r),t&&t.call(r,r),r},when:function(e){var t=arguments.length,i=t,n=Array(i),o=ie.call(arguments),r=pe.Deferred(),s=function(e){return function(i){n[e]=this,o[e]=arguments.length>1?ie.call(arguments):i,--t||r.resolveWith(n,o)}};if(t<=1&&(u(e,r.done(s(i)).resolve,r.reject),"pending"===r.state()||pe.isFunction(o[i]&&o[i].then)))return r.then();for(;i--;)u(o[i],s(i),r.reject);return r.promise()}});var je=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&je.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},pe.readyException=function(t){e.setTimeout(function(){throw t})};var Ae=pe.Deferred();pe.fn.ready=function(e){return Ae.then(e).catch(function(e){pe.readyException(e)}),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||Ae.resolveWith(ee,[pe]))}}),pe.ready.then=Ae.then,"complete"===ee.readyState||"loading"!==ee.readyState&&!ee.documentElement.doScroll?e.setTimeout(pe.ready):(ee.addEventListener("DOMContentLoaded",d),e.addEventListener("load",d));var ke=function(e,t,i,n,o,r,s){var a=0,l=e.length,u=null==i;if("object"===pe.type(i)){o=!0;for(a in i)ke(e,t,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,pe.isFunction(n)||(s=!0),u&&(s?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(pe(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return o?e:u?t.call(e):l?t(e[0],i):r},Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};c.uid=1,c.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[pe.camelCase(t)]=i;else for(n in t)o[pe.camelCase(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){pe.isArray(t)?t=t.map(pe.camelCase):(t=pe.camelCase(t),t=t in n?[t]:t.match(Pe)||[]),i=t.length;for(;i--;)delete n[t[i]]}(void 0===t||pe.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var Me=new c,Ne=new c,ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,De=/[A-Z]/g;pe.extend({hasData:function(e){return Ne.hasData(e)||Me.hasData(e)},data:function(e,t,i){return Ne.access(e,t,i)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,i){return Me.access(e,t,i)},_removeData:function(e,t){Me.remove(e,t)}}),pe.fn.extend({data:function(e,t){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(o=Ne.get(r),1===r.nodeType&&!Me.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=pe.camelCase(n.slice(5)),p(r,n,o[n]));Me.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):ke(this,function(t){var i;if(r&&void 0===t){if(void 0!==(i=Ne.get(r,e)))return i;if(void 0!==(i=p(r,e)))return i}else this.each(function(){Ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),pe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Me.get(e,t),i&&(!n||pe.isArray(i)?n=Me.access(e,t,pe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=pe.queue(e,t),n=i.length,o=i.shift(),r=pe._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,function(){pe.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Me.get(e,i)||Me.access(e,i,{empty:pe.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",i])})})}}),pe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?pe.queue(this[0],e):void 0===t?this:this.each(function(){var i=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=pe.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=Me.get(r[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},Fe=function(e,t,i,n){var o,r,s={};for(r in t)s[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=s[r];return o},We={};pe.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?pe(this).show():pe(this).hide()})}});var Qe=/^(?:checkbox|radio)$/i,Ge=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Be=/^$|\/(?:java|ecma)script/i,Ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var Ye=/<|&#?\w+;/;!function(){var e=ee.createDocumentFragment().appendChild(ee.createElement("div")),t=ee.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var qe=ee.documentElement,Ve=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,i,n,o){var r,s,a,l,u,d,c,h,p,f,g,m=Me.get(e);if(m)for(i.handler&&(r=i,i=r.handler,o=r.selector),o&&pe.find.matchesSelector(qe,o),i.guid||(i.guid=pe.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(Pe)||[""]).length;u--;)a=Ze.exec(t[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(c=pe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=pe.event.special[p]||{},d=pe.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&pe.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||(h=l[p]=[],h.delegateCount=0,c.setup&&!1!==c.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),pe.event.global[p]=!0)},remove:function(e,t,i,n,o){var r,s,a,l,u,d,c,h,p,f,g,m=Me.hasData(e)&&Me.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(Pe)||[""]).length;u--;)if(a=Ze.exec(t[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(c=pe.event.special[p]||{},h=l[p=(n?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=h.length;r--;)d=h[r],!o&&g!==d.origType||i&&i.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(h.splice(r,1),d.selector&&h.delegateCount--,c.remove&&c.remove.call(e,d));s&&!h.length&&(c.teardown&&!1!==c.teardown.call(e,f,m.handle)||pe.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)pe.event.remove(e,p+t[u],i,n,!0);pe.isEmptyObject(l)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,r,s,a=pe.event.fix(e),l=new Array(arguments.length),u=(Me.get(this,"events")||{})[a.type]||[],d=pe.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,a)){for(s=pe.event.handlers.call(this,a,u),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(n=((pe.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,o,r,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(r=[],s={},i=0;i<l;i++)n=t[i],o=n.selector+" ",void 0===s[o]&&(s[o]=n.needsContext?pe(o,this).index(u)>-1:pe.find(o,this,null,[u]).length),s[o]&&r.push(n);r.length&&a.push({elem:u,handlers:r})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(pe.Event.prototype,e,{enumerable:!0,configurable:!0,get:pe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ve.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===n||pe.contains(n,o))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),pe.fn.extend({on:function(e,t,i,n){return T(this,e,t,i,n)},one:function(e,t,i,n){return T(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,pe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=w),this.each(function(){pe.event.remove(this,e,i,t)})}});var Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Je=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,i){var n,o,r,s,a=e.cloneNode(!0),l=pe.contains(e.ownerDocument,e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(s=_(a),r=_(e),n=0,o=r.length;n<o;n++)P(r[n],s[n]);if(t)if(i)for(r=r||_(e),s=s||_(a),n=0,o=r.length;n<o;n++)S(r[n],s[n]);else S(e,a);return(s=_(a,"script")).length>0&&v(s,!l&&_(e,"script")),a},cleanData:function(e){for(var t,i,n,o=pe.event.special,r=0;void 0!==(i=e[r]);r++)if(Oe(i)){if(t=i[Me.expando]){if(t.events)for(n in t.events)o[n]?pe.event.remove(i,n):pe.removeEvent(i,n,t.handle);i[Me.expando]=void 0}i[Ne.expando]&&(i[Ne.expando]=void 0)}}}),pe.fn.extend({detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return ke(this,function(e){return void 0===e?pe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,e).appendChild(e)})},prepend:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return ke(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Je.test(e)&&!Ue[(Ge.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(pe.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return j(this,arguments,function(t){var i=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(_(this)),i&&i.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var i,n=[],o=pe(e),r=o.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),pe(o[s])[t](i),oe.apply(n,i.get());return this.pushStack(n)}});var nt=/^margin/,ot=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),rt=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",qe.appendChild(s);var t=e.getComputedStyle(a);i="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,a.style.marginRight="50%",o="4px"===t.marginRight,qe.removeChild(s),a=null}}var i,n,o,r,s=ee.createElement("div"),a=ee.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),pe.extend(ce,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),r}}))}();var st=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],dt=ee.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=k(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=pe.camelCase(t),l=e.style;return t=pe.cssProps[a]||(pe.cssProps[a]=M(a)||a),s=pe.cssHooks[t]||pe.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(o=s.get(e,!1,n))?o:l[t]:("string"===(r=typeof i)&&(o=Le.exec(i))&&o[1]&&(i=f(e,t,o),r="number"),void(null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(pe.cssNumber[a]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l[t]=i))))}},css:function(e,t,i,n){var o,r,s,a=pe.camelCase(t);return t=pe.cssProps[a]||(pe.cssProps[a]=M(a)||a),(s=pe.cssHooks[t]||pe.cssHooks[a])&&"get"in s&&(o=s.get(e,!0,i)),void 0===o&&(o=k(e,t,n)),"normal"===o&&t in lt&&(o=lt[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,i,n){if(i)return!st.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?D(e,t,n):Fe(e,at,function(){return D(e,t,n)})},set:function(e,i,n){var o,r=n&&rt(e),s=n&&z(e,t,n,"border-box"===pe.css(e,"boxSizing",!1,r),r);return s&&(o=Le.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=pe.css(e,t)),N(0,i,s)}}}),pe.cssHooks.marginLeft=O(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(k(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+He[n]+t]=r[n]||r[n-2]||r[0];return o}},nt.test(e)||(pe.cssHooks[e+t].set=N)}),pe.fn.extend({css:function(e,t){return ke(this,function(e,t,i){var n,o,r={},s=0;if(pe.isArray(t)){for(n=rt(e),o=t.length;s<o;s++)r[t[s]]=pe.css(e,t[s],!1,n);return r}return void 0!==i?pe.style(e,t,i):pe.css(e,t)},e,t,arguments.length>1)}}),pe.Tween=$,$.prototype={constructor:$,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(pe.cssNumber[i]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,i=$.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=$.prototype.init,pe.fx.step={};var ct,ht,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;pe.Animation=pe.extend(Q,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return f(i.elem,e,Le.exec(t),i),i}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Pe);for(var i,n=0,o=e.length;n<o;n++)i=e[n],Q.tweeners[i]=Q.tweeners[i]||[],Q.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,o,r,s,a,l,u,d,c="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&Re(e),_=Me.get(e,"fxshow");i.queue||(null==(s=pe._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})}));for(n in t)if(o=t[n],pt.test(o)){if(delete t[n],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!_||void 0===_[n])continue;g=!0}p[n]=_&&_[n]||pe.style(e,n)}if((l=!pe.isEmptyObject(t))||!pe.isEmptyObject(p)){c&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=_&&_.display)&&(u=Me.get(e,"display")),"none"===(d=pe.css(e,"display"))&&(u?d=u:(m([e],!0),u=e.style.display||u,d=pe.css(e,"display"),m([e]))),("inline"===d||"inline-block"===d&&null!=u)&&"none"===pe.css(e,"float")&&(l||(h.done(function(){f.display=u}),null==u&&(d=f.display,u="none"===d?"":d)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1;for(n in p)l||(_?"hidden"in _&&(g=_.hidden):_=Me.access(e,"fxshow",{display:u}),r&&(_.hidden=!g),g&&m([e],!0),h.done(function(){g||m([e]),Me.remove(e,"fxshow");for(n in p)pe.style(e,n,p[n])})),l=F(g?_[n]:0,n,h),n in _||(_[n]=l.start,g&&(l.end=l.start,l.start=0))}}],prefilter:function(e,t){t?Q.prefilters.unshift(e):Q.prefilters.push(e)}}),pe.speed=function(e,t,i){var n=e&&"object"==typeof e?pe.extend({},e):{complete:i||!i&&t||pe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off||ee.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in pe.fx.speeds?n.duration=pe.fx.speeds[n.duration]:n.duration=pe.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pe.isFunction(n.old)&&n.old.call(this),n.queue&&pe.dequeue(this,n.queue)},n},pe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=pe.isEmptyObject(e),r=pe.speed(t,i,n),s=function(){var t=Q(this,pe.extend({},e),r);(o||Me.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=pe.timers,s=Me.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&ft.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));!t&&i||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Me.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=pe.timers,s=n?n.length:0;for(i.finish=!0,pe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var i=pe.fn[t];pe.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(R(t,!0),e,n,o)}}),pe.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),pe.timers=[],pe.fx.tick=function(){var e,t=0,i=pe.timers;for(ct=pe.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||pe.fx.stop(),ct=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(L):e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,i){return t=pe.fx?pe.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var o=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(o)}})},function(){var e=ee.createElement("input"),t=ee.createElement("select").appendChild(ee.createElement("option"));e.type="checkbox",ce.checkOn=""!==e.value,ce.optSelected=t.selected,(e=ee.createElement("input")).value="t",e.type="radio",ce.radioValue="t"===e.value}();var gt,mt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return ke(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?pe.prop(e,t,i):(1===r&&pe.isXMLDoc(e)||(o=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?gt:void 0)),void 0!==i?null===i?void pe.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=pe.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(Pe);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),gt={set:function(e,t,i){return!1===t?pe.removeAttr(e,i):e.setAttribute(i,i),i}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=mt[t]||pe.find.attr;mt[t]=function(e,t,n){var o,r,s=t.toLowerCase();return n||(r=mt[s],mt[s]=o,o=null!=i(e,t,n)?s:null,mt[s]=r),o}});var _t=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return ke(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,o=pe.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),pe.fn.extend({addClass:function(e){var t,i,n,o,r,s,a,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,B(this)))});if("string"==typeof e&&e)for(t=e.match(Pe)||[];i=this[l++];)if(o=B(i),n=1===i.nodeType&&" "+G(o)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=G(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,o,r,s,a,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Pe)||[];i=this[l++];)if(o=B(i),n=1===i.nodeType&&" "+G(o)+" "){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");o!==(a=G(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(i){pe(this).toggleClass(e.call(this,i,B(this),t),t)}):this.each(function(){var t,n,o,r;if("string"===i)for(n=0,o=pe(this),r=e.match(Pe)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||((t=B(this))&&Me.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+G(B(i))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;pe.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=pe.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(null==(o=n?e.call(this,i,pe(this).val()):e)?o="":"number"==typeof o?o+="":pe.isArray(o)&&(o=pe.map(o,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=pe.valHooks[o.type]||pe.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(bt,""):null==i?"":i:void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:G(pe.text(e))}},select:{get:function(e){var t,i,n,o=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!pe.nodeName(i.parentNode,"optgroup"))){if(t=pe(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=pe.makeArray(t),s=o.length;s--;)n=o[s],(n.selected=pe.inArray(pe.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},ce.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(t,i,n,o){var r,s,a,l,u,d,c,h=[n||ee],p=le.call(t,"type")?t.type:t,f=le.call(t,"namespace")?t.namespace.split("."):[];if(s=a=n=n||ee,3!==n.nodeType&&8!==n.nodeType&&!yt.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:pe.makeArray(i,[t]),c=pe.event.special[p]||{},o||!c.trigger||!1!==c.trigger.apply(n,i))){if(!o&&!c.noBubble&&!pe.isWindow(n)){for(l=c.delegateType||p,yt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(n.ownerDocument||ee)&&h.push(a.defaultView||a.parentWindow||e)}for(r=0;(s=h[r++])&&!t.isPropagationStopped();)t.type=r>1?l:c.bindType||p,(d=(Me.get(s,"events")||{})[t.type]&&Me.get(s,"handle"))&&d.apply(s,i),(d=u&&s[u])&&d.apply&&Oe(s)&&(t.result=d.apply(s,i),!1===t.result&&t.preventDefault());return t.type=p,o||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),i)||!Oe(n)||u&&pe.isFunction(n[p])&&!pe.isWindow(n)&&((a=n[u])&&(n[u]=null),pe.event.triggered=p,n[p](),pe.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(e,t,i){var n=pe.extend(new pe.Event,i,{type:e,isSimulated:!0});pe.event.trigger(n,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return pe.event.trigger(e,t,i,!0)}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.focusin="onfocusin"in e,ce.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Me.access(n,t);o||n.addEventListener(e,i,!0),Me.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Me.access(n,t)-1;o?Me.access(n,t,o):(n.removeEventListener(e,i,!0),Me.remove(n,t))}}});var wt=e.location,xt=pe.now(),Tt=/\?/;pe.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),i};var Ct=/\[\]$/,It=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var i,n=[],o=function(e,t){var i=pe.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){o(this.name,this.value)});else for(i in e)U(i,e[i],t,o);return n.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Qe.test(e))}).map(function(e,t){var i=pe(this).val();return null==i?null:pe.isArray(i)?pe.map(i,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:i.replace(It,"\r\n")}}).get()}});var Pt=/%20/g,jt=/#.*$/,At=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Nt=/^\/\//,zt={},Dt={},$t="*/".concat("*"),Lt=ee.createElement("a");Lt.href=wt.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:Ot.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,pe.ajaxSettings),t):V(pe.ajaxSettings,e)},ajaxPrefilter:Y(zt),ajaxTransport:Y(Dt),ajax:function(t,i){function n(t,i,n,a){var u,h,p,y,w,x=i;d||(d=!0,l&&e.clearTimeout(l),o=void 0,s=a||"",T.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(y=X(f,T,n)),y=Z(f,y,T,u),u?(f.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(pe.lastModified[r]=w),(w=T.getResponseHeader("etag"))&&(pe.etag[r]=w)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=y.state,h=y.data,p=y.error,u=!p)):(p=x,!t&&x||(x="error",t<0&&(t=0))),T.status=t,T.statusText=(i||x)+"",u?_.resolveWith(g,[h,x,T]):_.rejectWith(g,[T,x,p]),T.statusCode(b),b=void 0,c&&m.trigger(u?"ajaxSuccess":"ajaxError",[T,f,u?h:p]),v.fireWith(g,[T,x]),c&&(m.trigger("ajaxComplete",[T,f]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var o,r,s,a,l,u,d,c,h,p,f=pe.ajaxSetup({},i),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?pe(g):pe.event,_=pe.Deferred(),v=pe.Callbacks("once memory"),b=f.statusCode||{},y={},w={},x="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(d){if(!a)for(a={};t=kt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?s:null},setRequestHeader:function(e,t){return null==d&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==d&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),n(0,t),this}};if(_.promise(T),f.url=((t||f.url||wt.href)+"").replace(Nt,wt.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Pe)||[""],null==f.crossDomain){u=ee.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Lt.protocol+"//"+Lt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pe.param(f.data,f.traditional)),q(zt,f,i,T),d)return T;(c=pe.event&&f.global)&&0==pe.active++&&pe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Mt.test(f.type),r=f.url.replace(jt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pt,"+")):(p=f.url.slice(r.length),f.data&&(r+=(Tt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(At,"$1"),p=(Tt.test(r)?"&":"?")+"_="+xt+++p),f.url=r+p),f.ifModified&&(pe.lastModified[r]&&T.setRequestHeader("If-Modified-Since",pe.lastModified[r]),pe.etag[r]&&T.setRequestHeader("If-None-Match",pe.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+$t+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)T.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(g,T,f)||d))return T.abort();if(x="abort",v.add(f.complete),T.done(f.success),T.fail(f.error),o=q(Dt,f,i,T)){if(T.readyState=1,c&&m.trigger("ajaxSend",[T,f]),d)return T;f.async&&f.timeout>0&&(l=e.setTimeout(function(){T.abort("timeout")},f.timeout));try{d=!1,o.send(y,n)}catch(e){if(d)throw e;n(-1,e)}}else n(-1,"No Transport");return T},getJSON:function(e,t,i){return pe.get(e,t,i,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,i,n,o){return pe.isFunction(i)&&(o=o||n,n=i,i=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:o,data:i,success:n},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(i){pe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){pe(this).replaceWith(this.childNodes)}),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Rt=pe.ajaxSettings.xhr();ce.cors=!!Rt&&"withCredentials"in Rt,ce.ajax=Rt=!!Rt,pe.ajaxTransport(function(t){var i,n;if(ce.cors||Rt&&!t.crossDomain)return{send:function(o,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);i=function(e){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,o){t=pe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),ee.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Ft=[],Wt=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||pe.expando+"_"+xt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,s,a=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Wt,"$1"+o):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||pe.error(o+" was not called"),s[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){s=arguments},n.always(function(){void 0===r?pe(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,Ft.push(o)),s&&pe.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),ce.createHTMLDocument=function(){var e=ee.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),pe.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var n,o,r;return t||(ce.createHTMLDocument?(t=ee.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=ee.location.href,t.head.appendChild(n)):t=ee),o=xe.exec(e),r=!i&&[],o?[t.createElement(o[1])]:(o=b([e],t,r),r&&r.length&&pe(r).remove(),pe.merge([],o.childNodes))},pe.fn.load=function(e,t,i){var n,o,r,s=this,a=e.indexOf(" ");return a>-1&&(n=G(e.slice(a)),e=e.slice(0,a)),pe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&pe.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(n?pe("<div>").append(pe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.pseudos.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,i){var n,o,r,s,a,l,u=pe.css(e,"position"),d=pe(e),c={};"static"===u&&(e.style.position="relative"),a=d.offset(),r=pe.css(e,"top"),l=pe.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(n=d.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,i,pe.extend({},a))),null!=t.top&&(c.top=t.top-a.top+s),null!=t.left&&(c.left=t.left-a.left+o),"using"in t?t.using.call(e,c):d.css(c)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,i,n,o,r=this[0];return r?r.getClientRects().length?(n=r.getBoundingClientRect()).width||n.height?(o=r.ownerDocument,i=K(o),t=o.documentElement,{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}):n:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===pe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n={top:n.top+pe.css(e[0],"borderTopWidth",!0),left:n.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-pe.css(i,"marginTop",!0),left:t.left-n.left-pe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||qe})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;pe.fn[e]=function(n){return ke(this,function(e,n,o){var r=K(e);return void 0===o?r?r[t]:e[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):e[n]=o)},e,n,arguments.length)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=O(ce.pixelPosition,function(e,i){if(i)return i=k(e,t),ot.test(i)?pe(e).position()[t]+"px":i})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){pe.fn[n]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(!0===o||!0===r?"margin":"border");return ke(this,function(t,i,o){var r;return pe.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?pe.css(t,i,a):pe.style(t,i,o,a)},t,s?o:void 0,s)}})}),pe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),pe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var Qt=e.jQuery,Gt=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=Gt),t&&e.jQuery===pe&&(e.jQuery=Qt),pe},t||(e.jQuery=e.$=pe),pe}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||e(n).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=e("#"===r?[]:r);t&&t.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),r="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target).closest(".btn");t.call(n,"toggle"),e(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),s="string"==typeof t?t:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof t?o.to(t):s?o[s]():r.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var n=(i+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,o),s=this.interval,a="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var u=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(r)]);c&&c.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),r=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=e.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),t.call(r,s),a&&r.data("bs.carousel").to(a),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"))&&t.transitioning)){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var r=t(o),s=r.data("bs.collapse")?"toggle":o.data();i.call(r,s)})}(jQuery),function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(n).remove(),e(o).each(function(){var n=e(this),o=t(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))}))}var n=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=t(o),s=r.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",a))}return!1}},r.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var r=t(n),s=r.hasClass("open");if(!s&&27!=i.which||s&&27==i.which)return 27==i.which&&r.find(o).trigger("focus"),n.trigger("click");var a=r.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),s=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new i(this,s)),"string"==typeof t?r[t](n):s.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),r=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,s,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.7",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},t.prototype.show=function(){var i=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),c=r[0].offsetWidth,h=r[0].offsetHeight;if(u){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+h>f.bottom?"top":"top"==a&&d.top-h<f.top?"bottom":"right"==a&&d.right+c>f.width?"left":"left"==a&&d.left-c<f.left?"right":a,r.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,d,c,h);this.applyPlacement(g,a);var m=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(t.TRANSITION_DURATION):m()}},t.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top+=s,t.left+=a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;"top"==i&&u!=r&&(t.top=t.top+r-u);var d=this.getViewportAdjustedDelta(i,t,l,u);d.left?t.left+=d.left:t.top+=d.top;var c=/top|bottom/.test(i),h=c?2*d.left-o+l:2*d.top-r+u,p=c?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][p],c)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(i){function n(){"in"!=o.hoverState&&r.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),i&&i()}var o=this,r=e(this.$tip),s=e.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(t.TRANSITION_DURATION):n(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&i instanceof window.SVGElement,s=n?{top:0,left:0}:r?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,a,l,s)},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-r-s.scroll,l=t.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var u=t.left-r,d=t.left+r+i;u<s.left?o.left=s.left-u:d>s.right&&(o.left=s.left+s.width-d)}return o},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),r="object"==typeof i&&i;!o&&/destroy|hide/.test(i)||(o||n.data("bs.tooltip",o=new t(this,r)),"string"==typeof i&&o[i]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),o=n.data("bs.popover"),r="object"==typeof i&&i;!o&&/destroy|hide/.test(i)||(o||n.data("bs.popover",o=new t(this,r)),"string"==typeof i&&o[i]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,r)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return s!=(e=r[r.length-1])&&this.activate(e);if(s&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)s!=r[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),a=o&&e.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),r="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=e-n)&&"bottom";var a=null==this.affixed,l=a?o:r.top,u=a?s:t;return null!=i&&o<=i?"top":null!=n&&l+u>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,s=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,t,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jquery_mmenu_all_js=t(e.jQuery)}(this,function(e){return function(e){function t(){e[i].glbl||(a={$wndw:e(window),$docu:e(document),$html:e("html"),$body:e("body")},o={},r={},s={},e.each([o,r,s],function(e,t){t.add=function(e){for(var i=0,n=(e=e.split(" ")).length;i<n;i++)t[e[i]]=t.mm(e[i])}}),o.mm=function(e){return"mm-"+e},o.add("wrapper menu panels panel nopanel highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen noanimation"),o.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},r.mm=function(e){return"mm-"+e},r.add("parent child"),s.mm=function(e){return e+".mm"},s.add("transitionend webkitTransitionEnd click scroll resize keydown mousedown mouseup touchstart touchmove touchend orientationchange"),e[i]._c=o,e[i]._d=r,e[i]._e=s,e[i].glbl=a)}var i="mmenu",n="6.1.5";if(!(e[i]&&e[i].version>n)){e[i]=function(e,t,i){return this.$menu=e,this._api=["bind","getInstance","initPanels","openPanel","closePanel","closeAllPanels","setSelected"],this.opts=t,this.conf=i,this.vars={},this.cbck={},this.mtch={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initAddons(),this._initExtensions(),this._initMenu(),this._initPanels(),this._initOpened(),this._initAnchors(),this._initMatchMedia(),"function"==typeof this.___debug&&this.___debug(),this},e[i].version=n,e[i].addons={},e[i].uniqueId=0,e[i].defaults={extensions:[],initMenu:function(){},initPanels:function(){},navbar:{add:!0,title:"Menu",titleLink:"parent"},onClick:{setSelected:!0},slidingSubmenus:!0},e[i].configuration={classNames:{divider:"Divider",inset:"Inset",nolistview:"NoListview",nopanel:"NoPanel",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},e[i].prototype={getInstance:function(){return this},initPanels:function(e){this._initPanels(e)},openPanel:function(t,n){if(this.trigger("openPanel:before",t),t&&t.length&&(t.is("."+o.panel)||(t=t.closest("."+o.panel)),t.is("."+o.panel))){var s=this;if("boolean"!=typeof n&&(n=!0),t.hasClass(o.vertical))t.add(t.parents("."+o.vertical)).removeClass(o.hidden).parent("li").addClass(o.opened),this.openPanel(t.parents("."+o.panel).not("."+o.vertical).first()),this.trigger("openPanel:start",t),this.trigger("openPanel:finish",t);else{if(t.hasClass(o.opened))return;var a=this.$pnls.children("."+o.panel),l=a.filter("."+o.opened);if(!e[i].support.csstransitions)return l.addClass(o.hidden).removeClass(o.opened),t.removeClass(o.hidden).addClass(o.opened),this.trigger("openPanel:start",t),void this.trigger("openPanel:finish",t);a.not(t).removeClass(o.subopened);for(var u=t.data(r.parent);u;)(u=u.closest("."+o.panel)).is("."+o.vertical)||u.addClass(o.subopened),u=u.data(r.parent);a.removeClass(o.highest).not(l).not(t).addClass(o.hidden),t.removeClass(o.hidden);var d=function(){l.removeClass(o.opened),t.addClass(o.opened),t.hasClass(o.subopened)?(l.addClass(o.highest),t.removeClass(o.subopened)):(l.addClass(o.subopened),t.addClass(o.highest)),this.trigger("openPanel:start",t)},c=function(){l.removeClass(o.highest).addClass(o.hidden),t.removeClass(o.highest),this.trigger("openPanel:finish",t)};n&&!t.hasClass(o.noanimation)?setTimeout(function(){s.__transitionend(t,function(){c.call(s)},s.conf.transitionDuration),d.call(s)},this.conf.openingInterval):(d.call(this),c.call(this))}this.trigger("openPanel:after",t)}},closePanel:function(e){this.trigger("closePanel:before",e);var t=e.parent();t.hasClass(o.vertical)&&(t.removeClass(o.opened),this.trigger("closePanel",e)),this.trigger("closePanel:after",e)},closeAllPanels:function(){this.trigger("closeAllPanels:before"),this.$pnls.find("."+o.listview).children().removeClass(o.selected).filter("."+o.vertical).removeClass(o.opened);var e=this.$pnls.children("."+o.panel).first();this.$pnls.children("."+o.panel).not(e).removeClass(o.subopened).removeClass(o.opened).removeClass(o.highest).addClass(o.hidden),this.openPanel(e),this.trigger("closeAllPanels:after")},togglePanel:function(e){var t=e.parent();t.hasClass(o.vertical)&&this[t.hasClass(o.opened)?"closePanel":"openPanel"](e)},setSelected:function(e){this.trigger("setSelected:before",e),this.$menu.find("."+o.listview).children("."+o.selected).removeClass(o.selected),e.addClass(o.selected),this.trigger("setSelected:after",e)},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=this,t=Array.prototype.slice.call(arguments),i=t.shift();if(this.cbck[i])for(var n=0,o=this.cbck[i].length;n<o;n++)this.cbck[i][n].apply(e,t)},matchMedia:function(e,t,i){var n={yes:t,no:i};this.mtch[e]=this.mtch[e]||[],this.mtch[e].push(n)},_initAddons:function(){this.trigger("initAddons:before");var t;for(t in e[i].addons)e[i].addons[t].add.call(this),e[i].addons[t].add=function(){};for(t in e[i].addons)e[i].addons[t].setup.call(this);this.trigger("initAddons:after")},_initExtensions:function(){this.trigger("initExtensions:before");var e=this;this.opts.extensions.constructor===Array&&(this.opts.extensions={all:this.opts.extensions});for(var t in this.opts.extensions)this.opts.extensions[t]=this.opts.extensions[t].length?"mm-"+this.opts.extensions[t].join(" mm-"):"",this.opts.extensions[t]&&function(t){e.matchMedia(t,function(){this.$menu.addClass(this.opts.extensions[t])},function(){this.$menu.removeClass(this.opts.extensions[t])})}(t);this.trigger("initExtensions:after")},_initMenu:function(){this.trigger("initMenu:before"),this.conf.clone&&(this.$orig=this.$menu,this.$menu=this.$orig.clone(),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){e(this).attr("id",o.mm(e(this).attr("id")))})),this.opts.initMenu.call(this,this.$menu,this.$orig),this.$menu.attr("id",this.$menu.attr("id")||this.__getUniqueId()),this.$pnls=e('<div class="'+o.panels+'" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu);var t=[o.menu];this.opts.slidingSubmenus||t.push(o.vertical),this.$menu.addClass(t.join(" ")).parent().addClass(o.wrapper),this.trigger("initMenu:after")},_initPanels:function(t){this.trigger("initPanels:before",t),t=t||this.$pnls.children(this.conf.panelNodetype);var i=e(),n=this,r=function(t){t.filter(this.conf.panelNodetype).each(function(){var t=n._initPanel(e(this));if(t){n._initNavbar(t),n._initListview(t),i=i.add(t);var s=t.children("."+o.listview).children("li").children(n.conf.panelNodeType).add(t.children("."+n.conf.classNames.panel));s.length&&r.call(n,s)}})};r.call(this,t),this.opts.initPanels.call(this,i),this.trigger("initPanels:after",i)},_initPanel:function(e){if(this.trigger("initPanel:before",e),e.hasClass(o.panel))return e;if(this.__refactorClass(e,this.conf.classNames.panel,"panel"),this.__refactorClass(e,this.conf.classNames.nopanel,"nopanel"),this.__refactorClass(e,this.conf.classNames.vertical,"vertical"),this.__refactorClass(e,this.conf.classNames.inset,"inset"),e.filter("."+o.inset).addClass(o.nopanel),e.hasClass(o.nopanel))return!1;var t=e.hasClass(o.vertical)||!this.opts.slidingSubmenus;e.removeClass(o.vertical);var i=e.attr("id")||this.__getUniqueId();e.removeAttr("id"),e.is("ul, ol")&&(e.wrap("<div />"),e=e.parent()),e.addClass(o.panel+" "+o.hidden).attr("id",i);var n=e.parent("li");return t?e.add(n).addClass(o.vertical):e.appendTo(this.$pnls),n.length&&(n.data(r.child,e),e.data(r.parent,n)),this.trigger("initPanel:after",e),e},_initNavbar:function(t){if(this.trigger("initNavbar:before",t),!t.children("."+o.navbar).length){var n=t.data(r.parent),s=e('<div class="'+o.navbar+'" />'),a=e[i].i18n(this.opts.navbar.title),l="";if(n&&n.length){if(n.hasClass(o.vertical))return;if(n.parent().is("."+o.listview))u=n.children("a, span").not("."+o.next);else var u=n.closest("."+o.panel).find('a[href="#'+t.attr("id")+'"]');var d=(n=(u=u.first()).closest("."+o.panel)).attr("id");switch(a=u.text(),this.opts.navbar.titleLink){case"anchor":l=u.attr("href");break;case"parent":l="#"+d}s.append('<a class="'+o.btn+" "+o.prev+'" href="#'+d+'" />')}else if(!this.opts.navbar.title)return;this.opts.navbar.add&&t.addClass(o.hasnavbar),s.append('<a class="'+o.title+'"'+(l.length?' href="'+l+'"':"")+">"+a+"</a>").prependTo(t),this.trigger("initNavbar:after",t)}},_initListview:function(t){this.trigger("initListview:before",t);var i=this.__childAddBack(t,"ul, ol");this.__refactorClass(i,this.conf.classNames.nolistview,"nolistview"),i.filter("."+this.conf.classNames.inset).addClass(o.nolistview);var n=i.not("."+o.nolistview).addClass(o.listview).children();this.__refactorClass(n,this.conf.classNames.selected,"selected"),this.__refactorClass(n,this.conf.classNames.divider,"divider"),this.__refactorClass(n,this.conf.classNames.spacer,"spacer");var s=t.data(r.parent);if(s&&s.parent().is("."+o.listview)&&!s.children("."+o.next).length){var a=s.children("a, span").first(),l=e('<a class="'+o.next+'" href="#'+t.attr("id")+'" />').insertBefore(a);a.is("span")&&l.addClass(o.fullsubopen)}this.trigger("initListview:after",t)},_initOpened:function(){this.trigger("initOpened:before");var e=this.$pnls.find("."+o.listview).children("."+o.selected).removeClass(o.selected).last().addClass(o.selected),t=e.length?e.closest("."+o.panel):this.$pnls.children("."+o.panel).first();this.openPanel(t,!1),this.trigger("initOpened:after")},_initAnchors:function(){var t=this;a.$body.on(s.click+"-oncanvas","a[href]",function(n){var r=e(this),s=!1,a=t.$menu.find(r).length;for(var l in e[i].addons)if(e[i].addons[l].clickAnchor.call(t,r,a)){s=!0;break}var u=r.attr("href");if(!s&&a&&u.length>1&&"#"==u.slice(0,1))try{var d=e(u,t.$menu);d.is("."+o.panel)&&(s=!0,t[r.parent().hasClass(o.vertical)?"togglePanel":"openPanel"](d))}catch(e){}if(s&&n.preventDefault(),!s&&a&&r.is("."+o.listview+" > li > a")&&!r.is('[rel="external"]')&&!r.is('[target="_blank"]')){t.__valueOrFn(t.opts.onClick.setSelected,r)&&t.setSelected(e(n.target).parent());var c=t.__valueOrFn(t.opts.onClick.preventDefault,r,"#"==u.slice(0,1));c&&n.preventDefault(),t.__valueOrFn(t.opts.onClick.close,r,c)&&t.close()}})},_initMatchMedia:function(){var e=this;this._fireMatchMedia(),a.$wndw.on(s.resize,function(t){e._fireMatchMedia()})},_fireMatchMedia:function(){for(var e in this.mtch)for(var t=window.matchMedia&&window.matchMedia(e).matches?"yes":"no",i=0;i<this.mtch[e].length;i++)this.mtch[e][i][t].call(this)},_getOriginalMenuId:function(){var e=this.$menu.attr("id");return this.conf.clone&&e&&e.length&&(e=o.umm(e)),e},__api:function(){var t=this,i={};return e.each(this._api,function(e){var n=this;i[n]=function(){var e=t[n].apply(t,arguments);return void 0===e?i:e}}),i},__valueOrFn:function(e,t,i){return"function"==typeof e?e.call(t[0]):void 0===e&&void 0!==i?i:e},__refactorClass:function(e,t,i){return e.filter("."+t).removeClass(t).addClass(o[i])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__childAddBack:function(e,t){return e.children(t).add(e.filter(t))},__filterListItems:function(e){return e.not("."+o.divider).not("."+o.hidden)},__filterListItemAnchors:function(e){return this.__filterListItems(e).children("a").not("."+o.next)},__transitionend:function(e,t,i){var n=!1,o=function(i){void 0!==i&&i.target!=e[0]||(n||(e.unbind(s.transitionend),e.unbind(s.webkitTransitionEnd),t.call(e[0])),n=!0)};e.on(s.transitionend,o),e.on(s.webkitTransitionEnd,o),setTimeout(o,1.1*i)},__getUniqueId:function(){return o.mm(e[i].uniqueId++)}},e.fn[i]=function(n,o){t(),n=e.extend(!0,{},e[i].defaults,n),o=e.extend(!0,{},e[i].configuration,o);var r=e();return this.each(function(){var t=e(this);if(!t.data(i)){var s=new e[i](t,n,o);s.$menu.data(i,s.__api()),r=r.add(s.$menu)}}),r},e[i].i18n=function(){var t={};return function(i){switch(typeof i){case"object":return e.extend(t,i),t;case"string":return t[i]||i;case"undefined":default:return t}}}(),e[i].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1,csstransitions:"undefined"==typeof Modernizr||void 0===Modernizr.csstransitions||Modernizr.csstransitions,csstransforms:"undefined"==typeof Modernizr||void 0===Modernizr.csstransforms||Modernizr.csstransforms,csstransforms3d:"undefined"==typeof Modernizr||void 0===Modernizr.csstransforms3d||Modernizr.csstransforms3d};var o,r,s,a}}(e),function(e){var t="mmenu",i="offCanvas";e[t].addons[i]={setup:function(){if(this.opts[i]){var o=this,r=this.opts[i],a=this.conf[i];s=e[t].glbl,this._api=e.merge(this._api,["open","close","setPage"]),"object"!=typeof r&&(r={}),"top"!=r.position&&"bottom"!=r.position||(r.zposition="front"),r=this.opts[i]=e.extend(!0,{},e[t].defaults[i],r),"string"!=typeof a.pageSelector&&(a.pageSelector="> "+a.pageNodetype),s.$allMenus=(s.$allMenus||e()).add(this.$menu),this.vars.opened=!1;var l=[n.offcanvas];"left"!=r.position&&l.push(n.mm(r.position)),"back"!=r.zposition&&l.push(n.mm(r.zposition)),e[t].support.csstransforms||l.push(n["no-csstransforms"]),e[t].support.csstransforms3d||l.push(n["no-csstransforms3d"]),this.bind("initMenu:after",function(){var e=this;this.setPage(s.$page),this._initBlocker(),this["_initWindow_"+i](),this.$menu.addClass(l.join(" ")).parent("."+n.wrapper).removeClass(n.wrapper),this.$menu[a.menuInsertMethod](a.menuInsertSelector);var t=window.location.hash;if(t){var o=this._getOriginalMenuId();o&&o==t.slice(1)&&setTimeout(function(){e.open()},1e3)}}),this.bind("initExtensions:after",function(){for(var e=[n.mm("widescreen"),n.mm("iconbar")],t=0;t<e.length;t++)for(var i in this.opts.extensions)if(this.opts.extensions[i].indexOf(e[t])>-1){!function(t,i){o.matchMedia(t,function(){s.$html.addClass(e[i])},function(){s.$html.removeClass(e[i])})}(i,t);break}}),this.bind("open:start:sr-aria",function(){this.__sr_aria(this.$menu,"hidden",!1)}),this.bind("close:finish:sr-aria",function(){this.__sr_aria(this.$menu,"hidden",!0)}),this.bind("initMenu:after:sr-aria",function(){this.__sr_aria(this.$menu,"hidden",!0)})}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("offcanvas slideout blocking modal background opening blocker page no-csstransforms3d"),o.add("style")},clickAnchor:function(e,t){var o=this;if(this.opts[i]){var r=this._getOriginalMenuId();if(r&&e.is('[href="#'+r+'"]')){if(t)return!0;var a=e.closest("."+n.menu);if(a.length){var l=a.data("mmenu");if(l&&l.close)return l.close(),o.__transitionend(a,function(){o.open()},o.conf.transitionDuration),!0}return this.open(),!0}if(s.$page)return(r=s.$page.first().attr("id"))&&e.is('[href="#'+r+'"]')?(this.close(),!0):void 0}}},e[t].defaults[i]={position:"left",zposition:"back",blockUI:!0,moveBackground:!0},e[t].configuration[i]={pageNodetype:"div",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuInsertMethod:"prependTo",menuInsertSelector:"body"},e[t].prototype.open=function(){if(this.trigger("open:before"),!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),this.trigger("open:after")}},e[t].prototype._openSetup=function(){var t=this,a=this.opts[i];this.closeAllOthers(),s.$page.each(function(){e(this).data(o.style,e(this).attr("style")||"")}),s.$wndw.trigger(r.resize+"-"+i,[!0]);var l=[n.opened];a.blockUI&&l.push(n.blocking),"modal"==a.blockUI&&l.push(n.modal),a.moveBackground&&l.push(n.background),"left"!=a.position&&l.push(n.mm(this.opts[i].position)),"back"!=a.zposition&&l.push(n.mm(this.opts[i].zposition)),s.$html.addClass(l.join(" ")),setTimeout(function(){t.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(n.opened)},e[t].prototype._openFinish=function(){var e=this;this.__transitionend(s.$page.first(),function(){e.trigger("open:finish")},this.conf.transitionDuration),this.trigger("open:start"),s.$html.addClass(n.opening)},e[t].prototype.close=function(){if(this.trigger("close:before"),this.vars.opened){var t=this;this.__transitionend(s.$page.first(),function(){t.$menu.removeClass(n.opened);var r=[n.opened,n.blocking,n.modal,n.background,n.mm(t.opts[i].position),n.mm(t.opts[i].zposition)];s.$html.removeClass(r.join(" ")),s.$page.each(function(){e(this).attr("style",e(this).data(o.style))}),t.vars.opened=!1,t.trigger("close:finish")},this.conf.transitionDuration),this.trigger("close:start"),s.$html.removeClass(n.opening),this.trigger("close:after")}},e[t].prototype.closeAllOthers=function(){s.$allMenus.not(this.$menu).each(function(){var i=e(this).data(t);i&&i.close&&i.close()})},e[t].prototype.setPage=function(t){this.trigger("setPage:before",t);var o=this,r=this.conf[i];t&&t.length||(t=s.$body.find(r.pageSelector),r.noPageSelector.length&&(t=t.not(r.noPageSelector.join(", "))),t.length>1&&r.wrapPageIfNeeded&&(t=t.wrapAll("<"+this.conf[i].pageNodetype+" />").parent())),t.each(function(){e(this).attr("id",e(this).attr("id")||o.__getUniqueId())}),t.addClass(n.page+" "+n.slideout),s.$page=t,this.trigger("setPage:after",t)},e[t].prototype["_initWindow_"+i]=function(){s.$wndw.off(r.keydown+"-"+i).on(r.keydown+"-"+i,function(e){if(s.$html.hasClass(n.opened)&&9==e.keyCode)return e.preventDefault(),!1});var e=0;s.$wndw.off(r.resize+"-"+i).on(r.resize+"-"+i,function(t,i){if(1==s.$page.length&&(i||s.$html.hasClass(n.opened))){var o=s.$wndw.height();(i||o!=e)&&(e=o,s.$page.css("minHeight",o))}})},e[t].prototype._initBlocker=function(){var t=this;this.opts[i].blockUI&&(s.$blck||(s.$blck=e('<div id="'+n.blocker+'" class="'+n.slideout+'" />')),s.$blck.appendTo(s.$body).off(r.touchstart+"-"+i+" "+r.touchmove+"-"+i).on(r.touchstart+"-"+i+" "+r.touchmove+"-"+i,function(e){e.preventDefault(),e.stopPropagation(),s.$blck.trigger(r.mousedown+"-"+i)}).off(r.mousedown+"-"+i).on(r.mousedown+"-"+i,function(e){e.preventDefault(),s.$html.hasClass(n.modal)||(t.closeAllOthers(),t.close())}))};var n,o,r,s}(e),function(e){var t="mmenu",i="scrollBugFix";e[t].addons[i]={setup:function(){var o=this.opts[i];this.conf[i],s=e[t].glbl,e[t].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&("boolean"==typeof o&&(o={fix:o}),"object"!=typeof o&&(o={}),(o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o)).fix&&(this.bind("open:start",function(){this.$pnls.children("."+n.opened).scrollTop(0)}),this.bind("initMenu:after",function(){this["_initWindow_"+i]()})))},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e},clickAnchor:function(e,t){}},e[t].defaults[i]={fix:!0},e[t].prototype["_initWindow_"+i]=function(){var t=this;s.$docu.off(r.touchmove+"-"+i).on(r.touchmove+"-"+i,function(e){s.$html.hasClass(n.opened)&&e.preventDefault()});var o=!1;s.$body.off(r.touchstart+"-"+i).on(r.touchstart+"-"+i,"."+n.panels+"> ."+n.panel,function(e){s.$html.hasClass(n.opened)&&(o||(o=!0,0===e.currentTarget.scrollTop?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1),o=!1))}).off(r.touchmove+"-"+i).on(r.touchmove+"-"+i,"."+n.panels+"> ."+n.panel,function(t){s.$html.hasClass(n.opened)&&e(this)[0].scrollHeight>e(this).innerHeight()&&t.stopPropagation()}),s.$wndw.off(r.orientationchange+"-"+i).on(r.orientationchange+"-"+i,function(){t.$pnls.children("."+n.opened).scrollTop(0).css({"-webkit-overflow-scrolling":"auto"}).css({"-webkit-overflow-scrolling":"touch"})})};var n,o,r,s}(e),function(e){var t="mmenu",i="screenReader";e[t].addons[i]={setup:function(){var r=this,a=this.opts[i],l=this.conf[i];s=e[t].glbl,"boolean"==typeof a&&(a={aria:a,text:a}),"object"!=typeof a&&(a={}),(a=this.opts[i]=e.extend(!0,{},e[t].defaults[i],a)).aria&&(this.bind("initAddons:after",function(){this.bind("initMenu:after",function(){this.trigger("initMenu:after:sr-aria")}),this.bind("initNavbar:after",function(){this.trigger("initNavbar:after:sr-aria",arguments[0])}),this.bind("openPanel:start",function(){this.trigger("openPanel:start:sr-aria",arguments[0])}),this.bind("close:start",function(){this.trigger("close:start:sr-aria")}),this.bind("close:finish",function(){this.trigger("close:finish:sr-aria")}),this.bind("open:start",function(){this.trigger("open:start:sr-aria")}),this.bind("open:finish",function(){this.trigger("open:finish:sr-aria")})}),this.bind("updateListview",function(){this.$pnls.find("."+n.listview).children().each(function(){r.__sr_aria(e(this),"hidden",e(this).is("."+n.hidden))})}),this.bind("openPanel:start",function(e){var t=this.$menu.find("."+n.panel).not(e).not(e.parents("."+n.panel)),i=e.add(e.find("."+n.vertical+"."+n.opened).children("."+n.panel));this.__sr_aria(t,"hidden",!0),this.__sr_aria(i,"hidden",!1)}),this.bind("closePanel",function(e){this.__sr_aria(e,"hidden",!0)}),this.bind("initPanels:after",function(t){var i=t.find("."+n.prev+", ."+n.next).each(function(){r.__sr_aria(e(this),"owns",e(this).attr("href").replace("#",""))});this.__sr_aria(i,"haspopup",!0)}),this.bind("initNavbar:after",function(e){var t=e.children("."+n.navbar);this.__sr_aria(t,"hidden",!e.hasClass(n.hasnavbar))}),a.text&&(this.bind("initlistview:after",function(e){var t=e.find("."+n.listview).find("."+n.fullsubopen).parent().children("span");this.__sr_aria(t,"hidden",!0)}),"parent"==this.opts.navbar.titleLink&&this.bind("initNavbar:after",function(e){var t=e.children("."+n.navbar),i=!!t.children("."+n.prev).length;this.__sr_aria(t.children("."+n.title),"hidden",i)}))),a.text&&(this.bind("initAddons:after",function(){this.bind("setPage:after",function(){this.trigger("setPage:after:sr-text",arguments[0])})}),this.bind("initNavbar:after",function(i){var o=i.children("."+n.navbar),r=o.children("."+n.title).text(),s=e[t].i18n(l.text.closeSubmenu);r&&(s+=" ("+r+")"),o.children("."+n.prev).html(this.__sr_text(s))}),this.bind("initListview:after",function(i){var s=i.data(o.parent);if(s&&s.length){var a=s.children("."+n.next),u=a.nextAll("span, a").first().text(),d=e[t].i18n(l.text[a.parent().is("."+n.vertical)?"toggleSubmenu":"openSubmenu"]);u&&(d+=" ("+u+")"),a.html(r.__sr_text(d))}}))},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("sronly")},clickAnchor:function(e,t){}},e[t].defaults[i]={aria:!0,text:!0},e[t].configuration[i]={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}},e[t].prototype.__sr_aria=function(e,t,i){e.prop("aria-"+t,i)[i?"attr":"removeAttr"]("aria-"+t,i)},e[t].prototype.__sr_text=function(e){return'<span class="'+n.sronly+'">'+e+"</span>"};var n,o,r,s}(e),function(e){var t="mmenu",i="autoHeight";e[t].addons[i]={setup:function(){var o=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof o&&o&&(o={height:"auto"}),"string"==typeof o&&(o={height:o}),"object"!=typeof o&&(o={}),"auto"==(o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o)).height||"highest"==o.height){this.bind("initMenu:after",function(){this.$menu.addClass(n.autoheight)});var r=function(t){if(!this.opts.offCanvas||this.vars.opened){var i=Math.max(parseInt(this.$pnls.css("top"),10),0)||0,r=Math.max(parseInt(this.$pnls.css("bottom"),10),0)||0,s=0;this.$menu.addClass(n.measureheight),"auto"==o.height?((t=t||this.$pnls.children("."+n.opened)).is("."+n.vertical)&&(t=t.parents("."+n.panel).not("."+n.vertical)),t.length||(t=this.$pnls.children("."+n.panel)),s=t.first().outerHeight()):"highest"==o.height&&this.$pnls.children().each(function(){var t=e(this);t.is("."+n.vertical)&&(t=t.parents("."+n.panel).not("."+n.vertical).first()),s=Math.max(s,t.outerHeight())}),this.$menu.height(s+i+r).removeClass(n.measureheight)}};this.opts.offCanvas&&this.bind("open:start",r),"highest"==o.height&&this.bind("initPanels:after",r),"auto"==o.height&&(this.bind("updateListview",r),this.bind("openPanel:start",r),this.bind("closePanel",r))}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("autoheight measureheight"),r.add("resize")},clickAnchor:function(e,t){}},e[t].defaults[i]={height:"default"};var n,o,r,s}(e),function(e){var t="mmenu",i="backButton";e[t].addons[i]={setup:function(){if(this.opts.offCanvas){var o=this,r=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof r&&(r={close:r}),"object"!=typeof r&&(r={}),(r=e.extend(!0,{},e[t].defaults[i],r)).close){var a="#"+o.$menu.attr("id");this.bind("open:finish",function(e){location.hash!=a&&history.pushState(null,document.title,a)}),e(window).on("popstate",function(e){s.$html.hasClass(n.opened)?(e.stopPropagation(),o.close()):location.hash==a&&(e.stopPropagation(),o.open())})}}},add:function(){return window.history&&window.history.pushState?(n=e[t]._c,o=e[t]._d,void(r=e[t]._e)):void(e[t].addons[i].setup=function(){})},clickAnchor:function(e,t){}},e[t].defaults[i]={close:!1};var n,o,r,s}(e),function(e){var t="mmenu",i="columns";e[t].addons[i]={setup:function(){var o=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof o&&(o={add:o}),"number"==typeof o&&(o={add:!0,visible:o}),"object"!=typeof o&&(o={}),"number"==typeof o.visible&&(o.visible={min:o.visible,max:o.visible}),(o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o)).add){o.visible.min=Math.max(1,Math.min(6,o.visible.min)),o.visible.max=Math.max(o.visible.min,Math.min(6,o.visible.max));for(var r=this.opts.offCanvas?this.$menu.add(s.$html):this.$menu,a="",l=0;l<=o.visible.max;l++)a+=" "+n.columns+"-"+l;a.length&&(a=a.slice(1));this.bind("initMenu:after",function(){this.$menu.addClass(n.columns)}),this.bind("openPanel:start",function(e){var t=this.$pnls.children("."+n.subopened).length;e&&!e.hasClass(n.subopened)&&t++,t=Math.min(o.visible.max,Math.max(o.visible.min,t)),r.removeClass(a).addClass(n.columns+"-"+t)}),this.bind("openPanel:start",function(t){t=t||this.$pnls.children("."+n.opened),this.$pnls.children("."+n.panel).removeClass(a).filter("."+n.subopened).add(t).slice(-o.visible.max).each(function(t){e(this).addClass(n.columns+"-"+t)})})}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("columns")},clickAnchor:function(t,o){if(!this.opts[i].add)return!1;if(o){var r=t.attr("href");if(r.length>1&&"#"==r.slice(0,1))try{if(e(r,this.$menu).is("."+n.panel))for(var s=parseInt(t.closest("."+n.panel).attr("class").split(n.columns+"-")[1].split(" ")[0],10)+1;s>0;){var a=this.$pnls.children("."+n.columns+"-"+s);if(!a.length){s=-1;break}s++,a.removeClass(n.subopened).removeClass(n.opened).removeClass(n.highest).addClass(n.hidden)}}catch(e){}}}},e[t].defaults[i]={add:!1,visible:{min:1,max:3}};var n,o,r,s}(e),function(e){var t="mmenu",i="dividers";e[t].addons[i]={setup:function(){var o=this,a=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof a&&(a={add:a,fixed:a}),"object"!=typeof a&&(a={}),a=this.opts[i]=e.extend(!0,{},e[t].defaults[i],a),this.bind("initListview:after",function(e){this.__refactorClass(e.find("li"),this.conf.classNames[i].collapsed,"collapsed")}),a.add&&this.bind("initListview:after",function(t){var i;switch(a.addTo){case"panels":i=t;break;default:i=t.filter(a.addTo)}i.length&&i.find("."+n.listview).find("."+n.divider).remove().end().each(function(){var t="";o.__filterListItems(e(this).children()).each(function(){var i=e.trim(e(this).children("a, span").text()).slice(0,1).toLowerCase();i!=t&&i.length&&(t=i,e('<li class="'+n.divider+'">'+i+"</li>").insertBefore(this))})})}),a.collapse&&this.bind("initListview:after",function(t){t.find("."+n.divider).each(function(){var t=e(this);t.nextUntil("."+n.divider,"."+n.collapsed).length&&(t.children("."+n.next).length||(t.wrapInner("<span />"),t.prepend('<a href="#" class="'+n.next+" "+n.fullsubopen+'" />')))})}),a.fixed){this.bind("initPanels:after",function(){void 0===this.$fixeddivider&&(this.$fixeddivider=e('<ul class="'+n.listview+" "+n.fixeddivider+'"><li class="'+n.divider+'"></li></ul>').prependTo(this.$pnls).children())});var l=function(t){if(!(t=t||this.$pnls.children("."+n.opened)).is(":hidden")){var i=t.children("."+n.listview).children("."+n.divider).not("."+n.hidden),o=t.scrollTop()||0,r="";i.each(function(){e(this).position().top+o<o+1&&(r=e(this).text())}),this.$fixeddivider.text(r),this.$pnls[r.length?"addClass":"removeClass"](n.hasdividers)}};this.bind("open:start",l),this.bind("openPanel:start",l),this.bind("updateListview",l),this.bind("initPanel:after",function(e){e.off(r.scroll+"-"+i+" "+r.touchmove+"-"+i).on(r.scroll+"-"+i+" "+r.touchmove+"-"+i,function(t){l.call(o,e)})})}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("collapsed uncollapsed fixeddivider hasdividers"),r.add("scroll")},clickAnchor:function(e,t){if(this.opts[i].collapse&&t){var o=e.parent();if(o.is("."+n.divider)){var r=o.nextUntil("."+n.divider,"."+n.collapsed);return o.toggleClass(n.opened),r[o.hasClass(n.opened)?"addClass":"removeClass"](n.uncollapsed),!0}}return!1}},e[t].defaults[i]={add:!1,addTo:"panels",fixed:!1,collapse:!1},e[t].configuration.classNames[i]={collapsed:"Collapsed"};var n,o,r,s}(e),function(e){var t="mmenu",i="counters";e[t].addons[i]={setup:function(){var r=this,a=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof a&&(a={add:a,update:a}),"object"!=typeof a&&(a={}),a=this.opts[i]=e.extend(!0,{},e[t].defaults[i],a),this.bind("initListview:after",function(t){this.__refactorClass(e("em",t),this.conf.classNames[i].counter,"counter")}),a.add&&this.bind("initListview:after",function(t){var i;switch(a.addTo){case"panels":i=t;break;default:i=t.filter(a.addTo)}i.each(function(){var t=e(this).data(o.parent);t&&(t.children("em."+n.counter).length||t.prepend(e('<em class="'+n.counter+'" />')))})}),a.update){var l=function(t){(t=t||this.$pnls.children("."+n.panel)).each(function(){var t=e(this),i=t.data(o.parent);if(i){var s=i.children("em."+n.counter);s.length&&(t=t.children("."+n.listview)).length&&s.html(r.__filterListItems(t.children()).length)}})};this.bind("initListview:after",l),this.bind("updateListview",l)}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("counter search noresultsmsg")},clickAnchor:function(e,t){}},e[t].defaults[i]={add:!1,addTo:"panels",count:!1},e[t].configuration.classNames[i]={counter:"Counter"};var n,o,r,s}(e),function(e){function t(e,t,i){return e<t&&(e=t),e>i&&(e=i),e}function i(i,n,o){var a,l,u,d=this,c={events:"panleft panright",typeLower:"x",typeUpper:"X",open_dir:"right",close_dir:"left",negative:!1},h="width",p=c.open_dir,f=function(e){e<=i.maxStartPos&&(m=1)},g=function(){return e("."+s.slideout)},m=0,_=0,v=0;switch(this.opts.offCanvas.position){case"top":case"bottom":c.events="panup pandown",c.typeLower="y",c.typeUpper="Y",h="height"}switch(this.opts.offCanvas.position){case"right":case"bottom":c.negative=!0,f=function(e){e>=o.$wndw[h]()-i.maxStartPos&&(m=1)}}switch(this.opts.offCanvas.position){case"left":break;case"right":c.open_dir="left",c.close_dir="right";break;case"top":c.open_dir="down",c.close_dir="up";break;case"bottom":c.open_dir="up",c.close_dir="down"}switch(this.opts.offCanvas.zposition){case"front":g=function(){return this.$menu}}var b=this.__valueOrFn(i.node,this.$menu,o.$page);"string"==typeof b&&(b=e(b));var y=new Hammer(b[0],this.opts[r].vendors.hammer);y.on("panstart",function(e){f(e.center[c.typeLower]),o.$slideOutNodes=g(),p=c.open_dir}),y.on(c.events+" panend",function(e){m>0&&e.preventDefault()}),y.on(c.events,function(e){if(a=e["delta"+c.typeUpper],c.negative&&(a=-a),a!=_&&(p=a>=_?c.open_dir:c.close_dir),(_=a)>i.threshold&&1==m){if(o.$html.hasClass(s.opened))return;m=2,d._openSetup(),d.trigger("open:start"),o.$html.addClass(s.dragging),v=t(o.$wndw[h]()*n[h].perc,n[h].min,n[h].max)}2==m&&(l=t(_,10,v)-("front"==d.opts.offCanvas.zposition?v:0),c.negative&&(l=-l),u="translate"+c.typeUpper+"("+l+"px )",o.$slideOutNodes.css({"-webkit-transform":"-webkit-"+u,transform:u}))}),y.on("panend",function(e){2==m&&(o.$html.removeClass(s.dragging),o.$slideOutNodes.css("transform",""),d[p==c.open_dir?"_openFinish":"close"]()),m=0})}function n(e,t,i,n){var o=this,l=e.data(a.parent);if(l){l=l.closest("."+s.panel);var u=null;new Hammer(e[0],o.opts[r].vendors.hammer).on("panright",function(e){u||(o.openPanel(l),u=setTimeout(function(){clearTimeout(u),u=null},o.conf.openingInterval+o.conf.transitionDuration))})}}var o="mmenu",r="drag";e[o].addons[r]={setup:function(){if(this.opts.offCanvas){var t=this.opts[r],s=this.conf[r];u=e[o].glbl,"boolean"==typeof t&&(t={menu:t,panels:t}),"object"!=typeof t&&(t={}),"boolean"==typeof t.menu&&(t.menu={open:t.menu}),"object"!=typeof t.menu&&(t.menu={}),"boolean"==typeof t.panels&&(t.panels={close:t.panels}),"object"!=typeof t.panels&&(t.panels={}),(t=this.opts[r]=e.extend(!0,{},e[o].defaults[r],t)).menu.open&&this.bind("setPage:after",function(){i.call(this,t.menu,s.menu,u)}),t.panels.close&&this.bind("initPanel:after",function(e){n.call(this,e,t.panels,s.panels,u)})}},add:function(){return"function"!=typeof Hammer||Hammer.VERSION<2?(e[o].addons[r].add=function(){},void(e[o].addons[r].setup=function(){})):(s=e[o]._c,a=e[o]._d,l=e[o]._e,void s.add("dragging"))},clickAnchor:function(e,t){}},e[o].defaults[r]={menu:{open:!1,maxStartPos:100,threshold:50},panels:{close:!1},vendors:{hammer:{}}},e[o].configuration[r]={menu:{width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}},panels:{}};var s,a,l,u}(e),function(e){var t="mmenu",i="dropdown";e[t].addons[i]={setup:function(){if(this.opts.offCanvas){var a=this,l=this.opts[i],u=this.conf[i];if(s=e[t].glbl,"boolean"==typeof l&&l&&(l={drop:l}),"object"!=typeof l&&(l={}),"string"==typeof l.position&&(l.position={of:l.position}),(l=this.opts[i]=e.extend(!0,{},e[t].defaults[i],l)).drop){var d;this.bind("initMenu:after",function(){if(this.$menu.addClass(n.dropdown),l.tip&&this.$menu.addClass(n.tip),"string"!=typeof l.position.of){var t=this._getOriginalMenuId();t&&t.length&&(l.position.of='[href="#'+t+'"]')}"string"==typeof l.position.of&&(d=e(l.position.of),l.event=l.event.split(" "),1==l.event.length&&(l.event[1]=l.event[0]),"hover"==l.event[0]&&d.on(r.mouseenter+"-"+i,function(){a.open()}),"hover"==l.event[1]&&this.$menu.on(r.mouseleave+"-"+i,function(){a.close()}))}),this.bind("open:start",function(){this.$menu.data(o.style,this.$menu.attr("style")||""),s.$html.addClass(n.dropdown)}),this.bind("close:finish",function(){this.$menu.attr("style",this.$menu.data(o.style)),s.$html.removeClass(n.dropdown)});var c=function(e,t){var i=t[0],o=t[1],r="x"==e?"scrollLeft":"scrollTop",a="x"==e?"outerWidth":"outerHeight",c="x"==e?"left":"top",h="x"==e?"right":"bottom",p="x"==e?"width":"height",f="x"==e?"maxWidth":"maxHeight",g=null,m=s.$wndw[r](),_=d.offset()[c]-=m,v=_+d[a](),b=s.$wndw[p](),y=u.offset.button[e]+u.offset.viewport[e];if(l.position[e])switch(l.position[e]){case"left":case"bottom":g="after";break;case"right":case"top":g="before"}null===g&&(g=_+(v-_)/2<b/2?"after":"before");var w,x;return"after"==g?(w="x"==e?_:v,x=b-(w+y),i[c]=w+u.offset.button[e],i[h]="auto",o.push(n["x"==e?"tipleft":"tiptop"])):(w="x"==e?v:_,x=w-y,i[h]="calc( 100% - "+(w-u.offset.button[e])+"px )",i[c]="auto",o.push(n["x"==e?"tipright":"tipbottom"])),i[f]=Math.min(u[p].max,x),[i,o]},h=function(e){if(this.vars.opened){this.$menu.attr("style",this.$menu.data(o.style));var t=[{},[]];t=c.call(this,"y",t),t=c.call(this,"x",t),this.$menu.css(t[0]),l.tip&&this.$menu.removeClass(n.tipleft+" "+n.tipright+" "+n.tiptop+" "+n.tipbottom).addClass(t[1].join(" "))}};this.bind("open:start",h),s.$wndw.on(r.resize+"-"+i,function(e){h.call(a)}),this.opts.offCanvas.blockUI||s.$wndw.on(r.scroll+"-"+i,function(e){h.call(a)})}}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("dropdown tip tipleft tipright tiptop tipbottom"),r.add("mouseenter mouseleave resize scroll")},clickAnchor:function(e,t){}},e[t].defaults[i]={drop:!1,event:"click",position:{},tip:!0},e[t].configuration[i]={offset:{button:{x:-10,y:10},viewport:{x:20,y:20}},height:{max:880},width:{max:440}};var n,o,r,s}(e),function(e){var t="mmenu",i="fixedElements";e[t].addons[i]={setup:function(){if(this.opts.offCanvas){var o=this.opts[i],r=this.conf[i];s=e[t].glbl,o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o);this.bind("setPage:after",function(t){var o=this.conf.classNames[i].fixed,a=t.find("."+o);this.__refactorClass(a,o,"slideout"),a[r.elemInsertMethod](r.elemInsertSelector);var l=this.conf.classNames[i].sticky,u=t.find("."+l);this.__refactorClass(u,l,"sticky"),(u=t.find("."+n.sticky)).length&&(this.bind("open:before",function(){var t=s.$wndw.scrollTop();u.each(function(){e(this).css("top",parseInt(e(this).css("top"),10)+t)})}),this.bind("close:finish",function(){u.css("top","")}))})}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("sticky")},clickAnchor:function(e,t){}},e[t].configuration[i]={elemInsertMethod:"appendTo",elemInsertSelector:"body"},e[t].configuration.classNames[i]={fixed:"Fixed",sticky:"Sticky"};var n,o,r,s}(e),function(e){var t="mmenu",i="iconPanels";e[t].addons[i]={setup:function(){var o=this,r=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof r&&(r={add:r}),"number"==typeof r&&(r={add:!0,visible:r}),"object"!=typeof r&&(r={}),r=this.opts[i]=e.extend(!0,{},e[t].defaults[i],r),r.visible++,r.add){for(var a="",l=0;l<=r.visible;l++)a+=" "+n.iconpanel+"-"+l;a.length&&(a=a.slice(1));var u=function(t){t.hasClass(n.vertical)||o.$pnls.children("."+n.panel).removeClass(a).filter("."+n.subopened).removeClass(n.hidden).add(t).not("."+n.vertical).slice(-r.visible).each(function(t){e(this).addClass(n.iconpanel+"-"+t)})};this.bind("initMenu:after",function(){this.$menu.addClass(n.iconpanel)}),this.bind("openPanel:start",u),this.bind("initPanels:after",function(e){u.call(o,o.$pnls.children("."+n.opened))}),this.bind("initListview:after",function(e){e.hasClass(n.vertical)||e.children("."+n.subblocker).length||e.prepend('<a href="#'+e.closest("."+n.panel).attr("id")+'" class="'+n.subblocker+'" />')})}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("iconpanel subblocker")},clickAnchor:function(e,t){}},e[t].defaults[i]={add:!1,visible:3};var n,o,r,s}(e),function(e){function t(t,i){t=t||this.$pnls.children("."+r.opened);var n=e(),o=this.$menu.children("."+r.mm("navbars-top")+", ."+r.mm("navbars-bottom")).children("."+r.navbar);o.find(u).filter(":focus").length||("default"==i&&((n=t.children("."+r.listview).find("a[href]").not("."+r.hidden)).length||(n=t.find(u).not("."+r.hidden)),n.length||(n=o.find(u).not("."+r.hidden))),n.length||(n=this.$menu.children("."+r.tabstart)),n.first().focus())}function i(e){e||(e=this.$pnls.children("."+r.opened)),this.$pnls.children("."+r.panel).not(e).find(u).attr("tabindex",-1),e.find(u).attr("tabindex",0),e.find("."+r.mm("toggle")+", ."+r.mm("check")).attr("tabindex",-1),e.children("."+r.navbar).children("."+r.title).attr("tabindex",-1)}var n="mmenu",o="keyboardNavigation";e[n].addons[o]={setup:function(){if(!e[n].support.touch){var s=this.opts[o];if(this.conf[o],l=e[n].glbl,"boolean"!=typeof s&&"string"!=typeof s||(s={enable:s}),"object"!=typeof s&&(s={}),(s=this.opts[o]=e.extend(!0,{},e[n].defaults[o],s)).enable){var a=e('<button class="'+r.tabstart+'" tabindex="0" type="button" />'),u=e('<button class="'+r.tabend+'" tabindex="0" type="button" />');this.bind("initMenu:after",function(){s.enhance&&this.$menu.addClass(r.keyboardfocus),this["_initWindow_"+o](s.enhance)}),this.bind("initOpened:before",function(){this.$menu.prepend(a).append(u).children("."+r.mm("navbars-top")+", ."+r.mm("navbars-bottom")).children("."+r.navbar).children("a."+r.title).attr("tabindex",-1)}),this.bind("open:start",function(){i.call(this)}),this.bind("open:finish",function(){t.call(this,null,s.enable)}),this.bind("openPanel:start",function(e){i.call(this,e)}),this.bind("openPanel:finish",function(e){t.call(this,e,s.enable)}),this.bind("initOpened:after",function(){this.__sr_aria(this.$menu.children("."+r.mm("tabstart")+", ."+r.mm("tabend")),"hidden",!0)})}}},add:function(){r=e[n]._c,s=e[n]._d,a=e[n]._e,r.add("tabstart tabend keyboardfocus"),a.add("focusin keydown")},clickAnchor:function(e,t){}},e[n].defaults[o]={enable:!1,enhance:!1},e[n].configuration[o]={},e[n].prototype["_initWindow_"+o]=function(t){l.$wndw.off(a.keydown+"-offCanvas"),l.$wndw.off(a.focusin+"-"+o).on(a.focusin+"-"+o,function(t){if(l.$html.hasClass(r.opened)){var i=e(t.target);i.is("."+r.tabend)&&i.parent().find("."+r.tabstart).focus()}}),l.$wndw.off(a.keydown+"-"+o).on(a.keydown+"-"+o,function(t){var i=e(t.target),n=i.closest("."+r.menu);if(n.length)if(n.data("mmenu"),i.is("input, textarea"));else switch(t.keyCode){case 13:(i.is(".mm-toggle")||i.is(".mm-check"))&&i.trigger(a.click);break;case 32:case 37:case 38:case 39:case 40:t.preventDefault()}}),t&&l.$wndw.off(a.keydown+"-"+o).on(a.keydown+"-"+o,function(t){var i=e(t.target),n=i.closest("."+r.menu);if(n.length){var o=n.data("mmenu");if(i.is("input, textarea"))switch(t.keyCode){case 27:i.val("")}else switch(t.keyCode){case 8:var a=i.closest("."+r.panel).data(s.parent);a&&a.length&&o.openPanel(a.closest("."+r.panel));break;case 27:n.hasClass(r.offcanvas)&&o.close()}}})};var r,s,a,l,u="input, select, textarea, button, label, a[href]"}(e),function(e){var t="mmenu",i="lazySubmenus";e[t].addons[i]={setup:function(){var o=this.opts[i];this.conf[i],s=e[t].glbl,"boolean"==typeof o&&(o={load:o}),"object"!=typeof o&&(o={}),(o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o)).load&&(this.bind("initMenu:after",function(){this.$pnls.find("li").children(this.conf.panelNodetype).not("."+n.inset).not("."+n.nolistview).not("."+n.nopanel).addClass(n.lazysubmenu+" "+n.nolistview+" "+n.nopanel)}),this.bind("initPanels:before",function(e){e=e||this.$pnls.children(this.conf.panelNodetype),this.__findAddBack(e,"."+n.lazysubmenu).not("."+n.lazysubmenu+" ."+n.lazysubmenu).removeClass(n.lazysubmenu+" "+n.nolistview+" "+n.nopanel)}),this.bind("initOpened:before",function(){var e=this.$pnls.find("."+this.conf.classNames.selected).parents("."+n.lazysubmenu);e.length&&(e.removeClass(n.lazysubmenu+" "+n.nolistview+" "+n.nopanel),this.initPanels(e.last()))}),this.bind("openPanel:before",function(e){var t=this.__findAddBack(e,"."+n.lazysubmenu).not("."+n.lazysubmenu+" ."+n.lazysubmenu);t.length&&this.initPanels(t)}))},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("lazysubmenu"),o.add("lazysubmenu")},clickAnchor:function(e,t){}},e[t].defaults[i]={load:!1},e[t].configuration[i]={};var n,o,r,s}(e),function(e){var t="mmenu",i="navbars";e[t].addons[i]={setup:function(){var o=this,r=this.opts[i],a=this.conf[i];if(s=e[t].glbl,void 0!==r){r instanceof Array||(r=[r]);var l={},u={};r.length&&(e.each(r,function(s){var d=r[s];"boolean"==typeof d&&d&&(d={}),"object"!=typeof d&&(d={}),void 0===d.content&&(d.content=["prev","title"]),d.content instanceof Array||(d.content=[d.content]),d=e.extend(!0,{},o.opts.navbar,d);var c=e('<div class="'+n.navbar+'" />'),h=d.height;"number"!=typeof h&&(h=1),h=Math.min(4,Math.max(1,h)),c.addClass(n.navbar+"-size-"+h);var p=d.position;"bottom"!=p&&(p="top"),l[p]||(l[p]=0),l[p]+=h,u[p]||(u[p]=e('<div class="'+n.navbars+"-"+p+'" />')),u[p].append(c);for(var f=0,g=0,m=d.content.length;g<m;g++){var _=e[t].addons[i][d.content[g]]||!1;_?f+=_.call(o,c,d,a):((_=d.content[g])instanceof e||(_=e(d.content[g])),c.append(_))}(f+=Math.ceil(c.children().not("."+n.btn).length/h))>1&&c.addClass(n.navbar+"-content-"+f),c.children("."+n.btn).length&&c.addClass(n.hasbtns)}),this.bind("initMenu:after",function(){for(var e in l)this.$menu.addClass(n.hasnavbar+"-"+e+"-"+l[e]),this.$menu["bottom"==e?"append":"prepend"](u[e])}))}},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("navbars close hasbtns")},clickAnchor:function(e,t){}},e[t].configuration[i]={breadcrumbSeparator:"/"},e[t].configuration.classNames[i]={};var n,o,r,s}(e),function(e){var t="mmenu";e[t].addons.navbars.breadcrumbs=function(i,n,o){var r=this,s=e[t]._c,a=e[t]._d;s.add("breadcrumbs separator");var l=e('<span class="'+s.breadcrumbs+'" />').appendTo(i);return this.bind("initNavbar:after",function(t){t.removeClass(s.hasnavbar);for(var i=[],n=e('<span class="'+s.breadcrumbs+'"></span>'),r=t,l=!0;r&&r.length;){if(r.is("."+s.panel)||(r=r.closest("."+s.panel)),!r.hasClass(s.vertical)){var u=r.children("."+s.navbar).children("."+s.title).text();i.unshift(l?"<span>"+u+"</span>":'<a href="#'+r.attr("id")+'">'+u+"</a>"),l=!1}r=r.data(a.parent)}n.append(i.join('<span class="'+s.separator+'">'+o.breadcrumbSeparator+"</span>")).appendTo(t.children("."+s.navbar))}),this.bind("openPanel:start",function(e){l.html(e.children("."+s.navbar).children("."+s.breadcrumbs).html()||"")}),this.bind("initNavbar:after:sr-aria",function(t){t.children("."+s.navbar).children("."+s.breadcrumbs).children("a").each(function(){r.__sr_aria(e(this),"owns",e(this).attr("href").slice(1))})}),0}}(e),function(e){var t="mmenu";e[t].addons.navbars.close=function(i,n){var o=e[t]._c,r=(e[t].glbl,e('<a class="'+o.close+" "+o.btn+'" href="#" />').appendTo(i));return this.bind("setPage:after",function(e){r.attr("href","#"+e.attr("id"))}),this.bind("setPage:after:sr-text",function(i){r.html(this.__sr_text(e[t].i18n(this.conf.screenReader.text.closeMenu))),this.__sr_aria(r,"owns",r.attr("href").slice(1))}),-1}}(e),function(e){var t="mmenu",i="navbars";e[t].addons[i].next=function(n,o){var r,s,a,l=e[t]._c,u=e('<a class="'+l.next+" "+l.btn+'" href="#" />').appendTo(n);return this.bind("openPanel:start",function(e){r=e.find("."+this.conf.classNames[i].panelNext),s=r.attr("href"),a=r.html(),s?u.attr("href",s):u.removeAttr("href"),u[s||a?"removeClass":"addClass"](l.hidden),u.html(a)}),this.bind("openPanel:start:sr-aria",function(e){this.__sr_aria(u,"hidden",u.hasClass(l.hidden)),this.__sr_aria(u,"owns",(u.attr("href")||"").slice(1))}),-1},e[t].configuration.classNames[i].panelNext="Next"}(e),function(e){var t="mmenu",i="navbars";e[t].addons[i].prev=function(n,o){var r=e[t]._c,s=e('<a class="'+r.prev+" "+r.btn+'" href="#" />').appendTo(n);this.bind("initNavbar:after",function(e){e.removeClass(r.hasnavbar)});var a,l,u;return this.bind("openPanel:start",function(e){e.hasClass(r.vertical)||((a=e.find("."+this.conf.classNames[i].panelPrev)).length||(a=e.children("."+r.navbar).children("."+r.prev)),l=a.attr("href"),u=a.html(),l?s.attr("href",l):s.removeAttr("href"),s[l||u?"removeClass":"addClass"](r.hidden),s.html(u))}),this.bind("initNavbar:after:sr-aria",function(e){var t=e.children("."+r.navbar);this.__sr_aria(t,"hidden",!0)}),this.bind("openPanel:start:sr-aria",function(e){this.__sr_aria(s,"hidden",s.hasClass(r.hidden)),this.__sr_aria(s,"owns",(s.attr("href")||"").slice(1))}),-1},e[t].configuration.classNames[i].panelPrev="Prev"}(e),function(e){var t="mmenu";e[t].addons.navbars.searchfield=function(i,n){var o=e[t]._c,r=e('<div class="'+o.search+'" />').appendTo(i);return"object"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=r,0}}(e),function(e){var t="mmenu",i="navbars";e[t].addons[i].title=function(n,o){var r,s,a,l=e[t]._c,u=e('<a class="'+l.title+'" />').appendTo(n);this.bind("openPanel:start",function(e){e.hasClass(l.vertical)||((a=e.find("."+this.conf.classNames[i].panelTitle)).length||(a=e.children("."+l.navbar).children("."+l.title)),r=a.attr("href"),s=a.html()||o.title,r?u.attr("href",r):u.removeAttr("href"),u[r||s?"removeClass":"addClass"](l.hidden),u.html(s))});var d;return this.bind("openPanel:start:sr-aria",function(e){if(this.opts.screenReader.text&&(d||(d=this.$menu.children("."+l.navbars+"-top, ."+l.navbars+"-bottom").children("."+l.navbar).children("."+l.prev)),d.length)){var t=!0;"parent"==this.opts.navbar.titleLink&&(t=!d.hasClass(l.hidden)),this.__sr_aria(u,"hidden",t)}}),0},e[t].configuration.classNames[i].panelTitle="Title"}(e),function(e){function t(e){u&&u.length&&u.is(":visible")&&l.$html.add(l.$body).animate({scrollTop:u.offset().top+e}),u=!1}function i(e){try{return!("#"==e||"#"!=e.slice(0,1)||!l.$page.find(e).length)}catch(e){return!1}}var n="mmenu",o="pageScroll";e[n].addons[o]={setup:function(){var s=this,u=this.opts[o],d=this.conf[o];if(l=e[n].glbl,"boolean"==typeof u&&(u={scroll:u}),(u=this.opts[o]=e.extend(!0,{},e[n].defaults[o],u)).scroll&&this.bind("close:finish",function(){t(d.scrollOffset)}),u.update){var c=[],h=[];(s=this).bind("initListview:after",function(t){s.__filterListItemAnchors(t.find("."+r.listview).children("li")).each(function(){var t=e(this).attr("href");i(t)&&c.push(t)}),h=c.reverse()});var p=-1;l.$wndw.on(a.scroll+"-"+o,function(t){for(var i=l.$wndw.scrollTop(),n=0;n<h.length;n++)if(e(h[n]).offset().top<i+d.updateOffset){p!==n&&(p=n,s.setSelected(s.__filterListItemAnchors(s.$pnls.children("."+r.opened).find("."+r.listview).children("li")).filter('[href="'+h[n]+'"]').parent()));break}})}},add:function(){r=e[n]._c,s=e[n]._d,a=e[n]._e},clickAnchor:function(n,s){if(u=!1,s&&this.opts[o].scroll&&this.opts.offCanvas&&l.$page&&l.$page.length){var a=n.attr("href");i(a)&&(u=e(a),l.$html.hasClass(r.mm("widescreen"))&&t(this.conf[o].scrollOffset))}}},e[n].defaults[o]={scroll:!1,update:!1},e[n].configuration[o]={scrollOffset:0,updateOffset:50};var r,s,a,l,u=!1}(e),function(e){var t="mmenu",i="rtl";e[t].addons[i]={setup:function(){var o=this.opts[i];this.conf[i],s=e[t].glbl,"object"!=typeof o&&(o={use:o}),"boolean"!=typeof(o=this.opts[i]=e.extend(!0,{},e[t].defaults[i],o)).use&&(o.use="rtl"==(s.$html.attr("dir")||"").toLowerCase()),o.use&&this.bind("initMenu:after",function(){this.$menu.addClass(n.rtl)})},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("rtl")},clickAnchor:function(e,t){}},e[t].defaults[i]={use:"detect"};var n,o,r,s}(e),function(e){function t(e){switch(e){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1}var i="mmenu",n="searchfield";e[i].addons[n]={setup:function(){var l=this,u=this.opts[n],d=this.conf[n];a=e[i].glbl,"boolean"==typeof u&&(u={add:u}),"object"!=typeof u&&(u={}),"boolean"==typeof u.resultsPanel&&(u.resultsPanel={add:u.resultsPanel}),u=this.opts[n]=e.extend(!0,{},e[i].defaults[n],u),d=this.conf[n]=e.extend(!0,{},e[i].configuration[n],d),this.bind("close:start",function(){this.$menu.find("."+o.search).find("input").blur()}),this.bind("initPanels:after",function(a){if(u.add){var c;switch(u.addTo){case"panels":c=a;break;default:c=this.$menu.find(u.addTo)}if(c.each(function(){var t=e(this);if(!t.is("."+o.panel)||!t.is("."+o.vertical)){if(!t.children("."+o.search).length){var n=l.__valueOrFn(d.clear,t),r=l.__valueOrFn(d.form,t),a=l.__valueOrFn(d.input,t),c=l.__valueOrFn(d.submit,t),h=e("<"+(r?"form":"div")+' class="'+o.search+'" />'),p=e('<input placeholder="'+e[i].i18n(u.placeholder)+'" type="text" autocomplete="off" />');h.append(p);var f;if(a)for(f in a)p.attr(f,a[f]);if(n&&e('<a class="'+o.btn+" "+o.clear+'" href="#" />').appendTo(h).on(s.click+"-searchfield",function(e){e.preventDefault(),p.val("").trigger(s.keyup+"-searchfield")}),r){for(f in r)h.attr(f,r[f]);c&&!n&&e('<a class="'+o.btn+" "+o.next+'" href="#" />').appendTo(h).on(s.click+"-searchfield",function(e){e.preventDefault(),h.submit()})}t.hasClass(o.search)?t.replaceWith(h):t.prepend(h).addClass(o.hassearch)}if(u.noResults&&(t.closest("."+o.panel).length||(t=l.$pnls.children("."+o.panel).first()),!t.children("."+o.noresultsmsg).length)){var g=t.children("."+o.listview).first();e('<div class="'+o.noresultsmsg+" "+o.hidden+'" />').append(e[i].i18n(u.noResults))[g.length?"insertAfter":"prependTo"](g.length?g:t)}}}),u.search){if(u.resultsPanel.add){u.showSubPanels=!1;var h=this.$pnls.children("."+o.resultspanel);h.length||(h=e('<div class="'+o.resultspanel+" "+o.noanimation+" "+o.hidden+'" />').appendTo(this.$pnls).append('<div class="'+o.navbar+" "+o.hidden+'"><a class="'+o.title+'">'+e[i].i18n(u.resultsPanel.title)+"</a></div>").append('<ul class="'+o.listview+'" />').append(this.$pnls.find("."+o.noresultsmsg).first().clone()),this._initPanel(h))}this.$menu.find("."+o.search).each(function(){var i,a,d=e(this),c=d.closest("."+o.panel).length;c?(i=d.closest("."+o.panel),a=i):(i=e("."+o.panel,l.pnls),a=l.$menu),u.resultsPanel.add&&(i=i.not(h));var p=d.children("input"),f=l.__findAddBack(i,"."+o.listview).children("li"),g=f.filter("."+o.divider),m=l.__filterListItems(f),_="",v=function(){var t=p.val().toLowerCase();if(t!=_){if(_=t,u.resultsPanel.add&&h.children("."+o.listview).empty(),i.scrollTop(0),m.add(g).addClass(o.hidden).find("."+o.fullsubopensearch).removeClass(o.fullsubopen+" "+o.fullsubopensearch),m.each(function(){var t=e(this),i="a";(u.showTextItems||u.showSubPanels&&t.find("."+o.next))&&(i="a, span"),(t.data(r.searchtext)||t.children(i).not("."+o.next).text()).toLowerCase().indexOf(_)>-1&&t.add(t.prevAll("."+o.divider).first()).removeClass(o.hidden)}),u.showSubPanels&&i.each(function(t){var i=e(this);l.__filterListItems(i.find("."+o.listview).children()).each(function(){var t=e(this),i=t.data(r.child);t.removeClass(o.nosubresults),i&&i.find("."+o.listview).children().removeClass(o.hidden)})}),u.resultsPanel.add)if(""===_)this.closeAllPanels(),this.openPanel(this.$pnls.children("."+o.subopened).last());else{var n=e();i.each(function(){var t=l.__filterListItems(e(this).find("."+o.listview).children()).not("."+o.hidden).clone(!0);t.length&&(u.resultsPanel.dividers&&(n=n.add('<li class="'+o.divider+'">'+e(this).children("."+o.navbar).children("."+o.title).text()+"</li>")),t.children("."+o.mm("toggle")+", ."+o.mm("check")).remove(),n=n.add(t))}),n.find("."+o.next).remove(),h.children("."+o.listview).append(n),this.openPanel(h)}else e(i.get().reverse()).each(function(t){var i=e(this),n=i.data(r.parent);n&&(l.__filterListItems(i.find("."+o.listview).children()).length?(n.hasClass(o.hidden)&&n.children("."+o.next).not("."+o.fullsubopen).addClass(o.fullsubopen).addClass(o.fullsubopensearch),n.removeClass(o.hidden).removeClass(o.nosubresults).prevAll("."+o.divider).first().removeClass(o.hidden)):c||(i.hasClass(o.opened)&&setTimeout(function(){l.openPanel(n.closest("."+o.panel))},(t+1)*(1.5*l.conf.openingInterval)),n.addClass(o.nosubresults)))});a.find("."+o.noresultsmsg)[m.not("."+o.hidden).length?"addClass":"removeClass"](o.hidden),this.trigger("updateListview")}};p.off(s.keyup+"-"+n+" "+s.change+"-"+n).on(s.keyup+"-"+n,function(e){t(e.keyCode)||v.call(l)}).on(s.change+"-"+n,function(e){v.call(l)});var b=d.children("."+o.btn);b.length&&p.on(s.keyup+"-"+n,function(e){b[p.val().length?"removeClass":"addClass"](o.hidden)}),p.trigger(s.keyup+"-"+n)})}}})},add:function(){o=e[i]._c,r=e[i]._d,s=e[i]._e,o.add("clear search hassearch resultspanel noresultsmsg noresults nosubresults fullsubopensearch"),r.add("searchtext"),s.add("change keyup")},clickAnchor:function(e,t){}},e[i].defaults[n]={add:!1,addTo:"panels",placeholder:"Search",noResults:"No results found.",resultsPanel:{add:!1,dividers:!0,title:"Search results"},search:!0,showTextItems:!1,showSubPanels:!0},e[i].configuration[n]={clear:!1,form:!1,input:!1,submit:!1};var o,r,s,a}(e),function(e){var t="mmenu",i="sectionIndexer";e[t].addons[i]={setup:function(){var o=this,a=this.opts[i];this.conf[i],s=e[t].glbl,"boolean"==typeof a&&(a={add:a}),"object"!=typeof a&&(a={}),a=this.opts[i]=e.extend(!0,{},e[t].defaults[i],a),this.bind("initPanels:after",function(t){if(a.add){var s;switch(a.addTo){case"panels":s=t;break;default:s=e(a.addTo,this.$menu).filter("."+n.panel)}s.find("."+n.divider).closest("."+n.panel).addClass(n.hasindexer),this.$indexer||(this.$indexer=e('<div class="'+n.indexer+'" />').prependTo(this.$pnls).append('<a href="#a">a</a><a href="#b">b</a><a href="#c">c</a><a href="#d">d</a><a href="#e">e</a><a href="#f">f</a><a href="#g">g</a><a href="#h">h</a><a href="#i">i</a><a href="#j">j</a><a href="#k">k</a><a href="#l">l</a><a href="#m">m</a><a href="#n">n</a><a href="#o">o</a><a href="#p">p</a><a href="#q">q</a><a href="#r">r</a><a href="#s">s</a><a href="#t">t</a><a href="#u">u</a><a href="#v">v</a><a href="#w">w</a><a href="#x">x</a><a href="#y">y</a><a href="#z">z</a>'),this.$indexer.children().on(r.mouseover+"-"+i+" "+r.touchstart+"-"+i,function(t){var i=e(this).attr("href").slice(1),r=o.$pnls.children("."+n.opened),s=r.find("."+n.listview),a=-1,l=r.scrollTop();r.scrollTop(0),s.children("."+n.divider).not("."+n.hidden).each(function(){a<0&&i==e(this).text().slice(0,1).toLowerCase()&&(a=e(this).position().top)}),r.scrollTop(a>-1?a:l)}));var l=function(e){e=e||this.$pnls.children("."+n.opened),this.$menu[(e.hasClass(n.hasindexer)?"add":"remove")+"Class"](n.hasindexer)};this.bind("openPanel:start",l),this.bind("initPanels:after",l)}})},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("indexer hasindexer"),r.add("mouseover")},clickAnchor:function(e,t){if(e.parent().is("."+n.indexer))return!0}},e[t].defaults[i]={add:!1,addTo:"panels"};var n,o,r,s}(e),function(e){var t="mmenu",i="toggles";e[t].addons[i]={setup:function(){var o=this;this.opts[i],this.conf[i],s=e[t].glbl,this.bind("initListview:after",function(t){this.__refactorClass(t.find("input"),this.conf.classNames[i].toggle,"toggle"),this.__refactorClass(t.find("input"),this.conf.classNames[i].check,"check"),t.find("input."+n.toggle+", input."+n.check).each(function(){var t=e(this),i=t.closest("li"),r=t.hasClass(n.toggle)?"toggle":"check",s=t.attr("id")||o.__getUniqueId();i.children('label[for="'+s+'"]').length||(t.attr("id",s),i.prepend(t),e('<label for="'+s+'" class="'+n[r]+'"></label>').insertBefore(i.children("a, span").last()))})})},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("toggle check")},clickAnchor:function(e,t){}},e[t].configuration.classNames[i]={toggle:"Toggle",check:"Check"};var n,o,r,s}(e),function(e){var t="mmenu",i="setSelected";e[t].addons[i]={setup:function(){var r=this,a=this.opts[i];if(this.conf[i],s=e[t].glbl,"boolean"==typeof a&&(a={hover:a,parent:a}),"object"!=typeof a&&(a={}),"detect"==(a=this.opts[i]=e.extend(!0,{},e[t].defaults[i],a)).current){var l=function(e){e=e.split("?")[0].split("#")[0];var t=r.$menu.find('a[href="'+e+'"], a[href="'+e+'/"]');t.length?r.setSelected(t.parent(),!0):(e=e.split("/").slice(0,-1)).length&&l(e.join("/"))};this.bind("initMenu:after",function(){l(window.location.href)})}else a.current||this.bind("initListview:after",function(e){this.$pnls.find("."+n.listview).children("."+n.selected).removeClass(n.selected)});a.hover&&this.bind("initMenu:after",function(){this.$menu.addClass(n.hoverselected)}),a.parent&&(this.bind("openPanel:finish",function(e){this.$pnls.find("."+n.listview).find("."+n.next).removeClass(n.selected);for(var t=e.data(o.parent);t;)t.not("."+n.vertical).children("."+n.next).addClass(n.selected),t=t.closest("."+n.panel).data(o.parent)}),this.bind("initMenu:after",function(){this.$menu.addClass(n.parentselected)}))},add:function(){n=e[t]._c,o=e[t]._d,r=e[t]._e,n.add("hoverselected parentselected")},clickAnchor:function(e,t){}},e[t].defaults[i]={current:!0,hover:!1,parent:!1};var n,o,r,s}(e),!0}),function(e,t,i,n){function o(t,i){this.settings=null,this.options=e.extend({},o.Defaults,i),this.$element=e(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},e.each(["onResize","onThrottledResize"],e.proxy(function(t,i){this._handlers[i]=e.proxy(this[i],this)},this)),e.each(o.Plugins,e.proxy(function(e,t){this._plugins[e.charAt(0).toLowerCase()+e.slice(1)]=new t(this)},this)),e.each(o.Workers,e.proxy(function(t,i){this._pipe.push({filter:i.filter,run:e.proxy(i.run,this)})},this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(e){e.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(e){var t=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,o={width:"auto","margin-left":n?t:"","margin-right":n?"":t};!i&&this.$stage.children().css(o),e.css=o}},{filter:["width","items","settings"],run:function(e){var t=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,o=!this.settings.autoWidth,r=[];for(e.items={merge:!1,width:t};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,e.items.merge=i>1||e.items.merge,r[n]=o?t*i:this._items[n].width();this._widths=r}},{filter:["items","settings"],run:function(){var t=[],i=this._items,n=this.settings,o=Math.max(2*n.items,4),r=2*Math.ceil(i.length/2),s=n.loop&&i.length?n.rewind?o:Math.max(o,r):0,a="",l="";for(s/=2;s--;)t.push(this.normalize(t.length/2,!0)),a+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),l=i[t[t.length-1]][0].outerHTML+l;this._clones=t,e(a).addClass("cloned").appendTo(this.$stage),e(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var e=this.settings.rtl?1:-1,t=this._clones.length+this._items.length,i=-1,n=0,o=0,r=[];++i<t;)n=r[i-1]||0,o=this._widths[this.relative(i)]+this.settings.margin,r.push(n+o*e);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var e=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(e){var t=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&e.items.merge)for(;t--;)e.css.width=this._widths[this.relative(t)],n.eq(t).css(e.css);else i&&(e.css.width=e.items.width,n.css(e.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(e){e.current=e.current?this.$stage.children().index(e.current):0,e.current=Math.max(this.minimum(),Math.min(this.maximum(),e.current)),this.reset(e.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var e,t,i,n,o=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,s=this.coordinates(this.current())+r,a=s+this.width()*o,l=[];for(i=0,n=this._coordinates.length;i<n;i++)e=this._coordinates[i-1]||0,t=Math.abs(this._coordinates[i])+r*o,(this.op(e,"<=",s)&&this.op(e,">",a)||this.op(t,"<",s)&&this.op(t,">",a))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],o.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var t,i,o;t=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,o=this.$element.children(i).width(),t.length&&o<=0&&this.preloadAutoWidthImages(t)}this.$element.addClass(this.options.loadingClass),this.$stage=e("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.setup=function(){var t=this.viewport(),i=this.options.responsive,n=-1,o=null;i?(e.each(i,function(e){e<=t&&e>n&&(n=Number(e))}),"function"==typeof(o=e.extend({},this.options,i[n])).stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):o=e.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=n,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=e("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data},o.prototype.update=function(){for(var t=0,i=this._pipe.length,n=e.proxy(function(e){return this[e]},this._invalidated),o={};t<i;)(this._invalidated.all||e.grep(this._pipe[t].filter,n).length>0)&&this._pipe[t].run(o),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(e){switch(e=e||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer),this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},o.prototype.registerEventHandlers=function(){e.support.transition&&this.$stage.on(e.support.transition.end+".owl.core",e.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",e.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",e.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(t){var n=null;3!==t.which&&(e.support.transform?(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),n={x:n[16===n.length?12:4],y:n[16===n.length?13:5]}):(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(e.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=e(t.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(t),e(i).on("mouseup.owl.core touchend.owl.core",e.proxy(this.onDragEnd,this)),e(i).one("mousemove.owl.core touchmove.owl.core",e.proxy(function(t){var n=this.difference(this._drag.pointer,this.pointer(t));e(i).on("mousemove.owl.core touchmove.owl.core",e.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},o.prototype.onDragMove=function(e){var t=null,i=null,n=null,o=this.difference(this._drag.pointer,this.pointer(e)),r=this.difference(this._drag.stage.start,o);this.is("dragging")&&(e.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,r.x=((r.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*o.x/5:0,r.x=Math.max(Math.min(r.x,t+n),i+n)),this._drag.stage.current=r,this.animate(r.x))},o.prototype.onDragEnd=function(t){var n=this.difference(this._drag.pointer,this.pointer(t)),o=this._drag.stage.current,r=n.x>0^this.settings.rtl?"left":"right";e(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?r:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=r,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(t,i){var n=-1,o=this.width(),r=this.coordinates();return this.settings.freeDrag||e.each(r,e.proxy(function(e,s){return"left"===i&&t>s-30&&t<s+30?n=e:"right"===i&&t>s-o-30&&t<s-o+30?n=e+1:this.op(t,"<",s)&&this.op(t,">",r[e+1]||s-o)&&(n="left"===i?e+1:e),-1===n},this)),this.settings.loop||(this.op(t,">",r[this.minimum()])?n=t=this.minimum():this.op(t,"<",r[this.maximum()])&&(n=t=this.maximum())),n},o.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),e.support.transform3d&&e.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,e.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},o.prototype.is=function(e){return this._states.current[e]&&this._states.current[e]>0},o.prototype.current=function(e){if(e===n)return this._current;if(0===this._items.length)return n;if(e=this.normalize(e),this._current!==e){var t=this.trigger("change",{property:{name:"position",value:e}});t.data!==n&&(e=this.normalize(t.data)),this._current=e,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},o.prototype.invalidate=function(t){return"string"===e.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),e.map(this._invalidated,function(e,t){return t})},o.prototype.reset=function(e){(e=this.normalize(e))!==n&&(this._speed=0,this._current=e,this.suppress(["translate","translated"]),this.animate(this.coordinates(e)),this.release(["translate","translated"]))},o.prototype.normalize=function(e,t){var i=this._items.length,o=t?0:this._clones.length;return!this.isNumeric(e)||i<1?e=n:(e<0||e>=i+o)&&(e=((e-o/2)%i+i)%i+o/2),e},o.prototype.relative=function(e){return e-=this._clones.length/2,this.normalize(e,!0)},o.prototype.maximum=function(e){var t,i,n,o=this.settings,r=this._coordinates.length;if(o.loop)r=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){for(t=this._items.length,i=this._items[--t].width(),n=this.$element.width();t--&&!((i+=this._items[t].width()+this.settings.margin)>n););r=t+1}else r=o.center?this._items.length-1:this._items.length-o.items;return e&&(r-=this._clones.length/2),Math.max(r,0)},o.prototype.minimum=function(e){return e?0:this._clones.length/2},o.prototype.items=function(e){return e===n?this._items.slice():(e=this.normalize(e,!0),this._items[e])},o.prototype.mergers=function(e){return e===n?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])},o.prototype.clones=function(t){var i=this._clones.length/2,o=i+this._items.length,r=function(e){return e%2==0?o+e/2:i-(e+1)/2};return t===n?e.map(this._clones,function(e,t){return r(t)}):e.map(this._clones,function(e,i){return e===t?r(i):null})},o.prototype.speed=function(e){return e!==n&&(this._speed=e),this._speed},o.prototype.coordinates=function(t){var i,o=1,r=t-1;return t===n?e.map(this._coordinates,e.proxy(function(e,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(o=-1,r=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[r]||0))/2*o):i=this._coordinates[r]||0,i=Math.ceil(i))},o.prototype.duration=function(e,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-e),1),6)*Math.abs(i||this.settings.smartSpeed)},o.prototype.to=function(e,t){var i=this.current(),n=null,o=e-this.relative(i),r=(o>0)-(o<0),s=this._items.length,a=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>s/2&&(o+=-1*r*s),e=i+o,(n=((e-a)%s+s)%s+a)!==e&&n-o<=l&&n-o>0&&(i=n-o,e=n,this.reset(i))):this.settings.rewind?(l+=1,e=(e%l+l)%l):e=Math.max(a,Math.min(l,e)),this.speed(this.duration(i,e,t)),this.current(e),this.$element.is(":visible")&&this.update()},o.prototype.next=function(e){e=e||!1,this.to(this.relative(this.current())+1,e)},o.prototype.prev=function(e){e=e||!1,this.to(this.relative(this.current())-1,e)},o.prototype.onTransitionEnd=function(e){if(e!==n&&(e.stopPropagation(),(e.target||e.srcElement||e.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==t?n=e(this.options.responsiveBaseElement).width():t.innerWidth?n=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?n=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},o.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:e(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(e.proxy(function(e,t){t=this.prepare(t),this.$stage.append(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(t,i){var o=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),t=t instanceof jQuery?t:e(t),this.trigger("add",{content:t,position:i}),t=this.prepare(t),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[o]&&this.reset(this._items[o].index()),this.invalidate("items"),this.trigger("added",{content:t,position:i})},o.prototype.remove=function(e){(e=this.normalize(e,!0))!==n&&(this.trigger("remove",{content:this._items[e],position:e}),this._items[e].remove(),this._items.splice(e,1),this._mergers.splice(e,1),this.invalidate("items"),this.trigger("removed",{content:null,position:e}))},o.prototype.preloadAutoWidthImages=function(t){t.each(e.proxy(function(t,i){this.enter("pre-loading"),i=e(i),e(new Image).one("load",e.proxy(function(e){i.attr("src",e.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},o.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),e(i).off(".owl.core"),!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var n in this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(e,t,i){var n=this.settings.rtl;switch(t){case"<":return n?e>i:e<i;case">":return n?e<i:e>i;case">=":return n?e<=i:e>=i;case"<=":return n?e>=i:e<=i}},o.prototype.on=function(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)},o.prototype.off=function(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)},o.prototype.trigger=function(t,i,n,r,s){var a={item:{count:this._items.length,index:this.current()}},l=e.camelCase(e.grep(["on",t,n],function(e){return e}).join("-").toLowerCase()),u=e.Event([t,"owl",n||"carousel"].join(".").toLowerCase(),e.extend({relatedTarget:this},a,i));return this._supress[t]||(e.each(this._plugins,function(e,t){t.onTrigger&&t.onTrigger(u)}),this.register({type:o.Type.Event,name:t}),this.$element.trigger(u),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,u)),u},o.prototype.enter=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]===n&&(this._states.current[t]=0),this._states.current[t]++},this))},o.prototype.leave=function(t){e.each([t].concat(this._states.tags[t]||[]),e.proxy(function(e,t){this._states.current[t]--},this))},o.prototype.register=function(t){if(t.type===o.Type.Event){if(e.event.special[t.name]||(e.event.special[t.name]={}),!e.event.special[t.name].owl){var i=e.event.special[t.name]._default;e.event.special[t.name]._default=function(e){return!i||!i.apply||e.namespace&&-1!==e.namespace.indexOf("owl")?e.namespace&&e.namespace.indexOf("owl")>-1:i.apply(this,arguments)},e.event.special[t.name].owl=!0}}else t.type===o.Type.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=e.grep(this._states.tags[t.name],e.proxy(function(i,n){return e.inArray(i,this._states.tags[t.name])===n},this)))},o.prototype.suppress=function(t){e.each(t,e.proxy(function(e,t){this._supress[t]=!0},this))},o.prototype.release=function(t){e.each(t,e.proxy(function(e,t){delete this._supress[t]},this))},o.prototype.pointer=function(e){var i={x:null,y:null};return e=e.originalEvent||e||t.event,(e=e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i},o.prototype.isNumeric=function(e){return!isNaN(parseFloat(e))},o.prototype.difference=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),r=n.data("owl.carousel");r||(r=new o(this,"object"==typeof t&&t),n.data("owl.carousel",r),e.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,i){r.register({type:o.Type.Event,name:i}),r.$element.on(i+".owl.carousel.core",e.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([i]),r[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},r))})),"string"==typeof t&&"_"!==t.charAt(0)&&r[t].apply(r,i)})},e.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoRefresh:!0,autoRefreshInterval:500},o.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=t.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},o.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},o.prototype.destroy=function(){var e,i;t.clearInterval(this._interval);for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":e.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,o=i.center&&-1*n||0,r=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+o,s=this._core.clones().length,a=e.proxy(function(e,t){this.load(t)},this);o++<n;)this.load(s/2+this._core.relative(r)),s&&e.each(this._core.clones(this._core.relative(r)),a),r++},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1},o.prototype.load=function(i){var n=this._core.$stage.children().eq(i),o=n&&n.find(".owl-lazy");!o||e.inArray(n.get(0),this._loaded)>-1||(o.each(e.proxy(function(i,n){var o,r=e(n),s=t.devicePixelRatio>1&&r.attr("data-src-retina")||r.attr("data-src");this._core.trigger("load",{element:r,url:s},"lazy"),r.is("img")?r.one("load.owl.lazy",e.proxy(function(){r.css("opacity",1),this._core.trigger("loaded",{element:r,url:s},"lazy")},this)).attr("src",s):(o=new Image,o.onload=e.proxy(function(){r.css({"background-image":'url("'+s+'")',opacity:"1"}),this._core.trigger("loaded",{element:r,url:s},"lazy")},this),o.src=s)},this)),this._loaded.push(n.get(0)))},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this._core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&"position"==e.property.name&&this.update()},this),"loaded.owl.lazy":e.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},o.prototype.update=function(){var t=this._core._current,i=t+this._core.settings.items,n=this._core.$stage.children().toArray().slice(t,i),o=[],r=0;e.each(n,function(t,i){o.push(e(i).height())}),r=Math.max.apply(null,o),this._core.$stage.parent().height(r).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var e,t;for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"===e.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,e(t.content)))}},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",e.proxy(function(e){this.play(e)},this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(e,t){var i=e.attr("data-vimeo-id")?"vimeo":e.attr("data-vzaar-id")?"vzaar":"youtube",n=e.attr("data-vimeo-id")||e.attr("data-youtube-id")||e.attr("data-vzaar-id"),o=e.attr("data-width")||this._core.settings.videoWidth,r=e.attr("data-height")||this._core.settings.videoHeight,s=e.attr("href");if(!s)throw new Error("Missing video URL.");if((n=s.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[s]={type:i,id:n,width:o,height:r},t.attr("data-video",s),this.thumbnail(e,this._videos[s])},o.prototype.thumbnail=function(t,i){var n,o,r,s=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=t.find("img"),l="src",u="",d=this._core.settings,c=function(e){o='<div class="owl-video-play-icon"></div>',n=d.lazyLoad?'<div class="owl-video-tn '+u+'" '+l+'="'+e+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+e+')"></div>',t.after(n),t.after(o)};if(t.wrap('<div class="owl-video-wrapper"'+s+"></div>"),this._core.settings.lazyLoad&&(l="data-src",u="owl-lazy"),a.length)return c(a.attr(l)),a.remove(),!1;"youtube"===i.type?(r="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",c(r)):"vimeo"===i.type?e.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){r=e[0].thumbnail_large,c(r)}}):"vzaar"===i.type&&e.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(e){r=e.framegrab_url,c(r)}})},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(t){var i,n=e(t.target).closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],r=o.width||"100%",s=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===o.type?i='<iframe width="'+r+'" height="'+s+'" src="//www.youtube.com/embed/'+o.id+"?autoplay=1&rel=0&v="+o.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type?i='<iframe src="//player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+r+'" height="'+s+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===o.type&&(i='<iframe frameborder="0"height="'+s+'"width="'+r+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+o.id+'/player?autoplay=true"></iframe>'),e('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},o.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&e(t).parent().hasClass("owl-video-frame")},o.prototype.destroy=function(){var e,t;this._core.$element.off("click.owl.video");for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this.core=t,this.core.options=e.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":e.proxy(function(e){e.namespace&&(this.swapping="translated"==e.type)},this),"translate.owl.carousel":e.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&e.support.animation&&e.support.transition){this.core.speed(0);var t,i=e.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,s=this.core.settings.animateOut;this.core.current()!==this.previous&&(s&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(e.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(s)),r&&o.one(e.support.animation.end,i).addClass("animated owl-animated-in").addClass(r))}},o.prototype.clear=function(t){e(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var e,t;for(e in this.handlers)this.core.$element.off(e,this.handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){var o=function(t){this._core=t,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":e.proxy(function(e){e.namespace&&"settings"===e.property.name?this._core.settings.autoplay?this.play():this.stop():e.namespace&&"position"===e.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":e.proxy(function(e,t,i){e.namespace&&this.play(t,i)},this),"stop.owl.autoplay":e.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":e.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=e.extend({},o.Defaults,this._core.options)};o.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},o.prototype.play=function(e,t){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},o.prototype._getNextTimeout=function(n,o){return this._timeout&&t.clearTimeout(this._timeout),t.setTimeout(e.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(o||this._core.settings.autoplaySpeed)},this),n||this._core.settings.autoplayTimeout)},o.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},o.prototype.stop=function(){this._core.is("rotating")&&(t.clearTimeout(this._timeout),this._core.leave("rotating"))},o.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},o.prototype.destroy=function(){var e,t;this.stop();for(e in this._handlers)this._core.$element.off(e,this._handlers[e]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)},e.fn.owlCarousel.Constructor.Plugins.autoplay=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var o=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+e(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":e.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":e.proxy(function(e){e.namespace&&"position"==e.property.name&&this.draw()},this),"initialized.owl.carousel":e.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":e.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},o.prototype.initialize=function(){var t,i=this._core.settings;this._controls.$relative=(i.navContainer?e(i.navContainer):e("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=e("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",e.proxy(function(e){this.prev(i.navSpeed)},this)),this._controls.$next=e("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",e.proxy(function(e){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[e("<div>").addClass(i.dotClass).append(e("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?e(i.dotsContainer):e("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",e.proxy(function(t){var n=e(t.target).parent().is(this._controls.$absolute)?e(t.target).index():e(t.target).parent().index();t.preventDefault(),this.to(n,i.dotsSpeed)},this));for(t in this._overrides)this._core[t]=e.proxy(this[t],this)},o.prototype.destroy=function(){var e,t,i,n;for(e in this._handlers)this.$element.off(e,this._handlers[e]);for(t in this._controls)this._controls[t].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},o.prototype.update=function(){var e,t,i=this._core.clones().length/2,n=i+this._core.items().length,o=this._core.maximum(!0),r=this._core.settings,s=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],e=i,t=0,0;e<n;e++){if(t>=s||0===t){if(this._pages.push({start:Math.min(o,e-i),end:e-i+s-1}),Math.min(o,e-i)===o)break;t=0,0}t+=this._core.mergers(this._core.relative(e))}},o.prototype.draw=function(){var t,i=this._core.settings,n=this._core.items().length<=i.items,o=this._core.relative(this._core.current()),r=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!r&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(t=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):t>0?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(e.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:e.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},o.prototype.current=function(){var t=this._core.relative(this._core.current());return e.grep(this._pages,e.proxy(function(e,i){return e.start<=t&&e.end>=t},this)).pop()},o.prototype.getPosition=function(t){var i,n,o=this._core.settings;return"page"==o.slideBy?(i=e.inArray(this.current(),this._pages),n=this._pages.length,t?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,t?i+=o.slideBy:i-=o.slideBy),i},o.prototype.next=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},o.prototype.prev=function(t){e.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},o.prototype.to=function(t,i,n){var o;!n&&this._pages.length?(o=this._pages.length,e.proxy(this._overrides.to,this._core)(this._pages[(t%o+o)%o].start,i)):e.proxy(this._overrides.to,this._core)(t,i)},e.fn.owlCarousel.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){"use strict";var o=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":e.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&e(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":e.proxy(function(t){if(t.namespace){var i=e(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}},this),"changed.owl.carousel":e.proxy(function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),o=e.map(this._hashes,function(e,t){return e===n?t:null}).join();if(!o||t.location.hash.slice(1)===o)return;t.location.hash=o}},this)},this._core.options=e.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),e(t).on("hashchange.owl.navigation",e.proxy(function(e){var i=t.location.hash.substring(1),n=this._core.$stage.children(),o=this._hashes[i]&&n.index(this._hashes[i]);void 0!==o&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var i,n;e(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},e.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(e,t,i,n){function o(t,i){var o=!1,r=t.charAt(0).toUpperCase()+t.slice(1);return e.each((t+" "+a.join(r+" ")+r).split(" "),function(e,t){if(s[t]!==n)return o=!i||t,!1}),o}function r(e){return o(e,!0)}var s=e("<support>").get(0).style,a="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},u={csstransforms:function(){return!!o("transform")},csstransforms3d:function(){return!!o("perspective")},csstransitions:function(){return!!o("transition")},cssanimations:function(){return!!o("animation")}};u.csstransitions()&&(e.support.transition=new String(r("transition")),e.support.transition.end=l.transition.end[e.support.transition]),u.cssanimations()&&(e.support.animation=new String(r("animation")),e.support.animation.end=l.animation.end[e.support.animation]),u.csstransforms()&&(e.support.transform=new String(r("transform")),e.support.transform3d=u.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(e){e.fn.equalHeights=function(){function t(){i.height("initial");var t=i.eq(0).height();i.each(function(){t=e(this).height()>t?e(this).height():t}),i.height(t)}var i=e(this);t(),e(window).bind("resize",function(){t()})}}(jQuery),fotoramaVersion="4.6.4",function(e,t,i,n,o){"use strict";function r(){}function s(e,t,i){return Math.max(isNaN(t)?-1/0:t,Math.min(isNaN(i)?1/0:i,e))}function a(e){return e.match(/ma/)&&e.match(/-?\d+(?!d)/g)[e.match(/3d/)?12:4]}function l(e){return kt?+a(e.css("transform")):+e.css("left").replace("px","")}function u(e){var t={};return kt?t.transform="translate3d("+e+"px,0,0)":t.left=e,t}function d(e){return{"transition-duration":e+"ms"}}function c(e,t){return isNaN(e)?t:e}function h(e,t){return c(+String(e).replace(t||"px",""))}function p(e){return/%$/.test(e)?h(e,"%"):o}function f(e,t){return c(p(e)/100*t,h(e))}function g(e){return(!isNaN(h(e))||!isNaN(h(e,"%")))&&e}function m(e,t,i,n){return(e-(n||0))*(t+(i||0))}function _(e,t,i,n){return-Math.round(e/(t+(i||0))-(n||0))}function v(e){var t=e.data();t.tEnd||(G(e[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[_t.prefixed("transition")],function(e){t.tProp&&e.propertyName.match(t.tProp)&&t.onEndFn()}),t.tEnd=!0)}function b(e,t,i,n){var o,r=e.data();r&&(r.onEndFn=function(){o||(o=!0,clearTimeout(r.tT),i())},r.tProp=t,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*n),v(e))}function y(e,t){if(e.length){var i=e.data();kt?(e.css(d(0)),i.onEndFn=r,clearTimeout(i.tT)):e.stop();var n=w(t,function(){return l(e)});return e.css(u(n)),n}}function w(){for(var e,t=0,i=arguments.length;i>t&&"number"!=typeof(e=t?arguments[t]():arguments[t]);t++);return e}function x(e,t){return Math.round(e+(t-e)/1.5)}function T(){return T.p=T.p||("https:"===i.protocol?"https://":"http://"),T.p}function C(e){var i=t.createElement("a");return i.href=e,i}function I(e,t){if("string"!=typeof e)return e;var i,n;if((e=C(e)).host.match(/youtube\.com/)&&e.search){if(i=e.search.split("v=")[1]){var o=i.indexOf("&");-1!==o&&(i=i.substring(0,o)),n="youtube"}}else e.host.match(/youtube\.com|youtu\.be/)?(i=e.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),n="youtube"):e.host.match(/vimeo\.com/)&&(n="vimeo",i=e.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return i&&n||!t||(i=e.href,n="custom"),!!i&&{id:i,type:n,s:e.search.replace(/^\?/,""),p:T()}}function E(e,t,i){var o,r,s=e.video;return"youtube"===s.type?(r=T()+"img.youtube.com/vi/"+s.id+"/default.jpg",o=r.replace(/\/default.jpg$/,"/hqdefault.jpg"),e.thumbsReady=!0):"vimeo"===s.type?n.ajax({url:T()+"vimeo.com/api/v2/video/"+s.id+".json",dataType:"jsonp",success:function(n){e.thumbsReady=!0,S(t,{img:n[0].thumbnail_large,thumb:n[0].thumbnail_small},e.i,i)}}):e.thumbsReady=!0,{img:o,thumb:r}}function S(e,t,i,o){for(var r=0,s=e.length;s>r;r++){var a=e[r];if(a.i===i&&a.thumbsReady){var l={videoReady:!0};l[Bt]=l[Yt]=l[Ut]=!1,o.splice(r,1,n.extend({},a,l,t));break}}}function P(e){function t(e,t,o){var r=e.children("img").eq(0),s=e.attr("href"),a=e.attr("src"),l=r.attr("src"),u=t.video,d=!!o&&I(s,!0===u);d?s=!1:d=u,i(e,r,n.extend(t,{video:d,img:t.img||s||a||l,thumb:t.thumb||l||a||s}))}function i(e,t,i){var o=i.thumb&&i.img!==i.thumb,r=h(i.width||e.attr("width")),s=h(i.height||e.attr("height"));n.extend(i,{width:r,height:s,thumbratio:Q(i.thumbratio||h(i.thumbwidth||t&&t.attr("width")||o||r)/h(i.thumbheight||t&&t.attr("height")||o||s))})}var o=[];return e.children().each(function(){var e=n(this),r=W(n.extend(e.data(),{id:e.attr("id")}));if(e.is("a, img"))t(e,r,!0);else{if(e.is(":empty"))return;i(e,null,n.extend(r,{html:this,_html:e.html()}))}o.push(r)}),o}function j(e){return 0===e.offsetWidth&&0===e.offsetHeight}function A(e){return!n.contains(t.documentElement,e)}function k(e,t,i,n){return k.i||(k.i=1,k.ii=[!0]),n=n||k.i,void 0===k.ii[n]&&(k.ii[n]=!0),e()?t():k.ii[n]&&setTimeout(function(){k.ii[n]&&k(e,t,i,n)},i||100),k.i++}function O(e){i.replace(i.protocol+"//"+i.host+i.pathname.replace(/^\/?/,"/")+i.search+"#"+e)}function M(e,t,i,n){var o=e.data(),r=o.measures;if(r&&(!o.l||o.l.W!==r.width||o.l.H!==r.height||o.l.r!==r.ratio||o.l.w!==t.w||o.l.h!==t.h||o.l.m!==i||o.l.p!==n)){var a=r.width,l=r.height,u=t.w/t.h,d=r.ratio>=u,c="scaledown"===i,h="contain"===i,p="cover"===i,g=Z(n);d&&(c||h)||!d&&p?(a=s(t.w,0,c?a:1/0),l=a/r.ratio):(d&&p||!d&&(c||h))&&(l=s(t.h,0,c?l:1/0),a=l*r.ratio),e.css({width:a,height:l,left:f(g.x,t.w-a),top:f(g.y,t.h-l)}),o.l={W:r.width,H:r.height,r:r.ratio,w:t.w,h:t.h,m:i,p:n}}return!0}function N(e,t){var i=e[0];i.styleSheet?i.styleSheet.cssText=t:e.html(t)}function z(e,t,i){return t!==i&&(t>=e?"left":e>=i?"right":"left right")}function D(e,t,i,n){if(!i)return!1;if(!isNaN(e))return e-(n?0:1);for(var o,r=0,s=t.length;s>r;r++)if(t[r].id===e){o=r;break}return o}function $(e,t,i){i=i||{},e.each(function(){var e,o=n(this),s=o.data();s.clickOn||(s.clickOn=!0,n.extend(te(o,{onStart:function(t){e=t,(i.onStart||r).call(this,t)},onMove:i.onMove||r,onTouchEnd:i.onTouchEnd||r,onEnd:function(i){i.moved||t.call(this,e)}}),{noMove:!0}))})}function L(e,t){return'<div class="'+e+'">'+(t||"")+"</div>"}function H(e){for(var t=e.length;t;){var i=Math.floor(Math.random()*t--),n=e[t];e[t]=e[i],e[i]=n}return e}function R(e){return"[object Array]"==Object.prototype.toString.call(e)&&n.map(e,function(e){return n.extend({},e)})}function F(e,t,i){e.scrollLeft(t||0).scrollTop(i||0)}function W(e){if(e){var t={};return n.each(e,function(e,i){t[e.toLowerCase()]=i}),t}}function Q(e){if(e){var t=+e;return isNaN(t)?+(t=e.split("/"))[0]/+t[1]||o:t}}function G(e,t,i,n){t&&(e.addEventListener?e.addEventListener(t,i,!!n):e.attachEvent("on"+t,i))}function B(e){return!!e.getAttribute("disabled")}function U(e){return{tabindex:-1*e+"",disabled:e}}function Y(e,t){G(e,"keyup",function(i){B(e)||13==i.keyCode&&t.call(e,i)})}function q(e,t){G(e,"focus",e.onfocusin=function(i){t.call(e,i)},!0)}function V(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&e.stopPropagation&&e.stopPropagation()}function X(e){return e?">":"<"}function Z(e){return e=(e+"").split(/\s+/),{x:g(e[0])||Xt,y:g(e[1])||Xt}}function K(e,t){var i=e.data(),o=Math.round(t.pos),s=function(){i.sliding=!1,(t.onEnd||r)()};void 0!==t.overPos&&t.overPos!==t.pos&&(o=t.overPos,s=function(){K(e,n.extend({},t,{overPos:t.pos,time:Math.max(Ht,t.time/2)}))});var a=n.extend(u(o),t.width&&{width:t.width});i.sliding=!0,kt?(e.css(n.extend(d(t.time),a)),t.time>10?b(e,"transform",s,t.time):s()):e.stop().animate(a,t.time,Vt,s)}function J(e,t,i,o,s,a){var l=void 0!==a;if(l||(s.push(arguments),Array.prototype.push.call(arguments,s.length),!(s.length>1))){e=e||n(e),t=t||n(t);var u=e[0],d=t[0],c="crossfade"===o.method,h=function(){if(!h.done){h.done=!0;var e=(l||s.shift())&&s.shift();e&&J.apply(this,e),(o.onEnd||r)(!!e)}},p=o.time/(a||1);i.removeClass(We+" "+Fe),e.stop().addClass(We),t.stop().addClass(Fe),c&&d&&e.fadeTo(0,0),e.fadeTo(c?p:0,1,c&&h),t.fadeTo(p,0,h),u&&c||d||h()}}function ee(e){var t=(e.touches||[])[0]||e;e._x=t.pageX,e._y=t.clientY,e._now=n.now()}function te(e,i){function o(e){return c=n(e.target),b.checked=f=g=_=!1,u||b.flow||e.touches&&e.touches.length>1||e.which>1||Jt&&Jt.type!==e.type&&ti||(f=i.select&&c.is(i.select,v))?f:(p="touchstart"===e.type,g=c.is("a, a *",v),h=b.control,m=b.noMove||b.noSwipe||h?16:b.snap?0:4,ee(e),d=Jt=e,ei=e.type.replace(/down|start/,"move").replace(/Down/,"Move"),(i.onStart||r).call(v,e,{control:h,$target:c}),u=b.flow=!0,void((!p||b.go)&&V(e)))}function s(e){if(e.touches&&e.touches.length>1||Dt&&!e.isPrimary||ei!==e.type||!u)return u&&a(),void(i.onTouchEnd||r)();ee(e);var t=Math.abs(e._x-d._x),n=Math.abs(e._y-d._y),o=t-n,s=(b.go||b.x||o>=0)&&!b.noSwipe,l=0>o;p&&!b.checked?(u=s)&&V(e):(V(e),(i.onMove||r).call(v,e,{touch:p})),!_&&Math.sqrt(Math.pow(t,2)+Math.pow(n,2))>m&&(_=!0),b.checked=b.checked||s||l}function a(e){(i.onTouchEnd||r)();var t=u;b.control=u=!1,t&&(b.flow=!1),!t||g&&!b.checked||(e&&V(e),ti=!0,clearTimeout(ii),ii=setTimeout(function(){ti=!1},1e3),(i.onEnd||r).call(v,{moved:_,$target:c,control:h,touch:p,startEvent:d,aborted:!e||"MSPointerCancel"===e.type}))}function l(){b.flow&&setTimeout(function(){b.flow=!1},Lt)}var u,d,c,h,p,f,g,m,_,v=e[0],b={};return Dt?(G(v,"MSPointerDown",o),G(t,"MSPointerMove",s),G(t,"MSPointerCancel",a),G(t,"MSPointerUp",a)):(G(v,"touchstart",o),G(v,"touchmove",s),G(v,"touchend",a),G(t,"touchstart",function(){b.flow||setTimeout(function(){b.flow=!0},10)}),G(t,"touchend",l),G(t,"touchcancel",l),St.on("scroll",l),e.on("mousedown",o),Pt.on("mousemove",s).on("mouseup",a)),e.on("click","a",function(e){b.checked&&V(e)}),b}function ie(e,t){function i(i,n){T=!0,o=a=i._x,p=i._now,h=[[p,o]],l=d=E.noMove||n?0:y(e,(t.getPos||r)()),(t.onStart||r).call(C,i)}var o,a,l,d,c,h,p,f,g,m,_,v,b,w,T,C=e[0],I=e.data(),E={};return E=n.extend(te(t.$wrap,n.extend({},t,{onStart:function(e,t){g=E.min,m=E.max,_=E.snap,v=e.altKey,T=w=!1,(b=t.control)||I.sliding||i(e)},onMove:function(n,s){E.noSwipe||(T||i(n),a=n._x,h.push([n._now,a]),d=l-(o-a),c=z(d,g,m),g>=d?d=x(d,g):d>=m&&(d=x(d,m)),E.noMove||(e.css(u(d)),w||(w=!0,s.touch||Dt||e.addClass(it)),(t.onMove||r).call(C,n,{pos:d,edge:c})))},onEnd:function(o){if(!E.noSwipe||!o.moved){T||i(o.startEvent,!0),o.touch||Dt||e.removeClass(it);for(var u,c,p,b,y,w,x,I,S,P=(f=n.now())-Lt,j=null,A=Ht,k=t.friction,O=h.length-1;O>=0;O--){if(u=h[O][0],c=Math.abs(u-P),null===j||p>c)j=u,b=h[O][1];else if(j===P||c>p)break;p=c}x=s(d,g,m);var M=b-a,N=M>=0,z=f-j,D=z>Lt,$=!D&&d!==l&&x===d;_&&(x=s(Math[$?N?"floor":"ceil":"round"](d/_)*_,g,m),g=m=x),$&&(_||x===d)&&(S=-M/z,A*=s(Math.abs(S),t.timeLow,t.timeHigh),y=Math.round(d+S*A/k),_||(x=y),(!N&&y>m||N&&g>y)&&(w=N?g:m,I=y-w,_||(x=w),I=s(x+.03*I,w-50,w+50),A=Math.abs((d-I)/(S/k)))),A*=v?10:1,(t.onEnd||r).call(C,n.extend(o,{moved:o.moved||D&&_,pos:d,newPos:x,overPos:I,time:A}))}}})),E)}function ne(e,t){var i,o,s,a={prevent:{}};return G(e[0],$t,function(e){var l=e.wheelDeltaY||-1*e.deltaY||0,u=e.wheelDeltaX||-1*e.deltaX||0,d=Math.abs(u)&&!Math.abs(l),c=X(0>u),h=o===c,p=n.now(),f=Lt>p-s;o=c,s=p,d&&a.ok&&(!a.prevent[c]||i)&&(V(e,!0),i&&h&&f||(t.shift&&(i=!0,clearTimeout(a.t),a.t=setTimeout(function(){i=!1},Rt)),(t.onEnd||r)(e,t.shift?c:u)))}),a}function oe(){n.each(n.Fotorama.instances,function(e,t){t.index=e})}function re(e){n.Fotorama.instances.push(e),oe()}function se(e){n.Fotorama.instances.splice(e.index,1),oe()}var ae="fotorama",le="fullscreen",ue=ae+"__wrap",de=ue+"--css2",ce=ue+"--css3",he=ue+"--video",pe=ue+"--fade",fe=ue+"--slide",ge=ue+"--no-controls",me=ue+"--no-shadows",_e=ue+"--pan-y",ve=ue+"--rtl",be=ue+"--only-active",ye=ue+"--no-captions",we=ue+"--toggle-arrows",xe=ae+"__stage",Te=xe+"__frame",Ce=Te+"--video",Ie=xe+"__shaft",Ee=ae+"__grab",Se=ae+"__pointer",Pe=ae+"__arr",je=Pe+"--disabled",Ae=Pe+"--prev",ke=Pe+"--next",Oe=ae+"__nav",Me=Oe+"-wrap",Ne=Oe+"__shaft",ze=Oe+"--dots",De=Oe+"--thumbs",$e=Oe+"__frame",Le=$e+"--dot",He=$e+"--thumb",Re=ae+"__fade",Fe=Re+"-front",We=Re+"-rear",Qe=ae+"__shadow"+"s",Ge=Qe+"--left",Be=Qe+"--right",Ue=ae+"__active",Ye=ae+"__select",qe=ae+"--hidden",Ve=ae+"--fullscreen",Xe=ae+"__fullscreen-icon",Ze=ae+"__error",Ke=ae+"__loading",Je=ae+"__loaded",et=Je+"--full",tt=Je+"--img",it=ae+"__grabbing",nt=ae+"__img",ot=nt+"--full",rt=ae+"__dot",st=ae+"__thumb",at=st+"-border",lt=ae+"__html",ut=ae+"__video",dt=ut+"-play",ct=ut+"-close",ht=ae+"__caption",pt=ae+"__caption__wrap",ft=ae+"__spinner",gt='" tabindex="0" role="button',mt=n&&n.fn.jquery.split(".");if(!mt||mt[0]<1||1==mt[0]&&mt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var _t=function(e,t,i){function n(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function r(e,t){for(var n in e){var r=e[n];if(!o(r,"-")&&f[r]!==i)return"pfx"!=t||r}return!1}function s(e,t,o){for(var r in e){var s=t[e[r]];if(s!==i)return!1===o?e[r]:n(s,"function")?s.bind(o||t):s}return!1}function a(e,t,i){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+_.join(o+" ")+o).split(" ");return n(t,"string")||n(t,"undefined")?r(a,t):(a=(e+" "+v.join(o+" ")+o).split(" "),s(a,t,i))}var l,u,d={},c=t.documentElement,h="modernizr",p=t.createElement(h),f=p.style,g=" -webkit- -moz- -o- -ms- ".split(" "),m="Webkit Moz O ms",_=m.split(" "),v=m.toLowerCase().split(" "),b={},y=[],w=y.slice,x={}.hasOwnProperty;u=n(x,"undefined")||n(x.call,"undefined")?function(e,t){return t in e&&n(e.constructor.prototype[t],"undefined")}:function(e,t){return x.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=w.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=t.prototype;var r=new o,s=t.apply(r,i.concat(w.call(arguments)));return Object(s)===s?s:r}return t.apply(e,i.concat(w.call(arguments)))};return n}),b.csstransforms3d=function(){return!!a("perspective")};for(var T in b)u(b,T)&&(l=T.toLowerCase(),d[l]=b[T](),y.push((d[l]?"":"no-")+l));return d.addTest=function(e,t){if("object"==typeof e)for(var n in e)u(e,n)&&d.addTest(n,e[n]);else{if(e=e.toLowerCase(),d[e]!==i)return d;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(c.className+=" "+(t?"":"no-")+e),d[e]=t}return d},function(e){f.cssText=e}(""),p=null,d._version="2.6.2",d._prefixes=g,d._domPrefixes=v,d._cssomPrefixes=_,d.testProp=function(e){return r([e])},d.testAllProps=a,d.testStyles=function(e,i,n,o){var r,s,a,l,u=t.createElement("div"),d=t.body,p=d||t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=o?o[n]:h+(n+1),u.appendChild(a);return r=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),u.id=h,(d?u:p).innerHTML+=r,p.appendChild(u),d||(p.style.background="",p.style.overflow="hidden",l=c.style.overflow,c.style.overflow="hidden",c.appendChild(p)),s=i(u,e),d?u.parentNode.removeChild(u):(p.parentNode.removeChild(p),c.style.overflow=l),!!s},d.prefixed=function(e,t,i){return t?a(e,t,i):a(e,"pfx")},d}(0,t),vt={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},bt="webkit moz o ms khtml".split(" ");if(void 0!==t.cancelFullScreen)vt.ok=!0;else for(var yt=0,wt=bt.length;wt>yt;yt++)if(vt.prefix=bt[yt],void 0!==t[vt.prefix+"CancelFullScreen"]){vt.ok=!0;break}vt.ok&&(vt.event=vt.prefix+"fullscreenchange",vt.is=function(){switch(this.prefix){case"":return t.fullScreen;case"webkit":return t.webkitIsFullScreen;default:return t[this.prefix+"FullScreen"]}},vt.request=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},vt.cancel=function(){return""===this.prefix?t.cancelFullScreen():t[this.prefix+"CancelFullScreen"]()});var xt,Tt={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Ct={top:"auto",left:"auto",className:""};!function(e,t){xt=t()}(0,function(){function e(e,i){var n,o=t.createElement(e||"div");for(n in i)o[n]=i[n];return o}function i(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,i,n){var o=["opacity",t,~~(100*e),i,n].join("-"),r=.01+i/n*100,s=Math.max(1-(1-e)/t*(100-r),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[o]||(f.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",f.cssRules.length),p[o]=1),o}function r(e,t){var i,n,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<h.length;n++)if(i=h[n]+t,r[i]!==o)return i;return r[t]!==o?t:void 0}function s(e,t){for(var i in t)e.style[r(e,i)||i]=t[i];return e}function a(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]===o&&(e[n]=i[n])}return e}function l(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function u(e,t){return"string"==typeof e?e:e[t%e.length]}function d(e){return void 0===this?new d(e):void(this.opts=a(e||{},d.defaults,g))}var c,h=["webkit","Moz","ms","O"],p={},f=function(){var n=e("style",{type:"text/css"});return i(t.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),g={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};d.defaults={},a(d.prototype,{spin:function(t){this.stop();var i,n,o=this,r=o.opts,a=o.el=s(e(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),u=r.radius+r.length+r.width;if(t&&(t.insertBefore(a,t.firstChild||null),n=l(t),i=l(a),s(a,{left:("auto"==r.left?n.x-i.x+(t.offsetWidth>>1):parseInt(r.left,10)+u)+"px",top:("auto"==r.top?n.y-i.y+(t.offsetHeight>>1):parseInt(r.top,10)+u)+"px"})),a.setAttribute("role","progressbar"),o.lines(a,o.opts),!c){var d,h=0,p=(r.lines-1)*(1-r.direction)/2,f=r.fps,g=f/r.speed,m=(1-r.opacity)/(g*r.trail/100),_=g/r.lines;!function e(){h++;for(var t=0;t<r.lines;t++)d=Math.max(1-(h+(r.lines-t)*_)%g*m,r.opacity),o.opacity(a,t*r.direction+p,d,r);o.timeout=o.el&&setTimeout(e,~~(1e3/f))}()}return o},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=o),this},lines:function(t,o){function r(t,i){return s(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var a,l=0,d=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)a=s(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,d+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&i(a,s(r("#000","0 0 4px #000"),{top:"2px"})),i(t,i(a,r(u(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var m=s(e("group"),{behavior:"url(#default#VML)"});return!r(m,"transform")&&m.adj?function(){function t(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}f.addRule(".spin-vml","behavior:url(#default#VML)"),d.prototype.lines=function(e,n){function o(){return s(t("group",{coordsize:d+" "+d,coordorigin:-l+" "+-l}),{width:d,height:d})}function r(e,r,a){i(h,i(s(o(),{rotation:360/n.lines*e+"deg",left:~~r}),i(s(t("roundrect",{arcsize:n.corners}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),t("fill",{color:u(n.color,e),opacity:n.opacity}),t("stroke",{opacity:0}))))}var a,l=n.length+n.width,d=2*l,c=2*-(n.width+n.length)+"px",h=s(o(),{position:"absolute",top:c,left:c});if(n.shadow)for(a=1;a<=n.lines;a++)r(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=n.lines;a++)r(a);return i(e,h)},d.prototype.opacity=function(e,t,i,n){var o=e.firstChild;n=n.shadow&&n.lines||0,o&&t+n<o.childNodes.length&&(o=o.childNodes[t+n],o=o&&o.firstChild,(o=o&&o.firstChild)&&(o.opacity=i))}}():c=r(m,"animation"),d});var It,Et,St=n(e),Pt=n(t),jt="quirks"===i.hash.replace("#",""),At=_t.csstransforms3d,kt=At&&!jt,Ot=At||"CSS1Compat"===t.compatMode,Mt=vt.ok,Nt=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),zt=!kt||Nt,Dt=navigator.msPointerEnabled,$t="onwheel"in t.createElement("div")?"wheel":t.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Lt=250,Ht=300,Rt=1400,Ft=5e3,Wt=64,Qt=500,Gt=333,Bt="$stageFrame",Ut="$navDotFrame",Yt="$navThumbFrame",qt="auto",Vt=function(e){var t="bez_"+n.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof n.easing[t]){var i=function(e,t){var i=[null,null],n=[null,null],o=[null,null],r=function(r,s){return o[s]=3*e[s],n[s]=3*(t[s]-e[s])-o[s],i[s]=1-o[s]-n[s],r*(o[s]+r*(n[s]+r*i[s]))},s=function(e){return o[0]+e*(2*n[0]+3*i[0]*e)},a=function(e){for(var t,i=e,n=0;++n<14&&(t=r(i,0)-e,!(Math.abs(t)<.001));)i-=t/s(i);return i};return function(e){return r(a(e),1)}};n.easing[t]=function(t,n,o,r,s){return r*i([e[0],e[1]],[e[2],e[3]])(n/s)+o}}return t}([.1,0,.25,1]),Xt="50%",Zt={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:Xt,thumbposition:Xt,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Wt,thumbheight:Wt,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Ht,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},Kt={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};k.stop=function(e){k.ii[e]=!1};var Jt,ei,ti,ii;jQuery.Fotorama=function(e,o){function r(){n.each(Ti,function(e,t){if(!t.i){t.i=hn++;var i=I(t.video,!0);if(i){var n={};t.video=i,t.img||t.thumb?t.thumbsReady=!0:n=E(t,Ti,ln),S(Ti,{img:n.img,thumb:n.thumb},t.i,ln)}}})}function a(e){return Xi[e]||ln.fullScreen}function l(e){var t="keydown."+ae,i=ae+un,n="keydown."+i,r="resize."+i+" orientationchange."+i;e?(Pt.on(n,function(e){var t,i;Si&&27===e.keyCode?(t=!0,ci(Si,!0,!0)):(ln.fullScreen||o.keyboard&&!ln.index)&&(27===e.keyCode?(t=!0,ln.cancelFullScreen()):e.shiftKey&&32===e.keyCode&&a("space")||37===e.keyCode&&a("left")||38===e.keyCode&&a("up")?i="<":32===e.keyCode&&a("space")||39===e.keyCode&&a("right")||40===e.keyCode&&a("down")?i=">":36===e.keyCode&&a("home")?i="<<":35===e.keyCode&&a("end")&&(i=">>")),(t||i)&&V(e),i&&ln.show({index:i,slow:e.altKey,user:!0})}),ln.index||Pt.off(t).on(t,"textarea, input, select",function(e){!Et.hasClass(le)&&e.stopPropagation()}),St.on(r,ln.resize)):(Pt.off(n),St.off(r))}function c(t){t!==c.f&&(t?(e.html("").addClass(ae+" "+dn).append(mn).before(fn).before(gn),re(ln)):(mn.detach(),fn.detach(),gn.detach(),e.html(pn.urtext).removeClass(dn),se(ln)),l(t),c.f=t)}function p(){Ti=ln.data=Ti||R(o.data)||P(e),Ci=ln.size=Ti.length,!xi.ok&&o.shuffle&&H(Ti),r(),Nn=C(Nn),Ci&&c(!0)}function v(){var e=2>Ci&&!o.enableifsingleframe||Si;$n.noMove=e||Qi,$n.noSwipe=e||!o.swipe,!Yi&&vn.toggleClass(Ee,!o.click&&!$n.noMove&&!$n.noSwipe),Dt&&mn.toggleClass(_e,!$n.noSwipe)}function b(e){!0===e&&(e=""),o.autoplay=Math.max(+e||Ft,1.5*Ui)}function x(){function e(e,i){t[e?"add":"remove"].push(i)}ln.options=o=W(o),Qi="crossfade"===o.transition||"dissolve"===o.transition,$i=o.loop&&(Ci>2||Qi&&(!Yi||"slide"!==Yi)),Ui=+o.transitionduration||Ht,Vi="rtl"===o.direction,Xi=n.extend({},o.keyboard&&Kt,o.keyboard);var t={add:[],remove:[]};Ci>1||o.enableifsingleframe?(Li=o.nav,Ri="top"===o.navposition,t.remove.push(Ye),xn.toggle(!!o.arrows)):(Li=!1,xn.hide()),it(),Ei=new xt(n.extend(Tt,o.spinner,Ct,{direction:Vi?-1:1})),$t(),Rt(),o.autoplay&&b(o.autoplay),Gi=h(o.thumbwidth)||Wt,Bi=h(o.thumbheight)||Wt,Ln.ok=Rn.ok=o.trackpad&&!zt,v(),ni(o,[Dn]),(Hi="thumbs"===Li)?(_t(Ci,"navThumb"),Ii=Sn,an=Yt,N(fn,n.Fotorama.jst.style({w:Gi,h:Bi,b:o.thumbborderwidth,m:o.thumbmargin,s:un,q:!Ot})),Cn.addClass(De).removeClass(ze)):"dots"===Li?(_t(Ci,"navDot"),Ii=En,an=Ut,Cn.addClass(ze).removeClass(De)):(Li=!1,Cn.removeClass(De+" "+ze)),Li&&(Ri?Tn.insertBefore(_n):Tn.insertAfter(_n),jt.nav=!1,jt(Ii,In,"nav")),(Fi=o.allowfullscreen)?(jn.prependTo(_n),Wi=Mt&&"native"===Fi):(jn.detach(),Wi=!1),e(Qi,pe),e(!Qi,fe),e(!o.captions,ye),e(Vi,ve),e("always"!==o.arrows,we),e(!(qi=o.shadows&&!zt),me),mn.addClass(t.add.join(" ")).removeClass(t.remove.join(" ")),zn=n.extend({},o)}function T(e){return 0>e?(Ci+e%Ci)%Ci:e>=Ci?e%Ci:e}function C(e){return s(e,0,Ci-1)}function j(e){return $i?T(e):C(e)}function B(e){return!!(e>0||$i)&&e-1}function Z(e){return!!(Ci-1>e||$i)&&e+1}function ee(){$n.min=$i?-1/0:-m(Ci-1,Dn.w,o.margin,Ai),$n.max=$i?1/0:-m(0,Dn.w,o.margin,Ai),$n.snap=Dn.w+o.margin}function te(){Hn.min=Math.min(0,Dn.nw-In.width()),Hn.max=0,In.toggleClass(Ee,!(Hn.noMove=Hn.min===Hn.max))}function oe(e,t,i){if("number"==typeof e){e=new Array(e);var o=!0}return n.each(e,function(e,n){if(o&&(n=e),"number"==typeof n){var r=Ti[T(n)];if(r){var s="$"+t+"Frame",a=r[s];i.call(this,e,n,r,a,s,a&&a.data())}}})}function Re(e,t,i,n){(!Zi||"*"===Zi&&n===Di)&&(e=g(o.width)||g(e)||Qt,t=g(o.height)||g(t)||Gt,ln.resize({width:e,ratio:o.ratio||i||e/t},0,n!==Di&&"*"))}function Fe(e,t,i,r,s,a){oe(e,t,function(e,l,u,d,c,h){function p(e){var t=T(l);oi(e,{index:t,src:x,frame:Ti[t]})}function f(){b.remove(),n.Fotorama.cache[x]="error",u.html&&"stage"===t||!C||C===x?(!x||u.html||_?"stage"===t&&(d.trigger("f:load").removeClass(Ke+" "+Ze).addClass(Je),p("load"),Re()):(d.trigger("f:error").removeClass(Ke).addClass(Ze),p("error")),h.state="error",!(Ci>1&&Ti[l]===u)||u.html||u.deleted||u.video||_||(u.deleted=!0,ln.splice(l,1))):(u[w]=x=C,Fe([l],t,i,r,s,!0))}function g(){n.Fotorama.measures[x]=y.measures=n.Fotorama.measures[x]||{width:v.width,height:v.height,ratio:v.width/v.height},Re(y.measures.width,y.measures.height,y.measures.ratio,l),b.off("load error").addClass(nt+(_?" "+ot:"")).prependTo(d),M(b,(n.isFunction(i)?i():i)||Dn,r||u.fit||o.fit,s||u.position||o.position),n.Fotorama.cache[x]=h.state="loaded",setTimeout(function(){d.trigger("f:load").removeClass(Ke+" "+Ze).addClass(Je+" "+(_?et:tt)),"stage"===t?p("load"):(u.thumbratio===qt||!u.thumbratio&&o.thumbratio===qt)&&(u.thumbratio=y.measures.ratio,yi())},0)}function m(){var e=10;k(function(){return!rn||!e--&&!zt},function(){g()})}if(d){var _=ln.fullScreen&&u.full&&u.full!==u.img&&!h.$full&&"stage"===t;if(!h.$img||a||_){var v=new Image,b=n(v),y=b.data();h[_?"$full":"$img"]=b;var w="stage"===t?_?"full":"img":"thumb",x=u[w],C=_?null:u["stage"===t?"thumb":"img"];if("navThumb"===t&&(d=h.$wrap),!x)return void f();n.Fotorama.cache[x]?function e(){"error"===n.Fotorama.cache[x]?f():"loaded"===n.Fotorama.cache[x]?setTimeout(m,0):setTimeout(e,100)}():(n.Fotorama.cache[x]="*",b.on("load",m).on("error",f)),h.state="",v.src=x}}})}function We(e){Mn.append(Ei.spin().el).appendTo(e)}function it(){Mn.detach(),Ei&&Ei.stop()}function ut(){var e=Pi[Bt];e&&!e.data().state&&(We(e),e.on("f:load f:error",function(){e.off("f:load f:error"),it()}))}function mt(e){Y(e,_i),q(e,function(){setTimeout(function(){F(Cn)},0),Zt({time:Ui,guessIndex:n(this).data().eq,minMax:Hn})})}function _t(e,t){oe(e,t,function(e,i,o,r,s,a){if(!r){r=o[s]=mn[s].clone(),(a=r.data()).data=o;var l=r[0];"stage"===t?(o.html&&n('<div class="'+lt+'"></div>').append(o._html?n(o.html).removeAttr("id").html(o._html):o.html).appendTo(r),o.caption&&n(L(ht,L(pt,o.caption))).appendTo(r),o.video&&r.addClass(Ce).append(kn.clone()),q(l,function(){setTimeout(function(){F(_n)},0),fi({index:a.eq,user:!0})}),bn=bn.add(r)):"navDot"===t?(mt(l),En=En.add(r)):"navThumb"===t&&(mt(l),a.$wrap=r.children(":first"),Sn=Sn.add(r),o.video&&a.$wrap.append(kn.clone()))}})}function bt(e,t,i,n){return e&&e.length&&M(e,t,i,n)}function yt(e){oe(e,"stage",function(e,t,i,r,s,a){if(r){var l=T(t),u=i.fit||o.fit,c=i.position||o.position;a.eq=l,Wn[Bt][l]=r.css(n.extend({left:Qi?0:m(t,Dn.w,o.margin,Ai)},Qi&&d(0))),A(r[0])&&(r.appendTo(vn),ci(i.$video)),bt(a.$img,Dn,u,c),bt(a.$full,Dn,u,c)}})}function wt(e,t){if("thumbs"===Li&&!isNaN(e)){var i=-e,r=-e+Dn.nw;Sn.each(function(){var e=n(this).data(),s=e.eq,a=function(){return{h:Bi,w:e.w}},l=a(),u=Ti[s]||{},d=u.thumbfit||o.thumbfit,c=u.thumbposition||o.thumbposition;l.w=e.w,e.l+e.w<i||e.l>r||bt(e.$img,l,d,c)||t&&Fe([s],"navThumb",a,d,c)})}}function jt(e,t,i){if(!jt[i]){var r="nav"===i&&Hi,s=0;t.append(e.filter(function(){for(var e,t=n(this),i=t.data(),o=0,r=Ti.length;r>o;o++)if(i.data===Ti[o]){e=!0,i.eq=o;break}return e||t.remove()&&!1}).sort(function(e,t){return n(e).data().eq-n(t).data().eq}).each(function(){if(r){var e=n(this),t=e.data(),i=Math.round(Bi*t.data.thumbratio)||Gi;t.l=s,t.w=i,e.css({width:i}),s+=i+o.thumbmargin}})),jt[i]=!0}}function At(e){return e-Qn>Dn.w/3}function Nt(e){return!($i||Nn+e&&Nn-Ci+e||Si)}function $t(){var e=Nt(0),t=Nt(1);yn.toggleClass(je,e).attr(U(e)),wn.toggleClass(je,t).attr(U(t))}function Rt(){Ln.ok&&(Ln.prevent={"<":Nt(0),">":Nt(1)})}function Vt(e){var t,i,n=e.data();return Hi?(t=n.l,i=n.w):(t=e.position().left,i=e.width()),{c:t+i/2,min:-t+10*o.thumbmargin,max:-t+Dn.w-i-10*o.thumbmargin}}function Xt(e){var t=Pi[an].data();K(Pn,{time:1.2*e,pos:t.l,width:t.w-2*o.thumbborderwidth})}function Zt(e){var t=Ti[e.guessIndex][an];if(t){var i=Hn.min!==Hn.max,n=e.minMax||i&&Vt(Pi[an]),o=i&&(e.keep&&Zt.l?Zt.l:s((e.coo||Dn.nw/2)-Vt(t).c,n.min,n.max)),r=i&&s(o,Hn.min,Hn.max),a=1.1*e.time;K(In,{time:a,pos:r||0,onEnd:function(){wt(r,!0)}}),di(Cn,z(r,Hn.min,Hn.max)),Zt.l=o}}function Jt(){ei(an),Fn[an].push(Pi[an].addClass(Ue))}function ei(e){for(var t=Fn[e];t.length;)t.shift().removeClass(Ue)}function ti(e){var t=Wn[e];n.each(ji,function(e,i){delete t[T(i)]}),n.each(t,function(e,i){delete t[e],i.detach()})}function ii(e){Ai=ki=Nn;var t=Pi[Bt];t&&(ei(Bt),Fn[Bt].push(t.addClass(Ue)),e||ln.show.onEnd(!0),y(vn,0,!0),ti(Bt),yt(ji),ee(),te())}function ni(e,t){e&&n.each(t,function(t,i){i&&n.extend(i,{width:e.width||i.width,height:e.height,minwidth:e.minwidth,maxwidth:e.maxwidth,minheight:e.minheight,maxheight:e.maxheight,ratio:Q(e.ratio)})})}function oi(t,i){e.trigger(ae+":"+t,[ln,i])}function ri(){clearTimeout(si.t),rn=1,o.stopautoplayontouch?ln.stopAutoplay():tn=!0}function si(){rn&&(o.stopautoplayontouch||(ai(),li()),si.t=setTimeout(function(){rn=0},Ht+Lt))}function ai(){tn=!(!Si&&!nn)}function li(){if(clearTimeout(li.t),k.stop(li.w),o.autoplay&&!tn){ln.autoplay||(ln.autoplay=!0,oi("startautoplay"));var e=Nn,t=Pi[Bt].data();li.w=k(function(){return t.state||e!==Nn},function(){li.t=setTimeout(function(){if(!tn&&e===Nn){var t=zi,i=Ti[t][Bt].data();li.w=k(function(){return i.state||t!==zi},function(){tn||t!==zi||ln.show($i?X(!Vi):zi)})}},o.autoplay)})}else ln.autoplay&&(ln.autoplay=!1,oi("stopautoplay"))}function ui(){ln.fullScreen&&(ln.fullScreen=!1,Mt&&vt.cancel(cn),Et.removeClass(le),It.removeClass(le),e.removeClass(Ve).insertAfter(gn),Dn=n.extend({},on),ci(Si,!0,!0),mi("x",!1),ln.resize(),Fe(ji,"stage"),F(St,Ji,Ki),oi("fullscreenexit"))}function di(e,t){qi&&(e.removeClass(Ge+" "+Be),t&&!Si&&e.addClass(t.replace(/^|\s/g," "+Qe+"--")))}function ci(e,t,i){t&&(mn.removeClass(he),Si=!1,v()),e&&e!==Si&&(e.remove(),oi("unloadvideo")),i&&(ai(),li())}function hi(e){mn.toggleClass(ge,e)}function pi(e){if(!$n.flow){var t=e?e.pageX:pi.x,i=t&&!Nt(At(t))&&o.click;pi.p!==i&&_n.toggleClass(Se,i)&&(pi.p=i,pi.x=t)}}function fi(e){clearTimeout(fi.t),o.clicktransition&&o.clicktransition!==o.transition?setTimeout(function(){var t=o.transition;ln.setOptions({transition:o.clicktransition}),Yi=t,fi.t=setTimeout(function(){ln.show(e)},10)},0):ln.show(e)}function gi(e,t){var i=e.target;n(i).hasClass(dt)?ln.playVideo():i===An?ln.toggleFullScreen():Si?i===On&&ci(Si,!0,!0):t?hi():o.click&&fi({index:e.shiftKey||X(At(e._x)),slow:e.altKey,user:!0})}function mi(e,t){$n[e]=Hn[e]=t}function _i(e){fi({index:n(this).data().eq,slow:e.altKey,user:!0,coo:e._x-Cn.offset().left})}function vi(e){fi({index:xn.index(this)?">":"<",slow:e.altKey,user:!0})}function bi(e){q(e,function(){setTimeout(function(){F(_n)},0),hi(!1)})}function yi(){if(p(),x(),!yi.i){yi.i=!0;var e=o.startindex;(e||o.hash&&i.hash)&&(Di=D(e||i.hash.replace(/^#/,""),Ti,0===ln.index||e,e)),Nn=Ai=ki=Oi=Di=j(Di)||0}if(Ci){if(wi())return;Si&&ci(Si,!0),ji=[],ti(Bt),yi.ok=!0,ln.show({index:Nn,time:0}),ln.resize()}else ln.destroy()}function wi(){return!wi.f===Vi?(wi.f=Vi,Nn=Ci-1-Nn,ln.reverse(),!0):void 0}function xi(){xi.ok||(xi.ok=!0,oi("ready"))}It=n("html"),Et=n("body");var Ti,Ci,Ii,Ei,Si,Pi,ji,Ai,ki,Oi,Mi,Ni,zi,Di,$i,Li,Hi,Ri,Fi,Wi,Qi,Gi,Bi,Ui,Yi,qi,Vi,Xi,Zi,Ki,Ji,en,tn,nn,on,rn,sn,an,ln=this,un=n.now(),dn=ae+un,cn=e[0],hn=1,pn=e.data(),fn=n("<style></style>"),gn=n(L(qe)),mn=n(L(ue)),_n=n(L(xe)).appendTo(mn),vn=(_n[0],n(L(Ie)).appendTo(_n)),bn=n(),yn=n(L(Pe+" "+Ae+gt)),wn=n(L(Pe+" "+ke+gt)),xn=yn.add(wn).appendTo(_n),Tn=n(L(Me)),Cn=n(L(Oe)).appendTo(Tn),In=n(L(Ne)).appendTo(Cn),En=n(),Sn=n(),Pn=(vn.data(),In.data(),n(L(at)).appendTo(In)),jn=n(L(Xe+gt)),An=jn[0],kn=n(L(dt)),On=n(L(ct)).appendTo(_n)[0],Mn=n(L(ft)),Nn=!1,zn={},Dn={},$n={},Ln={},Hn={},Rn={},Fn={},Wn={},Qn=0,Gn=[];mn[Bt]=n(L(Te)),mn[Yt]=n(L($e+" "+He+gt,L(st))),mn[Ut]=n(L($e+" "+Le+gt,L(rt))),Fn[Bt]=[],Fn[Yt]=[],Fn[Ut]=[],Wn[Bt]={},mn.addClass(kt?ce:de).toggleClass(ge,!o.controlsonstart),pn.fotorama=this,ln.startAutoplay=function(e){return ln.autoplay?this:(tn=nn=!1,b(e||o.autoplay),li(),this)},ln.stopAutoplay=function(){return ln.autoplay&&(tn=nn=!0,li()),this},ln.show=function(e){var t;"object"!=typeof e?(t=e,e={}):t=e.index,t=">"===t?ki+1:"<"===t?ki-1:"<<"===t?0:">>"===t?Ci-1:t,t=void 0===(t=isNaN(t)?D(t,Ti,!0):t)?Nn||0:t,ln.activeIndex=Nn=j(t),Mi=B(Nn),Ni=Z(Nn),zi=T(Nn+(Vi?-1:1)),ji=[Nn,Mi,Ni],ki=$i?t:Nn;var i=Math.abs(Oi-ki),n=w(e.time,function(){return Math.min(Ui*(1+(i-1)/12),2*Ui)}),r=e.overPos;e.slow&&(n*=10);var a=Pi;ln.activeFrame=Pi=Ti[Nn];var l=a===Pi&&!e.user;ci(Si,Pi.i!==Ti[T(Ai)].i),_t(ji,"stage"),yt(zt?[ki]:[ki,B(ki),Z(ki)]),mi("go",!0),l||oi("show",{user:e.user,time:n}),tn=!0;var u=ln.show.onEnd=function(t){if(!u.ok){if(u.ok=!0,t||ii(!0),l||oi("showend",{user:e.user}),!t&&Yi&&Yi!==o.transition)return ln.setOptions({transition:Yi}),void(Yi=!1);ut(),Fe(ji,"stage"),mi("go",!1),Rt(),pi(),ai(),li()}};if(Qi?J(Pi[Bt],Nn!==Oi?Ti[Oi][Bt]:null,bn,{time:n,method:o.transition,onEnd:u},Gn):K(vn,{pos:-m(ki,Dn.w,o.margin,Ai),overPos:r,time:n,onEnd:u}),$t(),Li){Jt();var d=C(Nn+s(ki-Oi,-1,1));Zt({time:n,coo:d!==Nn&&e.coo,guessIndex:void 0!==e.coo?d:Nn,keep:l}),Hi&&Xt(n)}return en=void 0!==Oi&&Oi!==Nn,Oi=Nn,o.hash&&en&&!ln.eq&&O(Pi.id||Nn+1),this},ln.requestFullScreen=function(){return Fi&&!ln.fullScreen&&(Ki=St.scrollTop(),Ji=St.scrollLeft(),F(St),mi("x",!0),on=n.extend({},Dn),e.addClass(Ve).appendTo(Et.addClass(le)),It.addClass(le),ci(Si,!0,!0),ln.fullScreen=!0,Wi&&vt.request(cn),ln.resize(),Fe(ji,"stage"),ut(),oi("fullscreenenter")),this},ln.cancelFullScreen=function(){return Wi&&vt.is()?vt.cancel(t):ui(),this},ln.toggleFullScreen=function(){return ln[(ln.fullScreen?"cancel":"request")+"FullScreen"]()},G(t,vt.event,function(){!Ti||vt.is()||Si||ui()}),ln.resize=function(e){if(!Ti)return this;var t=arguments[1]||0,i=arguments[2];ni(ln.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:W(e),[Dn,i||ln.fullScreen||o]);var n=Dn.width,r=Dn.height,a=Dn.ratio,l=St.height()-(Li?Cn.height():0);return g(n)&&(mn.addClass(be).css({width:n,minWidth:Dn.minwidth||0,maxWidth:Dn.maxwidth||99999}),n=Dn.W=Dn.w=mn.width(),Dn.nw=Li&&f(o.navwidth,n)||n,o.glimpse&&(Dn.w-=Math.round(2*(f(o.glimpse,n)||0))),vn.css({width:Dn.w,marginLeft:(Dn.W-Dn.w)/2}),r=f(r,l),(r=r||a&&n/a)&&(n=Math.round(n),r=Dn.h=Math.round(s(r,f(Dn.minheight,l),f(Dn.maxheight,l))),_n.stop().animate({width:n,height:r},t,function(){mn.removeClass(be)}),ii(),Li&&(Cn.stop().animate({width:Dn.nw},t),Zt({guessIndex:Nn,time:t,keep:!0}),Hi&&jt.nav&&Xt(t)),Zi=i||!0,xi())),Qn=_n.offset().left,this},ln.setOptions=function(e){return n.extend(o,e),yi(),this},ln.shuffle=function(){return Ti&&H(Ti)&&yi(),this},ln.destroy=function(){return ln.cancelFullScreen(),ln.stopAutoplay(),Ti=ln.data=null,c(),ji=[],ti(Bt),yi.ok=!1,this},ln.playVideo=function(){var e=Pi,t=e.video,i=Nn;return"object"==typeof t&&e.videoReady&&(Wi&&ln.fullScreen&&ln.cancelFullScreen(),k(function(){return!vt.is()||i!==Nn},function(){i===Nn&&(e.$video=e.$video||n(n.Fotorama.jst.video(t)),e.$video.appendTo(e[Bt]),mn.addClass(he),Si=e.$video,v(),xn.blur(),jn.blur(),oi("loadvideo"))})),this},ln.stopVideo=function(){return ci(Si,!0,!0),this},_n.on("mousemove",pi),$n=ie(vn,{onStart:ri,onMove:function(e,t){di(_n,t.edge)},onTouchEnd:si,onEnd:function(e){di(_n);var t=(Dt&&!sn||e.touch)&&o.arrows&&"always"!==o.arrows;if(e.moved||t&&e.pos!==e.newPos&&!e.control){var i=_(e.newPos,Dn.w,o.margin,Ai);ln.show({index:i,time:Qi?Ui:e.time,overPos:e.overPos,user:!0})}else e.aborted||e.control||gi(e.startEvent,t)},timeLow:1,timeHigh:1,friction:2,select:"."+Ye+", ."+Ye+" *",$wrap:_n}),Hn=ie(In,{onStart:ri,onMove:function(e,t){di(Cn,t.edge)},onTouchEnd:si,onEnd:function(e){function t(){Zt.l=e.newPos,ai(),li(),wt(e.newPos,!0)}if(e.moved)e.pos!==e.newPos?(tn=!0,K(In,{time:e.time,pos:e.newPos,overPos:e.overPos,onEnd:t}),wt(e.newPos),qi&&di(Cn,z(e.newPos,Hn.min,Hn.max))):t();else{var i=e.$target.closest("."+$e,In)[0];i&&_i.call(i,e.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Cn}),Ln=ne(_n,{shift:!0,onEnd:function(e,t){ri(),si(),ln.show({index:t,slow:e.altKey})}}),Rn=ne(Cn,{onEnd:function(e,t){ri(),si();var i=y(In)+.25*t;In.css(u(s(i,Hn.min,Hn.max))),qi&&di(Cn,z(i,Hn.min,Hn.max)),Rn.prevent={"<":i>=Hn.max,">":i<=Hn.min},clearTimeout(Rn.t),Rn.t=setTimeout(function(){Zt.l=i,wt(i,!0)},Lt),wt(i)}}),mn.hover(function(){setTimeout(function(){rn||hi(!(sn=!0))},0)},function(){sn&&hi(!(sn=!1))}),$(xn,function(e){V(e),vi.call(this,e)},{onStart:function(){ri(),$n.control=!0},onTouchEnd:si}),xn.each(function(){Y(this,function(e){vi.call(this,e)}),bi(this)}),Y(An,ln.toggleFullScreen),bi(An),n.each("load push pop shift unshift reverse sort splice".split(" "),function(e,t){ln[t]=function(){return Ti=Ti||[],"load"!==t?Array.prototype[t].apply(Ti,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Ti=R(arguments[0])),yi(),ln}}),yi()},n.fn.fotorama=function(t){return this.each(function(){var i=this,o=n(this),r=o.data(),s=r.fotorama;s?s.setOptions(t,!0):k(function(){return!j(i)},function(){r.urtext=o.html(),new n.Fotorama(o,n.extend({},Zt,e.fotoramaDefaults,t,r))})})},n.Fotorama.instances=[],n.Fotorama.cache={},n.Fotorama.measures={},(n=n||{}).Fotorama=n.Fotorama||{},n.Fotorama.jst=n.Fotorama.jst||{},n.Fotorama.jst.style=function(e){var t,i="";return i+=".fotorama"+(null==(t=e.s)?"":t)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(t=e.m)?"":t)+"px;\nheight:"+(null==(t=e.h)?"":t)+"px}\n.fotorama"+(null==(t=e.s)?"":t)+" .fotorama__thumb-border{\nheight:"+(null==(t=e.h-e.b*(e.q?0:2))?"":t)+"px;\nborder-width:"+(null==(t=e.b)?"":t)+"px;\nmargin-top:"+(null==(t=e.m)?"":t)+"px}"},n.Fotorama.jst.video=function(e){var t="",i=Array.prototype.join;return t+='<div class="fotorama__video"><iframe src="',function(){t+=i.call(arguments,"")}(("youtube"==e.type?e.p+"youtube.com/embed/"+e.id+"?autoplay=1":"vimeo"==e.type?e.p+"player.vimeo.com/video/"+e.id+"?autoplay=1&badge=0":e.id)+(e.s&&"custom"!=e.type?"&"+e.s:"")),t+='" frameborder="0" allowfullscreen></iframe></div>\n'},n(function(){n("."+ae+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=o(String(e||"").toLowerCase()))||!e.length)return[];var t,i,n,s,l=[],u=e.split(/ +/);for(t=0,i=u.length;t<i;t++){if(n=r(u[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(n=n.replace(new RegExp(s,"g"),a[s]));l.push({string:u[t],regex:new RegExp(n,"i")})}return l},e.prototype.iterator=function(e,t){(s(e)?Array.prototype.forEach||function(e){for(var t=0,i=this.length;t<i;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var i,o,r,s;e=this.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length,s=e.options.nesting;var a=function(e,t){var i,n;return e?(e=String(e||""),-1===(n=e.search(t.regex))?0:(i=t.string.length/e.length,0===n&&(i+=.5),i)):0},l=function(){var e=i.length;return e?1===e?function(e,t){return a(n(t,i[0],s),e)}:function(t,o){for(var r=0,l=0;r<e;r++)l+=a(n(o,i[r],s),t);return l/e}:function(){return 0}}();return r?1===r?function(e){return l(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,i=0,n=0;i<r;i++){if((t=l(o[i],e))<=0)return 0;n+=t}return n/r}:function(e){for(var t=0,i=0;t<r;t++)i+=l(o[t],e);return i/r}:function(){return 0}},e.prototype.getSortFunction=function(e,i){var o,r,s,a,l,u,d,c,h,p,f;if(s=this,e=s.prepareSearch(e,i),f=!e.query&&i.sort_empty||i.sort,h=function(e,t){return"$score"===e?t.score:n(s.items[t.id],e,i.nesting)},l=[],f)for(o=0,r=f.length;o<r;o++)(e.query||"$score"!==f[o].field)&&l.push(f[o]);if(e.query){for(p=!0,o=0,r=l.length;o<r;o++)if("$score"===l[o].field){p=!1;break}p&&l.unshift({field:"$score",direction:"desc"})}else for(o=0,r=l.length;o<r;o++)if("$score"===l[o].field){l.splice(o,1);break}for(c=[],o=0,r=l.length;o<r;o++)c.push("desc"===l[o].direction?-1:1);return(u=l.length)?1===u?(a=l[0].field,d=c[0],function(e,i){return d*t(h(a,e),h(a,i))}):function(e,i){var n,o,r;for(n=0;n<u;n++)if(r=l[n].field,o=c[n]*t(h(r,e),h(r,i)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=i({},t)).fields,o=t.sort,r=t.sort_empty;return n&&!s(n)&&(t.fields=[n]),o&&!s(o)&&(t.sort=[o]),r&&!s(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var i,n,o,r,s=this;return n=this.prepareSearch(e,t),t=n.options,e=n.query,r=t.score||s.getScoreFunction(n),e.length?s.iterator(s.items,function(e,o){i=r(e),(!1===t.filter||i>0)&&n.items.push({score:i,id:o})}):s.iterator(s.items,function(e,t){n.items.push({score:1,id:t})}),(o=s.getSortFunction(n,t))&&n.items.sort(o),n.total=n.items.length,"number"==typeof t.limit&&(n.items=n.items.slice(0,t.limit)),n};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},i=function(e,t){var i,n,o,r;for(i=1,n=arguments.length;i<n;i++)if(r=arguments[i])for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e},n=function(e,t,i){if(e&&t){if(!i)return e[t];for(var n=t.split(".");n.length&&(e=e[n.shift()]););return e}},o=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},r=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var e,t,i,n,o="",r={};for(i in a)if(a.hasOwnProperty(i))for(n=a[i].substring(2,a[i].length-1),o+=n,e=0,t=n.length;e<t;e++)r[n.charAt(e)]=i;var s=new RegExp("["+o+"]","g");return function(e){return e.replace(s,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var i,n,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(i=0,n=e.length;i<n;i++)"string"==typeof e[i]?s.push(e[i]):(r.plugins.settings[e[i].name]=e[i].options,s.push(e[i].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],s.push(o));for(;s.length;)r.require(s.shift())},e.prototype.loadPlugin=function(t){var i=this,n=i.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=o.fn.apply(i,[i.plugins.settings[t]||{}]),n.names.push(t)},e.prototype.require=function(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]},e.define=function(t,i){e.plugins[t]={name:t,fn:i}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,i){"use strict";var n=function(e,t){if("string"!=typeof t||t.length){var i="string"==typeof t?new RegExp(t,"i"):t,n=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(i);if(o>=0&&e.data.length>0){var r=e.data.match(i),s=document.createElement("span");s.className="highlight";var a=e.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=n(e.childNodes[u]);return t};return e.each(function(){n(this)})}};e.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()};var o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],i=0;i<t.length;i++)e.prototype[t[i]]=o.prototype[t[i]]};var r=/Mac/.test(navigator.userAgent),s=r?91:17,a=r?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,u=function(e){return void 0!==e},d=function(e){return void 0===e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},c=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},h={};h.before=function(e,t,i){var n=e[t];e[t]=function(){return i.apply(e,arguments),n.apply(e,arguments)}},h.after=function(e,t,i){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return i.apply(e,arguments),t}};var p=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},f=function(e,t){var i;return function(){var n=this,o=arguments;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(n,o)},t)}},g=function(e,t,i){var n,o=e.trigger,r={};e.trigger=function(){var i=arguments[0];return-1===t.indexOf(i)?o.apply(e,arguments):void(r[i]=arguments)},i.apply(e,[]),e.trigger=o;for(n in r)r.hasOwnProperty(n)&&o.apply(e,r[n])},m=function(e,t,i,n){e.on(t,i,function(t){for(var i=t.target;i&&i.parentNode!==e[0];)i=i.parentNode;return t.currentTarget=i,n.apply(this,[t])})},_=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-e.value.length),t.start=i.text.length-n,t.length=n}return t},v=function(e,t,i){var n,o,r={};if(i)for(n=0,o=i.length;n<o;n++)r[i[n]]=e.css(i[n]);else r=e.css();t.css(r)},b=function(t,i){if(!t)return 0;var n=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");v(i,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=n.width();return n.remove(),o},y=function(e){var t=null,i=function(i,n){var o,r,s,a,l,u,d,c;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||!1!==e.data("grow"))&&(o=e.val(),i.type&&"keydown"===i.type.toLowerCase()&&(r=i.keyCode,s=r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||32===r,46===r||8===r?(c=_(e[0])).length?o=o.substring(0,c.start)+o.substring(c.start+c.length):8===r&&c.start?o=o.substring(0,c.start-1)+o.substring(c.start+1):46===r&&void 0!==c.start&&(o=o.substring(0,c.start)+o.substring(c.start+1)):s&&(u=i.shiftKey,d=String.fromCharCode(i.keyCode),d=u?d.toUpperCase():d.toLowerCase(),o+=d)),a=e.attr("placeholder"),!o&&a&&(o=a),(l=b(o,e)+4)!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",i),i()},w=function(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML},x=function(i,n){var o,r,s,a,l=this;(a=i[0]).selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||i.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++x.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:f(l.onSearchChange,n.loadThrottle)}),l.sifter=new t(this.options,{diacritics:n.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;o<r;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;o<r;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(x),void 0!==i?i.mixin(x):function(e,t){t||(t={});console.error("Selectize: "+e),t.explanation&&(console.group&&console.group(),console.error(t.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),e.extend(x.prototype,{setup:function(){var t,i,n,o,u,d,c,h,p,f,g=this,_=g.settings,v=g.eventNS,b=e(window),w=e(document),x=g.$input;if(c=g.settings.mode,h=x.attr("class")||"",t=e("<div>").addClass(_.wrapperClass).addClass(h).addClass(c),i=e("<div>").addClass(_.inputClass).addClass("items").appendTo(t),n=e('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",x.is(":disabled")?"-1":g.tabIndex),d=e(_.dropdownParent||t),o=e("<div>").addClass(_.dropdownClass).addClass(c).hide().appendTo(d),u=e("<div>").addClass(_.dropdownContentClass).appendTo(o),(f=x.attr("id"))&&(n.attr("id",f+"-selectized"),e("label[for='"+f+"']").attr("for",f+"-selectized")),g.settings.copyClassesToDropdown&&o.addClass(h),t.css({width:x[0].style.width}),g.plugins.names.length&&(p="plugin-"+g.plugins.names.join(" plugin-"),t.addClass(p),o.addClass(p)),(null===_.maxItems||_.maxItems>1)&&1===g.tagType&&x.attr("multiple","multiple"),g.settings.placeholder&&n.attr("placeholder",_.placeholder),!g.settings.splitOn&&g.settings.delimiter){var T=g.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");g.settings.splitOn=new RegExp("\\s*"+T+"+\\s*")}x.attr("autocorrect")&&n.attr("autocorrect",x.attr("autocorrect")),x.attr("autocapitalize")&&n.attr("autocapitalize",x.attr("autocapitalize")),g.$wrapper=t,g.$control=i,g.$control_input=n,g.$dropdown=o,g.$dropdown_content=u,o.on("mouseenter","[data-selectable]",function(){return g.onOptionHover.apply(g,arguments)}),o.on("mousedown click","[data-selectable]",function(){return g.onOptionSelect.apply(g,arguments)}),m(i,"mousedown","*:not(input)",function(){return g.onItemSelect.apply(g,arguments)}),y(n),i.on({mousedown:function(){return g.onMouseDown.apply(g,arguments)},click:function(){return g.onClick.apply(g,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return g.onKeyDown.apply(g,arguments)},keyup:function(){return g.onKeyUp.apply(g,arguments)},keypress:function(){return g.onKeyPress.apply(g,arguments)},resize:function(){g.positionDropdown.apply(g,[])},blur:function(){return g.onBlur.apply(g,arguments)},focus:function(){return g.ignoreBlur=!1,g.onFocus.apply(g,arguments)},paste:function(){return g.onPaste.apply(g,arguments)}}),w.on("keydown"+v,function(e){g.isCmdDown=e[r?"metaKey":"ctrlKey"],g.isCtrlDown=e[r?"altKey":"ctrlKey"],g.isShiftDown=e.shiftKey}),w.on("keyup"+v,function(e){e.keyCode===a&&(g.isCtrlDown=!1),16===e.keyCode&&(g.isShiftDown=!1),e.keyCode===s&&(g.isCmdDown=!1)}),w.on("mousedown"+v,function(e){if(g.isFocused){if(e.target===g.$dropdown[0]||e.target.parentNode===g.$dropdown[0])return!1;g.$control.has(e.target).length||e.target===g.$control[0]||g.blur(e.target)}}),b.on(["scroll"+v,"resize"+v].join(" "),function(){g.isOpen&&g.positionDropdown.apply(g,arguments)}),b.on("mousemove"+v,function(){g.ignoreHover=!1}),this.revertSettings={$children:x.children().detach(),tabindex:x.attr("tabindex")},x.attr("tabindex",-1).hide().after(g.$wrapper),e.isArray(_.items)&&(g.setValue(_.items),delete _.items),l&&x.on("invalid"+v,function(e){e.preventDefault(),g.isInvalid=!0,g.refreshState()}),g.updateOriginalInput(),g.refreshItems(),g.refreshState(),g.updatePlaceholder(),g.isSetup=!0,x.is(":disabled")&&g.disable(),g.on("change",this.onChange),x.data("selectize",g),x.addClass("selectized"),g.trigger("initialize"),!0===_.preload&&g.onSearchChange("")},setupTemplates:function(){var t=this,i=t.settings.labelField,n=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[i])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[i])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)i.hasOwnProperty(e)&&(t=this.settings[i[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){var i=this,n=t.isDefaultPrevented();if(e(t.target),i.isFocused){if(t.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var i=this;return i.isFull()||i.isInputHidden||i.isLocked?void t.preventDefault():void(i.settings.splitOn&&setTimeout(function(){var t=i.$control_input.val();if(t.match(i.settings.splitOn))for(var n=e.trim(t).split(i.settings.splitOn),o=0,r=n.length;o<r;o++)i.createItem(n[o])},0))},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target,this.$control_input[0],this);{if(!t.isLocked){switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,-1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()}9!==e.keyCode&&e.preventDefault()}},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var i=t.$control_input.val()||"";t.lastValue!==i&&(t.lastValue=i,t.onSearchChange(i),t.refreshOptions(),t.trigger("type",i))},onSearchChange:function(e){var t=this,i=t.settings.load;i&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(n){i.apply(t,[e,n])})))},onFocus:function(e){var t=this,i=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),i||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(e);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),t&&t.focus&&t.focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var i,n,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=e(t.currentTarget)).hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(i=n.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(i),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(i)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,i=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||i.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){g(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,i){var n,o,r,s,a,l,u,d,c=this;if("single"!==c.settings.mode){if(!(t=e(t)).length)return e(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if("mousedown"===(n=i&&i.type.toLowerCase())&&c.isShiftDown&&c.$activeItems.length){for(d=c.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(c.$control[0].childNodes,[d[0]]))>(a=Array.prototype.indexOf.apply(c.$control[0].childNodes,[t[0]]))&&(u=s,s=a,a=u),o=s;o<=a;o++)l=c.$control[0].childNodes[o],-1===c.$activeItems.indexOf(l)&&(e(l).addClass("active"),c.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&c.isCtrlDown||"keydown"===n&&this.isShiftDown?t.hasClass("active")?(r=c.$activeItems.indexOf(t[0]),c.$activeItems.splice(r,1),t.removeClass("active")):c.$activeItems.push(t.addClass("active")[0]):(e(c.$activeItems).removeClass("active"),c.$activeItems=[t.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(t,i,n){var o,r,s,a,l,d=this;d.$activeOption&&d.$activeOption.removeClass("active"),d.$activeOption=null,(t=e(t)).length&&(d.$activeOption=t.addClass("active"),!i&&u(i)||(o=d.$dropdown_content.height(),r=d.$activeOption.outerHeight(!0),i=d.$dropdown_content.scrollTop()||0,s=d.$activeOption.offset().top-d.$dropdown_content.offset().top+i,a=s,l=s-o+r,s+r>o+i?d.$dropdown_content.stop().animate({scrollTop:l},n?d.settings.scrollDuration:0):s<i&&d.$dropdown_content.stop().animate({scrollTop:a},n?d.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var i,n,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&"function"!=typeof(o=r.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,n=r.sifter.search(t,e.extend(a,{score:o})),r.currentResults=n):n=e.extend(!0,{},r.currentResults),s.hideSelected)for(i=n.items.length-1;i>=0;i--)-1!==r.items.indexOf(d(n.items[i].id))&&n.items.splice(i,1);return n},refreshOptions:function(t){var i,o,r,s,a,l,u,c,h,p,f,g,m,_,v,b;void 0===t&&(t=!0);var y=this,x=e.trim(y.$control_input.val()),T=y.search(x),C=y.$dropdown_content,I=y.$activeOption&&d(y.$activeOption.attr("data-value"));for(s=T.items.length,"number"==typeof y.settings.maxOptions&&(s=Math.min(s,y.settings.maxOptions)),a={},l=[],i=0;i<s;i++)for(u=y.options[T.items[i].id],c=y.render("option",u),h=u[y.settings.optgroupField]||"",p=e.isArray(h)?h:[h],o=0,r=p&&p.length;o<r;o++)h=p[o],y.optgroups.hasOwnProperty(h)||(h=""),a.hasOwnProperty(h)||(a[h]=document.createDocumentFragment(),l.push(h)),a[h].appendChild(c);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){return(y.optgroups[e].$order||0)-(y.optgroups[t].$order||0)}),f=document.createDocumentFragment(),i=0,s=l.length;i<s;i++)h=l[i],y.optgroups.hasOwnProperty(h)&&a[h].childNodes.length?((g=document.createDocumentFragment()).appendChild(y.render("optgroup_header",y.optgroups[h])),g.appendChild(a[h]),f.appendChild(y.render("optgroup",e.extend({},y.optgroups[h],{html:w(g),dom:g})))):f.appendChild(a[h]);if(C.html(f),y.settings.highlight&&T.query.length&&T.tokens.length)for(C.removeHighlight(),i=0,s=T.tokens.length;i<s;i++)n(C,T.tokens[i].regex);if(!y.settings.hideSelected)for(i=0,s=y.items.length;i<s;i++)y.getOption(y.items[i]).addClass("selected");(m=y.canCreate(x))&&(C.prepend(y.render("option_create",{input:x})),b=e(C[0].childNodes[0])),y.hasOptions=T.items.length>0||m,y.hasOptions?(T.items.length>0?((v=I&&y.getOption(I))&&v.length?_=v:"single"===y.settings.mode&&y.items.length&&(_=y.getOption(y.items[0])),_&&_.length||(_=b&&!y.settings.addPrecedence?y.getAdjacentOption(b,1):C.find("[data-selectable]:first"))):_=b,y.setActiveOption(_),t&&!y.isOpen&&y.open()):(y.setActiveOption(null),t&&y.isOpen&&y.close())},addOption:function(t){var i,n,o,r=this;if(e.isArray(t))for(i=0,n=t.length;i<n;i++)r.addOption(t[i]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return void 0!==t&&null!==t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,i){var n,o,r,s,a,l,u,c=this;if(t=d(t),r=d(i[c.settings.valueField]),null!==t&&c.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");u=c.options[t].$order,r!==t&&(delete c.options[t],-1!==(s=c.items.indexOf(t))&&c.items.splice(s,1,r)),i.$order=i.$order||u,c.options[r]=i,a=c.renderCache.item,l=c.renderCache.option,a&&(delete a[t],delete a[r]),l&&(delete l[t],delete l[r]),-1!==c.items.indexOf(r)&&(n=c.getItem(t),o=e(c.render("item",i)),n.hasClass("active")&&o.addClass("active"),n.replaceWith(o)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(e,t){var i=this;e=d(e);var n=i.renderCache.item,o=i.renderCache.option;n&&delete n[e],o&&delete o[e],delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,i){var n=this.$dropdown.find("[data-selectable]"),o=n.index(t)+i;return o>=0&&o<n.length?n.eq(o):e()},getElementWithValue:function(t,i){if(void 0!==(t=d(t))&&null!==t)for(var n=0,o=i.length;n<o;n++)if(i[n].getAttribute("data-value")===t)return e(i[n]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,i){for(var n=e.isArray(t)?t:[t],o=0,r=n.length;o<r;o++)this.isPending=o<r-1,this.addItem(n[o],i)},addItem:function(t,i){g(this,i?[]:["change"],function(){var n,o,r,s,a,l=this,u=l.settings.mode;return t=d(t),-1!==l.items.indexOf(t)?void("single"===u&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===u&&l.clear(i),"multi"===u&&l.isFull()||(n=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(n),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,n),l.updateOriginalInput({silent:i})))))})},removeItem:function(t,i){var n,o,r,s=this;n=t instanceof e?t:s.getItem(t),t=d(n.attr("data-value")),-1!==(o=s.items.indexOf(t))&&(n.remove(),n.hasClass("active")&&(r=s.$activeItems.indexOf(n[0]),s.$activeItems.splice(r,1)),s.items.splice(o,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(t)&&s.removeOption(t,i),o<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:i}),s.positionDropdown(),s.trigger("item_remove",t,n))},createItem:function(t,i){var n=this,o=n.caretPos;t=t||e.trim(n.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return r(),!1;n.lock();var s="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},a=p(function(e){if(n.unlock(),!e||"object"!=typeof e)return r();var t=d(e[n.settings.valueField]);return"string"!=typeof t?r():(n.setTextboxValue(""),n.addOption(e),n.setCaret(o),n.addItem(t),n.refreshOptions(i&&"single"!==n.settings.mode),void r(e))}),l=s.apply(this,[t,a]);return void 0!==l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this,i=t.isFull(),n=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",n).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!i&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,i,n,o,r=this;if(e=e||{},1===r.tagType){for(n=[],t=0,i=r.items.length;t<i;t++)o=r.options[r.items[t]][r.settings.labelField]||"",n.push('<option value="'+c(r.items[t])+'" selected="selected">'+c(o)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),r.$input.html(n.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var i=Math.min(this.caretPos,this.items.length);0===i?this.$control.prepend(t):e(this.$control[0].childNodes[i]).before(t),this.setCaret(i+1)},deleteSelection:function(t){var i,n,o,r,s,a,l,u,d,c=this;if(o=t&&8===t.keyCode?-1:1,r=_(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(l=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),s=[],c.$activeItems.length){for(d=c.$control.children(".active:"+(o>0?"last":"first")),a=c.$control.children(":not(input)").index(d),o>0&&a++,i=0,n=c.$activeItems.length;i<n;i++)s.push(e(c.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(o<0&&0===r.start&&0===r.length?s.push(c.items[c.caretPos-1]):o>0&&r.start===c.$control_input.val().length&&s.push(c.items[c.caretPos]));if(!s.length||"function"==typeof c.settings.onDelete&&!1===c.settings.onDelete.apply(c,[s]))return!1;for(void 0!==a&&c.setCaret(a);s.length;)c.removeItem(s.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),l&&(u=c.getOption(l)).length&&c.setActiveOption(u),!0},advanceSelection:function(e,t){var i,n,o,r,s,a=this;0!==e&&(a.rtl&&(e*=-1),i=e>0?"last":"first",n=_(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(r=a.$control_input.val().length,(e<0?0===n.start&&0===n.length:n.start===r)&&!r&&a.advanceCaret(e,t)):(s=a.$control.children(".active:"+i)).length&&(o=a.$control.children(":not(input)").index(s),a.setActiveItem(null),a.setCaret(e>0?o+1:o)))},advanceCaret:function(e,t){var i,n,o=this;0!==e&&(i=e>0?"next":"prev",o.isShiftDown?(n=o.$control_input[i]()).length&&(o.hideInput(),o.setActiveItem(n),t&&t.preventDefault()):o.setCaret(o.caretPos+e))},setCaret:function(t){var i=this;if(t="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,t)),!i.isPending){var n,o,r,s;for(n=0,o=(r=i.$control.children(":not(input)")).length;n<o;n++)s=e(r[n]).detach(),n<t?i.$control_input.before(s):i.$control.append(s)}i.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,i=t.eventNS,n=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(i),e(document).off(i),e(document.body).off(i),delete t.$input[0].selectize},render:function(t,i){var n,o,r="",s=!1,a=this;return"option"!==t&&"item"!==t||(n=d(i[a.settings.valueField]),s=!!n),s&&(u(a.renderCache[t])||(a.renderCache[t]={}),a.renderCache[t].hasOwnProperty(n))?a.renderCache[t][n]:(r=e(a.settings.render[t].apply(this,[i,c])),"option"===t||"option_create"===t?r.attr("data-selectable",""):"optgroup"===t&&(o=i[a.settings.optgroupValueField]||"",r.attr("data-group",o)),"option"!==t&&"item"!==t||r.attr("data-value",n||""),s&&(a.renderCache[t][n]=r[0]),r[0])},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var i=t.settings.createFilter;return e.length&&("function"!=typeof i||i.apply(t,[e]))&&("string"!=typeof i||new RegExp(i).test(e))&&(!(i instanceof RegExp)||i.test(e))}}),x.count=0,x.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var i=e.fn.selectize.defaults,n=e.extend({},i,t),o=n.dataAttr,r=n.labelField,s=n.valueField,a=n.optgroupField,l=n.optgroupLabelField,u=n.optgroupValueField,c=function(t,i){var a,l,u,d,c=t.attr(o);if(c)for(i.options=JSON.parse(c),a=0,l=i.options.length;a<l;a++)i.items.push(i.options[a][s]);else{var h=e.trim(t.val()||"");if(!n.allowEmptyOption&&!h.length)return;for(a=0,l=(u=h.split(n.delimiter)).length;a<l;a++)d={},d[r]=u[a],d[s]=u[a],i.options.push(d);i.items=u}},h=function(t,i){var c,h,p,f,g=i.options,m={},_=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},v=function(t,o){t=e(t);var l=d(t.val());if(l||n.allowEmptyOption)if(m.hasOwnProperty(l)){if(o){var u=m[l][a];u?e.isArray(u)?u.push(o):m[l][a]=[u,o]:m[l][a]=o}}else{var c=_(t)||{};c[r]=c[r]||t.text(),c[s]=c[s]||l,c[a]=c[a]||o,m[l]=c,g.push(c),t.is(":selected")&&i.items.push(l)}};for(i.maxItems=t.attr("multiple")?null:1,c=0,h=(f=t.children()).length;c<h;c++)"optgroup"===(p=f[c].tagName.toLowerCase())?function(t){var n,o,r,s,a;for((r=(t=e(t)).attr("label"))&&(s=_(t)||{},s[l]=r,s[u]=r,i.optgroups.push(s)),n=0,o=(a=e("option",t)).length;n<o;n++)v(a[n],r)}(f[c]):"option"===p&&v(f[c])};return this.each(function(){if(!this.selectize){var o=e(this),r=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||n.allowEmptyOption||(s=o.children('option[value=""]').text());var a={placeholder:s,options:[],optgroups:[],items:[]};"select"===r?h(o,a):c(o,a),new x(o,e.extend(!0,{},i,a,t))}})},e.fn.selectize.defaults=x.defaults,e.fn.selectize.support={validity:l},x.define("drag_drop",function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var e=i.lock;return function(){var t=i.$control.data("sortable");return t&&t.disable(),e.apply(i,arguments)}}(),i.unlock=function(){var e=i.unlock;return function(){var t=i.$control.data("sortable");return t&&t.enable(),e.apply(i,arguments)}}(),i.setup=function(){var t=i.setup;return function(){t.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var t=i.$activeItems?i.$activeItems.slice():null,o=[];n.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),i.setValue(o),i.setActiveItem(t)}})}}()}}),x.define("dropdown_header",function(t){var i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),i.setup=function(){var n=i.setup;return function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)}}()}),x.define("optgroup_columns",function(t){var i=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,i){var n=t.closest("[data-group]").find("[data-selectable]"),o=n.index(t)+i;return o>=0&&o<n.length?n.eq(o):e()},this.onKeyDown=function(){var e=i.onKeyDown;return function(t){var n,o,r,s;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?e.apply(this,arguments):(i.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),n=s.find("[data-selectable]").index(this.$activeOption),s=37===t.keyCode?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),void((o=r.eq(Math.min(r.length-1,n))).length&&this.setActiveOption(o)))}}();var n=function(){var e,t=n.width,i=document;return void 0===t&&(e=i.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,i.body.appendChild(e),t=n.width=e.offsetWidth-e.clientWidth,i.body.removeChild(e)),t},o=function(){var o,r,s,a,l,u,d;if(d=e("[data-group]",i.$dropdown_content),(r=d.length)&&i.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,o=0;o<r;o++)s=Math.max(s,d.eq(o).height());d.css({height:s})}t.equalizeWidth&&(u=i.$dropdown_content.innerWidth()-n(),a=Math.round(u/r),d.css({width:a}),r>1&&(l=u-a*(r-1),d.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(h.after(this,"positionDropdown",o),h.after(this,"refreshOptions",o))}),x.define("remove_button",function(t){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);return"single"===this.settings.mode?void function(t,i){i.className="remove-single";var n=t,o='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+c(i.title)+'">'+i.label+"</a>",r=function(e,t){return e+t};t.setup=function(){var s=n.setup;return function(){if(i.append){var a=e(n.$input.context).attr("id"),l=(e("#"+a),n.settings.render.item);n.settings.render.item=function(e){return r(l.apply(t,arguments),o)}}s.apply(t,arguments),t.$control.on("click","."+i.className,function(e){e.preventDefault(),n.isLocked||n.clear()})}}()}(this,t):void function(t,i){var n=t,o='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+c(i.title)+'">'+i.label+"</a>",r=function(e,t){var i=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,i)+t+e.substring(i)};t.setup=function(){var s=n.setup;return function(){if(i.append){var a=n.settings.render.item;n.settings.render.item=function(e){return r(a.apply(t,arguments),o)}}s.apply(t,arguments),t.$control.on("click","."+i.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}(this,t)}),x.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var i=t.onKeyDown;return function(t){var n,o;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1)>=0&&n<this.items.length?(o=this.options[this.items[n]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):i.apply(this,arguments)}}()}),x});var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=l.call(arguments,1),u=0,d=0,c=0,h=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(c=-1*s.detail),"wheelDelta"in s&&(c=s.wheelDelta),"wheelDeltaY"in s&&(c=s.wheelDeltaY),"wheelDeltaX"in s&&(d=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(d=-1*c,c=0),u=0===c?d:c,"deltaY"in s&&(c=-1*s.deltaY,u=c),"deltaX"in s&&(d=s.deltaX,0===c&&(u=-1*d)),0!==c||0!==d){if(1===s.deltaMode){var p=e.data(this,"mousewheel-line-height");u*=p,c*=p,d*=p}else if(2===s.deltaMode){var f=e.data(this,"mousewheel-page-height");u*=f,c*=f,d*=f}return h=Math.max(Math.abs(c),Math.abs(d)),(!r||r>h)&&(r=h,n(s,h)&&(r/=40)),n(s,h)&&(u/=40,d/=40,c/=40),u=Math[u>=1?"floor":"ceil"](u/r),d=Math[d>=1?"floor":"ceil"](d/r),c=Math[c>=1?"floor":"ceil"](c/r),t.deltaX=d,t.deltaY=c,t.deltaFactor=r,t.deltaMode=0,a.unshift(t,u,d,c),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){r=null}function n(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var o,r,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(e){function t(e){var t=7.5625,i=2.75;return 1/i>e?t*e*e:2/i>e?t*(e-=1.5/i)*e+.75:2.5/i>e?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375}e.easing.jswing=e.easing.swing;var i=Math.pow,n=Math.sqrt,o=Math.sin,r=Math.cos,s=Math.PI,a=1.70158,l=1.525*a,u=a+1,d=2*s/3,c=2*s/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return.5>e?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return.5>e?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-r(e*s/2)},easeOutSine:function(e){return o(e*s/2)},easeInOutSine:function(e){return-(r(s*e)-1)/2},easeInExpo:function(e){return 0===e?0:i(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-i(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:.5>e?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-n(1-i(e,2))},easeOutCirc:function(e){return n(1-i(e-1,2))},easeInOutCirc:function(e){return.5>e?(1-n(1-i(2*e,2)))/2:(n(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-i(2,10*e-10)*o((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:i(2,-10*e)*o((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:.5>e?-i(2,20*e-10)*o((20*e-11.125)*c)/2:i(2,-20*e+10)*o((20*e-11.125)*c)/2+1},easeInBack:function(e){return u*e*e*e-a*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+a*i(e-1,2)},easeInOutBack:function(e){return.5>e?i(2*e,2)*(2*(l+1)*e-l)/2:(i(2*e-2,2)*((l+1)*(2*e-2)+l)+2)/2},easeInBounce:function(e){return 1-t(1-e)},easeOutBounce:t,easeInOutBounce:function(e){return.5>e?(1-t(1-2*e))/2:(1+t(2*e-1))/2}})}),function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=l(),n=i._rgba=[];return t=t.toLowerCase(),p(a,function(e,o){var r,s=o.re.exec(t),a=s&&o.parse(s),l=o.space||"rgba";return a?(r=i[l](a),i[u[l].cache]=r[u[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),i):r[t]}function o(e,t,i){return 1>6*(i=(i+1)%1)?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}if(void 0===e.cssHooks)return!1;var r,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},h=e("<p>")[0],p=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=h.style.backgroundColor.indexOf("rgba")>-1,p(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(o,s,a,d){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(s),s=t);var c=this,h=e.type(o),f=this._rgba=[];return s!==t&&(o=[o,s,a,d],h="array"),"string"===h?this.parse(n(o)||r._default):"array"===h?(p(u.rgba.props,function(e,t){f[t.idx]=i(o[t.idx],t)}),this):"object"===h?(o instanceof l?p(u,function(e,t){o[t.cache]&&(c[t.cache]=o[t.cache].slice())}):p(u,function(t,n){var r=n.cache;p(n.props,function(e,t){if(!c[r]&&n.to){if("alpha"===e||null==o[e])return;c[r]=n.to(c._rgba)}c[r][t.idx]=i(o[e],t,!0)}),c[r]&&e.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,n.from&&(c._rgba=n.from(c[r])))}),this):void 0},is:function(e){var t=l(e),i=!0,n=this;return p(u,function(e,o){var r,s=t[o.cache];return s&&(r=n[o.cache]||o.to&&o.to(n._rgba)||[],p(o.props,function(e,t){return null!=s[t.idx]?i=s[t.idx]===r[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return p(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=l(e),o=n._space(),r=u[o],s=0===this.alpha()?l("transparent"):this,a=s[r.cache]||r.to(s._rgba),c=a.slice();return n=n[r.cache],p(r.props,function(e,o){var r=o.idx,s=a[r],l=n[r],u=d[o.type]||{};null!==l&&(null===s?c[r]=l:(u.mod&&(l-s>u.mod/2?s+=u.mod:s-l>u.mod/2&&(s-=u.mod)),c[r]=i((l-s)*t+s,o)))}),this[o](c)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=l(t)._rgba;return l(e.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,r=e[2]/255,s=e[3],a=Math.max(n,o,r),l=Math.min(n,o,r),u=a-l,d=a+l,c=.5*d;return t=l===a?0:n===a?60*(o-r)/u+360:o===a?60*(r-n)/u+120:60*(n-o)/u+240,i=0===u?0:.5>=c?u/d:u/(2-d),[Math.round(t)%360,i,c,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,t+1/3)),Math.round(255*o(a,s,t)),Math.round(255*o(a,s,t-1/3)),r]},p(u,function(n,o){var r=o.props,a=o.cache,u=o.to,d=o.from;l.fn[n]=function(n){if(u&&!this[a]&&(this[a]=u(this._rgba)),n===t)return this[a].slice();var o,s=e.type(n),c="array"===s||"object"===s?n:arguments,h=this[a].slice();return p(r,function(e,t){var n=c["object"===s?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),d?(o=l(d(h)),o[a]=h,o):l(h)},p(r,function(t,i){l.fn[t]||(l.fn[t]=function(o){var r,a=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),d=u[i.idx];return"undefined"===a?d:("function"===a&&(o=o.call(this,d),a=e.type(o)),null==o&&i.empty?this:("string"===a&&(r=s.exec(o))&&(o=d+parseFloat(r[2])*("+"===r[1]?1:-1)),u[i.idx]=o,this[l](u)))})})}),l.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,o){var r,s,a="";if("transparent"!==o&&("string"!==e.type(o)||(r=n(o)))){if(o=l(r||o),!c.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[i]=o}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(e){function t(){try{var i=this===document?e(this):e(this).contents()}catch(e){return!1}i.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),i.find("iframe").on("load",t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var i=e(this).is("iframe")?e(this).contents().find("body"):e(this),n=i.offset();t=n.left<=e.mlp.x&&n.left+i.outerWidth()>e.mlp.x&&n.top<=e.mlp.y&&n.top+i.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");if(!e)var e={};var i=new UniteGalleryMain;return i.run(t,e),new UG_API(i)},void 0!==g_ugFunctions?g_ugFunctions.registerTheme("tilesgrid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tilesgrid")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,i=navigator.userAgent,n=/iphone/i.test(i),o=/chrome/i.test(i),r=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,s){var a,l,u,d,c,h,p,f;if(!i&&this.length>0){var g=(a=e(this[0])).data(e.mask.dataName);return g?g():void 0}return s=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},s),l=e.mask.definitions,u=[],d=p=i.length,c=null,e.each(i.split(""),function(e,t){"?"==t?(p--,d=e):l[t]?(u.push(new RegExp(l[t])),null===c&&(c=u.length-1),d>e&&(h=u.length-1)):u.push(null)}),this.trigger("unmask").each(function(){function a(){if(s.completed){for(var e=c;h>=e;e++)if(u[e]&&I[e]===g(e))return;s.completed.call(C)}}function g(e){return s.placeholder.charAt(e<s.placeholder.length?e:0)}function m(e){for(;++e<p&&!u[e];);return e}function _(e){for(;--e>=0&&!u[e];);return e}function v(e,t){var i,n;if(!(0>e)){for(i=e,n=m(t);p>i;i++)if(u[i]){if(!(p>n&&u[i].test(I[n])))break;I[i]=I[n],I[n]=g(n),n=m(n)}x(),C.caret(Math.max(c,e))}}function b(e){var t,i,n,o;for(t=e,i=g(e);p>t;t++)if(u[t]){if(n=m(t),o=I[t],I[t]=i,!(p>n&&u[n].test(o)))break;i=o}}function y(){T(),C.val()!=S&&C.change()}function w(e,t){var i;for(i=e;t>i&&p>i;i++)u[i]&&(I[i]=g(i))}function x(){C.val(I.join(""))}function T(e){var t,i,n,o=C.val(),r=-1;for(t=0,n=0;p>t;t++)if(u[t]){for(I[t]=g(t);n++<o.length;)if(i=o.charAt(n-1),u[t].test(i)){I[t]=i,r=t;break}if(n>o.length){w(t+1,p);break}}else I[t]===o.charAt(n)&&n++,d>t&&(r=t);return e?x():d>r+1?s.autoclear||I.join("")===E?(C.val()&&C.val(""),w(0,p)):x():(x(),C.val(C.val().substring(0,r+1))),d?t:c}var C=e(this),I=e.map(i.split(""),function(e,t){return"?"!=e?l[e]?g(t):e:void 0}),E=I.join(""),S=C.val();C.data(e.mask.dataName,function(){return e.map(I,function(e,t){return u[t]&&e!=g(t)?e:null}).join("")}),C.one("unmask",function(){C.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!C.prop("readonly")){clearTimeout(t);var e;S=C.val(),e=T(),t=setTimeout(function(){C.get(0)===document.activeElement&&(x(),e==i.replace("?","").length?C.caret(0,e):C.caret(e))},10)}}).on("blur.mask",y).on("keydown.mask",function(e){if(!C.prop("readonly")){var t,i,o,r=e.which||e.keyCode;f=C.val(),8===r||46===r||n&&127===r?(t=C.caret(),i=t.begin,(o=t.end)-i==0&&(i=46!==r?_(i):o=m(i-1),o=46===r?m(o):o),w(i,o),v(i,o-1),e.preventDefault()):13===r?y.call(this,e):27===r&&(C.val(S),C.caret(0,T()),e.preventDefault())}}).on("keypress.mask",function(t){if(!C.prop("readonly")){var i,n,o,s=t.which||t.keyCode,l=C.caret();t.ctrlKey||t.altKey||t.metaKey||32>s||!s||13===s||(l.end-l.begin!=0&&(w(l.begin,l.end),v(l.begin,l.end-1)),i=m(l.begin-1),p>i&&(n=String.fromCharCode(s),u[i].test(n))&&(b(i),I[i]=n,x(),o=m(i),r?setTimeout(function(){e.proxy(e.fn.caret,C,o)()},0):C.caret(o),l.begin<=h&&a()),t.preventDefault())}}).on("input.mask paste.mask",function(){C.prop("readonly")||setTimeout(function(){var e=T(!0);C.caret(e),a()},0)}),o&&r&&C.off("input.mask").on("input.mask",function(){var e=C.val(),t=C.caret();if(f&&f.length&&f.length>e.length){for(T(!0);t.begin>0&&!u[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<c&&!u[t.begin];)t.begin++;C.caret(t.begin,t.begin)}else{for(T(!0);t.begin<p&&!u[t.begin];)t.begin++;C.caret(t.begin,t.begin)}a()}),T()})}})}),$(document).ready(function(){$(".preloader").delay(1e3).fadeOut("slow")}),$(function(){function e(){$(".carousel-services-item").each(function(){var e=$(this),t=e.find(".carousel-services-content").outerHeight();e.find(".carousel-services-img").css("min-height",t)})}function t(){$(".carousel-services-content").equalHeights()}$("#my-menu").mmenu({offCanvas:{position:"left"},pageScroll:{pageScroll:"true"},navbar:{title:'<img src="img/logo.png" alt="Дизайн интерьеров">'},extensions:["theme-white","pagedim-black","fx-menu-slide","fx-listitems-fade"]});var i=$("#my-menu").data("mmenu");i.bind("open:finish",function(){$(".hamburger").addClass("is-active"),$(".flex-center").addClass("header-hide")}),i.bind("close:finish",function(){$(".hamburger").removeClass("is-active"),$(".flex-center").removeClass("header-hide")}),$(".carousel-services").on("initialized.owl.carousel",function(){setTimeout(function(){e()},100)}),$(".carousel-services").owlCarousel({loop:!0,nav:!0,dots:!1,smartSpeed:700,navText:['<i class="fa fa-angle-double-left"></i>','<i class="fa fa-angle-double-right"></i>'],responsiveClass:!0,responsive:{0:{items:1},800:{items:2},1100:{items:3}}}),window.onresize=function(){t(),e()},t(),$("select").selectize(),$(".reviews").owlCarousel({loop:!0,items:1,smartSpeed:700,nav:!1,autoHeight:!0}),$(".partners").owlCarousel({loop:!0,nav:!0,dots:!1,smartSpeed:700,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],responsiveClass:!0,responsive:{0:{items:1},768:{items:2},992:{items:3},1200:{items:4}}}),$("#form-callback").submit(function(){var e=$(this);return $.ajax({type:"POST",url:"mail.php",data:e.serialize()}).done(function(){$(e).find(".success").addClass("active").css("display","flex").hide().fadeIn(),setTimeout(function(){$(e).find(".success").removeClass("active").fadeOut(),e.trigger("reset")},3e3)}),!1}),$("#modal-callback").submit(function(){var e=$(this);return $.ajax({type:"POST",url:"mail.php",data:e.serialize()}).done(function(){$(e).find(".success").addClass("active").css("display","flex").hide().fadeIn(),setTimeout(function(){$(e).find(".success").removeClass("active").fadeOut(),e.trigger("reset")},3e3)}),!1}),$(function(e){e('[name="Телефон"]').mask("+99(999) 999-9999")}),$("#gallery").unitegallery({gallery_theme:"tilesgrid",gallery_width:"100%",grid_num_rows:3,tile_enable_textpanel:!0,tile_textpanel_title_text_align:"center",tile_width:302,tile_height:200,grid_space_between_cols:1,grid_space_between_rows:1,tile_enable_border:!1,tile_enable_shadow:!1,tile_enable_image_effect:!0,tile_enable_overlay:!1,tile_enable_icons:!1,grid_padding:0});var n=["img/bg-header.jpg","img/bg-header-2.jpg","img/bg-header-3.jpg","img/bg-header-4.jpg","img/bg-header-5.jpg"],o=1;setInterval(function(){o>n.length-1?($(".site-header").animate({opacity:".85"},500,function(){o=1,$(".site-header").css({"background-image":"url("+n[0]+")"})}),$(".site-header").animate({opacity:"1"},500)):($(".site-header").animate({opacity:".85"},500,function(){$(".site-header").css({"background-image":"url("+n[o]+")"}),o++}),$(".site-header").animate({opacity:"1"},500))},1e4),$(window).scroll(function(){$(this).scrollTop()>$(this).height()?$(".top").addClass("active"):$(".top").removeClass("active")}),$(".top").click(function(){$("html, body").stop().animate({scrollTop:0},"slow","swing")})});